/*!
 * Globalize
 *
 * http://github.com/jquery/globalize
 *
 * Copyright Software Freedom Conservancy, Inc.
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 */
(function(z,y){var a,x,t,s,w,c,j,r,k,v,p,e,b,q,f,h,m,n,u,l,g,i,o,d;a=function(b){return new a.prototype.init(b)};if(typeof require!=="undefined"&&typeof exports!=="undefined"&&typeof module!=="undefined")module.exports=a;else z.Globalize=a;a.cultures={};a.prototype={constructor:a,init:function(b){this.cultures=a.cultures;this.cultureSelector=b;return this}};a.prototype.init.prototype=a.prototype;a.cultures["default"]={name:"en",englishName:"English",nativeName:"English",isRTL:false,language:"en",numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",NaN:"NaN",negativeInfinity:"-Infinity",positiveInfinity:"Infinity",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{name:"Gregorian_USEnglish","/":"/",":":":",firstDay:0,days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],eras:[{name:"A.D.",start:null,offset:0}],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}},messages:{}};a.cultures["default"].calendar=a.cultures["default"].calendars.standard;a.cultures.en=a.cultures["default"];a.cultureSelector="en";x=/^0x[a-f0-9]+$/i;t=/^[+-]?infinity$/i;s=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/;w=/^\s+|\s+$/g;c=function(a,c){if(a.indexOf)return a.indexOf(c);for(var b=0,d=a.length;b<d;b++)if(a[b]===c)return b;return-1};j=function(b,a){return b.substr(b.length-a.length)===a};r=function(i){var g,d,c,b,f,h,a=arguments[0]||{},e=1,j=arguments.length,i=false;if(typeof a==="boolean"){i=a;a=arguments[1]||{};e=2}if(typeof a!=="object"&&!v(a))a={};for(;e<j;e++)if((g=arguments[e])!=null)for(d in g){c=a[d];b=g[d];if(a===b)continue;if(i&&b&&(p(b)||(f=k(b)))){if(f){f=false;h=c&&k(c)?c:[]}else h=c&&p(c)?c:{};a[d]=r(i,h,b)}else if(b!==y)a[d]=b}return a};k=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};v=function(a){return Object.prototype.toString.call(a)==="[object Function]"};p=function(a){return Object.prototype.toString.call(a)==="[object Object]"};e=function(b,a){return b.indexOf(a)===0};b=function(a){return(a+"").replace(w,"")};q=function(a){return isNaN(a)?NaN:a|0};f=function(a,c,d){for(var b=a.length;b<c;b+=1)a=d?"0"+a:a+"0";return a};h=function(e,b){for(var d=0,a=false,c=0,g=e.length;c<g;c++){var f=e.charAt(c);switch(f){case"'":if(a)b.push("'");else d++;a=false;break;case"\\":a&&b.push("\\");a=!a;break;default:b.push(f);a=false}}return d};m=function(e,a){a=a||"F";var b,d=e.patterns,c=a.length;if(c===1){b=d[a];if(!b)throw"Invalid date format string '"+a+"'.";a=b}else if(c===2&&a.charAt(0)==="%")a=a.charAt(1);return a};n=function(b,f,r){var c=r.calendar,s=c.convert;if(!f||!f.length||f==="i"){var a;if(r&&r.name.length)if(s)a=n(b,c.patterns.F,r);else{var z=new Date(b.getTime()),H=g(b,c.eras);z.setFullYear(i(b,c,H));a=z.toLocaleString()}else a=b.toString();return a}var A=c.eras,y=f==="s";f=m(c,f);a=[];var j,G=["0","00","000"],p,w,B=/([^d]|^)(d|dd)([^d]|$)/g,x=0,v=l(),o;function e(d,a){var b,c=d+"";if(a>1&&c.length<a){b=G[a-2]+c;return b.substr(b.length-a,a)}else b=c;return b}function D(){if(p||w)return p;p=B.test(f);w=true;return p}function u(a,b){if(o)return o[b];switch(b){case 0:return a.getFullYear();case 1:return a.getMonth();case 2:return a.getDate()}}if(!y&&s)o=s.fromGregorian(b);for(;;){var E=v.lastIndex,q=v.exec(f),C=f.slice(E,q?q.index:f.length);x+=h(C,a);if(!q)break;if(x%2){a.push(q[0]);continue}var t=q[0],d=t.length;switch(t){case"ddd":case"dddd":var F=d===3?c.days.namesAbbr:c.days.names;a.push(F[b.getDay()]);break;case"d":case"dd":p=true;a.push(e(u(b,2),d));break;case"MMM":case"MMMM":var k=u(b,1);a.push(c.monthsGenitive&&D()?c.monthsGenitive[d===3?"namesAbbr":"names"][k]:c.months[d===3?"namesAbbr":"names"][k]);break;case"M":case"MM":a.push(e(u(b,1)+1,d));break;case"y":case"yy":case"yyyy":k=o?o[0]:i(b,c,g(b,A),y);if(d<4)k=k%100;a.push(e(k,d));break;case"h":case"hh":j=b.getHours()%12;if(j===0)j=12;a.push(e(j,d));break;case"H":case"HH":a.push(e(b.getHours(),d));break;case"m":case"mm":a.push(e(b.getMinutes(),d));break;case"s":case"ss":a.push(e(b.getSeconds(),d));break;case"t":case"tt":k=b.getHours()<12?c.AM?c.AM[0]:" ":c.PM?c.PM[0]:" ";a.push(d===1?k.charAt(0):k);break;case"f":case"ff":case"fff":a.push(e(b.getMilliseconds(),3).substr(0,d));break;case"z":case"zz":j=b.getTimezoneOffset()/60;a.push((j<=0?"+":"-")+e(Math.floor(Math.abs(j)),d));break;case"zzz":j=b.getTimezoneOffset()/60;a.push((j<=0?"+":"-")+e(Math.floor(Math.abs(j)),2)+":"+e(Math.abs(b.getTimezoneOffset()%60),2));break;case"g":case"gg":c.eras&&a.push(c.eras[g(b,A)].name);break;case"/":a.push(c["/"]);break;default:throw"Invalid date format pattern '"+t+"'.";}}return a.join("")};(function(){var a;a=function(j,h,l){var m=l.groupSizes,i=m[0],k=1,p=Math.pow(10,h),n=Math.round(j*p)/p;if(!isFinite(n))n=j;j=n;var b=j+"",a="",e=b.split(/e/i),c=e.length>1?parseInt(e[1],10):0;b=e[0];e=b.split(".");b=e[0];a=e.length>1?e[1]:"";var q;if(c>0){a=f(a,c,false);b+=a.slice(0,c);a=a.substr(c)}else if(c<0){c=-c;b=f(b,c+1);a=b.slice(-c,b.length)+a;b=b.slice(0,-c)}if(h>0)a=l["."]+(a.length>h?a.slice(0,h):f(a,h));else a="";var d=b.length-1,o=l[","],g="";while(d>=0){if(i===0||i>d)return b.slice(0,d+1)+(g.length?o+g+a:a);g=b.slice(d-i+1,d+1)+(g.length?o+g:"");d-=i;if(k<m.length){i=m[k];k++}}return b.slice(0,d+1)+o+g+a};u=function(d,e,j){if(!isFinite(d))return d===Infinity?j.numberFormat.positiveInfinity:d===-Infinity?j.numberFormat.negativeInfinity:j.numberFormat.NaN;if(!e||e==="i")return j.name.length?d.toLocaleString():d.toString();e=e||"D";var i=j.numberFormat,b=Math.abs(d),g=-1,k;if(e.length>1)g=parseInt(e.slice(1),10);var m=e.charAt(0).toUpperCase(),c;switch(m){case"D":k="n";b=q(b);if(g!==-1)b=f(""+b,g,true);if(d<0)b="-"+b;break;case"N":c=i;case"C":c=c||i.currency;case"P":c=c||i.percent;k=d<0?c.pattern[0]:c.pattern[1]||"n";if(g===-1)g=c.decimals;b=a(b*(m==="P"?100:1),g,c);break;default:throw"Bad number format specifier: "+m;}for(var n=/n|\$|-|%/g,h="";;){var o=n.lastIndex,l=n.exec(k);h+=k.slice(o,l?l.index:k.length);if(!l)break;switch(l[0]){case"n":h+=b;break;case"$":h+=i.currency.symbol;break;case"-":if(/[1-9]/.test(b))h+=i["-"];break;case"%":h+=i.percent.symbol}}return h}})();l=function(){return/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g};g=function(e,c){if(!c)return 0;for(var b,d=e.getTime(),a=0,f=c.length;a<f;a++){b=c[a].start;if(b===null||d>=b)return a}return 0};i=function(d,b,e,c){var a=d.getFullYear();if(!c&&b.eras)a-=b.eras[e].offset;return a};(function(){var p,n,k,j,a,f,d;p=function(d,b){if(b<100){var e=new Date,f=g(e),c=i(e,d,f),a=d.twoDigitYearMax;a=typeof a==="string"?(new Date).getFullYear()%100+parseInt(a,10):a;b+=c-c%100;if(b>a)b-=100}return b};n=function(h,b,i){var e,g=h.days,a=h._upperDays;if(!a)h._upperDays=a=[d(g.names),d(g.namesAbbr),d(g.namesShort)];b=f(b);if(i){e=c(a[1],b);if(e===-1)e=c(a[2],b)}else e=c(a[0],b);return e};k=function(a,e,k){var j=a.months,i=a.monthsGenitive||a.months,b=a._upperMonths,g=a._upperMonthsGen;if(!b){a._upperMonths=b=[d(j.names),d(j.namesAbbr)];a._upperMonthsGen=g=[d(i.names),d(i.namesAbbr)]}e=f(e);var h=c(k?b[1]:b[0],e);if(h<0)h=c(k?g[1]:g[0],e);return h};j=function(d,g){var e=d._parseRegExp;if(!e)d._parseRegExp=e={};else{var o=e[g];if(o)return o}var f=m(d,g).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),b=["^"],p=[],i=0,n=0,k=l(),c;while((c=k.exec(f))!==null){var s=f.slice(i,c.index);i=k.lastIndex;n+=h(s,b);if(n%2){b.push(c[0]);continue}var j=c[0],t=j.length,a;switch(j){case"dddd":case"ddd":case"MMMM":case"MMM":case"gg":case"g":a="(\\D+)";break;case"tt":case"t":a="(\\D*)";break;case"yyyy":case"fff":case"ff":case"f":a="(\\d{"+t+"})";break;case"dd":case"d":case"MM":case"M":case"yy":case"y":case"HH":case"H":case"hh":case"h":case"mm":case"m":case"ss":case"s":a="(\\d\\d?)";break;case"zzz":a="([+-]?\\d\\d?:\\d{2})";break;case"zz":case"z":a="([+-]?\\d\\d?)";break;case"/":a="(\\"+d["/"]+")";break;default:throw"Invalid date format pattern '"+j+"'.";}a&&b.push(a);p.push(c[0])}h(f.slice(i),b);b.push("$");var r=b.join("").replace(/\s+/g,"\\s+"),q={regExp:r,groups:p};return e[g]=q};a=function(a,c,b){return a<c||a>b};f=function(a){return a.split("\u00a0").join(" ").toUpperCase()};d=function(c){for(var b=[],a=0,d=c.length;a<d;a++)b[a]=f(c[a]);return b};o=function(A,M,L){A=b(A);var c=L.calendar,H=j(c,M),K=new RegExp(H.regExp).exec(A);if(K===null)return null;for(var J=H.groups,C=null,m=null,i=null,l=null,u=null,h=0,o,D=0,E=0,B=0,q=null,z=false,w=0,N=J.length;w<N;w++){var d=K[w+1];if(d){var I=J[w],r=I.length,g=parseInt(d,10);switch(I){case"dd":case"d":l=g;if(a(l,1,31))return null;break;case"MMM":case"MMMM":i=k(c,d,r===3);if(a(i,0,11))return null;break;case"M":case"MM":i=g-1;if(a(i,0,11))return null;break;case"y":case"yy":case"yyyy":m=r<4?p(c,g):g;if(a(m,0,9999))return null;break;case"h":case"hh":h=g;if(h===12)h=0;if(a(h,0,11))return null;break;case"H":case"HH":h=g;if(a(h,0,23))return null;break;case"m":case"mm":D=g;if(a(D,0,59))return null;break;case"s":case"ss":E=g;if(a(E,0,59))return null;break;case"tt":case"t":z=c.PM&&(d===c.PM[0]||d===c.PM[1]||d===c.PM[2]);if(!z&&(!c.AM||d!==c.AM[0]&&d!==c.AM[1]&&d!==c.AM[2]))return null;break;case"f":case"ff":case"fff":B=g*Math.pow(10,3-r);if(a(B,0,999))return null;break;case"ddd":case"dddd":u=n(c,d,r===3);if(a(u,0,6))return null;break;case"zzz":var y=d.split(/:/);if(y.length!==2)return null;o=parseInt(y[0],10);if(a(o,-12,13))return null;var x=parseInt(y[1],10);if(a(x,0,59))return null;q=o*60+(e(d,"-")?-x:x);break;case"z":case"zz":o=g;if(a(o,-12,13))return null;q=o*60;break;case"g":case"gg":var t=d;if(!t||!c.eras)return null;t=b(t.toLowerCase());for(var v=0,O=c.eras.length;v<O;v++)if(t===c.eras[v].name.toLowerCase()){C=v;break}if(C===null)return null}}}var f=new Date,G,s=c.convert;G=s?s.fromGregorian(f)[0]:f.getFullYear();if(m===null)m=G;else if(c.eras)m+=c.eras[C||0].offset;if(i===null)i=0;if(l===null)l=1;if(s){f=s.toGregorian(m,i,l);if(f===null)return null}else{f.setFullYear(m,i,l);if(f.getDate()!==l)return null;if(u!==null&&f.getDay()!==u)return null}if(z&&h<12)h+=12;f.setHours(h,D,E,B);if(q!==null){var F=f.getMinutes()-(q+f.getTimezoneOffset());f.setHours(f.getHours()+parseInt(F/60,10),F%60)}return f}})();d=function(a,f,g){var b=f["-"],c=f["+"],d;switch(g){case"n -":b=" "+b;c=" "+c;case"n-":if(j(a,b))d=["-",a.substr(0,a.length-b.length)];else if(j(a,c))d=["+",a.substr(0,a.length-c.length)];break;case"- n":b+=" ";c+=" ";case"-n":if(e(a,b))d=["-",a.substr(b.length)];else if(e(a,c))d=["+",a.substr(c.length)];break;case"(n)":if(e(a,"(")&&j(a,")"))d=["-",a.substr(1,a.length-2)]}return d||["",a]};a.prototype.findClosestCulture=function(b){return a.findClosestCulture.call(this,b)};a.prototype.format=function(d,c,b){return a.format.call(this,d,c,b)};a.prototype.localize=function(c,b){return a.localize.call(this,c,b)};a.prototype.parseInt=function(d,c,b){return a.parseInt.call(this,d,c,b)};a.prototype.parseFloat=function(d,c,b){return a.parseFloat.call(this,d,c,b)};a.prototype.culture=function(b){return a.culture.call(this,b)};a.addCultureInfo=function(a,c,e){var b={},d=false;if(typeof a!=="string"){e=a;a=this.culture().name;b=this.cultures[a]}else if(typeof c!=="string"){e=c;d=this.cultures[a]==null;b=this.cultures[a]||this.cultures["default"]}else{d=true;b=this.cultures[c]}this.cultures[a]=r(true,{},b,e);if(d)this.cultures[a].calendar=this.cultures[a].calendars.standard};a.findClosestCulture=function(a){var e;if(!a)return this.cultures[this.cultureSelector]||this.cultures["default"];if(typeof a==="string")a=a.split(",");if(k(a)){for(var d,h=this.cultures,n=a,i=n.length,g=[],c=0;c<i;c++){a=b(n[c]);var f,j=a.split(";");d=b(j[0]);if(j.length===1)f=1;else{a=b(j[1]);if(a.indexOf("q=")===0){a=a.substr(2);f=parseFloat(a);f=isNaN(f)?0:f}else f=1}g.push({lang:d,pri:f})}g.sort(function(a,b){return a.pri<b.pri?1:-1});for(c=0;c<i;c++){d=g[c].lang;e=h[d];if(e)return e}for(c=0;c<i;c++){d=g[c].lang;do{var m=d.lastIndexOf("-");if(m===-1)break;d=d.substr(0,m);e=h[d];if(e)return e}while(1)}for(c=0;c<i;c++){d=g[c].lang;for(var o in h){var l=h[o];if(l.language==d)return l}}}else if(typeof a==="object")return a;return e||null};a.format=function(a,b,c){culture=this.findClosestCulture(c);if(a instanceof Date)a=n(a,b,culture);else if(typeof a==="number")a=u(a,b,culture);return a};a.localize=function(a,b){return this.findClosestCulture(b).messages[a]||this.cultures["default"].messages[a]};a.parseDate=function(g,a,b){b=this.findClosestCulture(b);var c,h,d;if(a){if(typeof a==="string")a=[a];if(a.length)for(var e=0,i=a.length;e<i;e++){var f=a[e];if(f){c=o(g,f,b);if(c)break}}}else{d=b.calendar.patterns;for(h in d){c=o(g,d[h],b);if(c)break}}return c||null};a.parseInt=function(d,c,b){return q(a.parseFloat(d,c,b))};a.parseFloat=function(a,n,u){if(typeof n!=="number"){u=n;n=10}var k=this.findClosestCulture(u),o=NaN,c=k.numberFormat;if(a.indexOf(k.numberFormat.currency.symbol)>-1){a=a.replace(k.numberFormat.currency.symbol,"");a=a.replace(k.numberFormat.currency["."],k.numberFormat["."])}a=b(a);if(t.test(a))o=parseFloat(a);else if(!n&&x.test(a))o=parseInt(a,16);else{var e=d(a,c,c.pattern[0]),g=e[0],h=e[1];if(g===""&&c.pattern[0]!=="(n)"){e=d(a,c,"(n)");g=e[0];h=e[1]}if(g===""&&c.pattern[0]!=="-n"){e=d(a,c,"-n");g=e[0];h=e[1]}g=g||"+";var l,i,j=h.indexOf("e");if(j<0)j=h.indexOf("E");if(j<0){i=h;l=null}else{i=h.substr(0,j);l=h.substr(j+1)}var f,m,y=c["."],q=i.indexOf(y);if(q<0){f=i;m=null}else{f=i.substr(0,q);m=i.substr(q+y.length)}var r=c[","];f=f.split(r).join("");var v=r.replace(/\u00A0/g," ");if(r!==v)f=f.split(v).join("");var p=g+f;if(m!==null)p+="."+m;if(l!==null){var w=d(l,c,"-n");p+="e"+(w[0]||"+")+w[1]}if(s.test(p))o=parseFloat(p)}return o};a.culture=function(a){if(typeof a!=="undefined")this.cultureSelector=a;return this.findClosestCulture(a)||this.culture["default"]}})(this);
/*! Copyright (c) 2013 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Version 3.0.0
 */

(function (factory) {
    if (typeof define === 'function' && define.amd) {
        // AMD. Register as an anonymous module.
        define(['jquery'], factory);
    } else {
        // Browser globals
        factory(jQuery);
    }
}(function ($) {
    $.fn.bgiframe = function (s) {
        s = $.extend({
            top: 'auto', // auto == borderTopWidth
            left: 'auto', // auto == borderLeftWidth
            width: 'auto', // auto == offsetWidth
            height: 'auto', // auto == offsetHeight
            opacity: true,
            src: 'javascript:false;',
            conditional: /MSIE 6.0/.test(navigator.userAgent) // expresion or function. return false to prevent iframe insertion
        }, s);

        // wrap conditional in a function if it isn't already
        if (!$.isFunction(s.conditional)) {
            var condition = s.conditional;
            s.conditional = function () { return condition; };
        }

        var $iframe = $('<iframe class="bgiframe"frameborder="0"tabindex="-1"src="' + s.src + '"' +
                           'style="display:block;position:absolute;z-index:-1;"/>');

        return this.each(function () {
            var $this = $(this);
            if (s.conditional(this) === false) { return; }
            var existing = $this.children('iframe.bgiframe');
            var $el = existing.length === 0 ? $iframe.clone() : existing;
            $el.css({
                'top': s.top == 'auto' ?
                    ((parseInt($this.css('borderTopWidth'), 10) || 0) * -1) + 'px' : prop(s.top),
                'left': s.left == 'auto' ?
                    ((parseInt($this.css('borderLeftWidth'), 10) || 0) * -1) + 'px' : prop(s.left),
                'width': s.width == 'auto' ? (this.offsetWidth + 'px') : prop(s.width),
                'height': s.height == 'auto' ? (this.offsetHeight + 'px') : prop(s.height),
                'opacity': s.opacity === true ? 0 : undefined
            });

            if (existing.length === 0) {
                $this.prepend($el);
            }
        });
    };

    // old alias
    $.fn.bgIframe = $.fn.bgiframe;

    function prop(n) {
        return n && n.constructor === Number ? n + 'px' : n;
    }

}));;
/*! Copyright (c) 2011 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.6
 * 
 * Requires: 1.2.2+
 */
(function(a){function d(b){var c=b||window.event,d=[].slice.call(arguments,1),e=0,f=!0,g=0,h=0;return b=a.event.fix(c),b.type="mousewheel",c.wheelDelta&&(e=c.wheelDelta/120),c.detail&&(e=-c.detail/3),h=e,c.axis!==undefined&&c.axis===c.HORIZONTAL_AXIS&&(h=0,g=-1*e),c.wheelDeltaY!==undefined&&(h=c.wheelDeltaY/120),c.wheelDeltaX!==undefined&&(g=-1*c.wheelDeltaX/120),d.unshift(b,e,g,h),(a.event.dispatch||a.event.handle).apply(this,d)}var b=["DOMMouseScroll","mousewheel"];if(a.event.fixHooks)for(var c=b.length;c;)a.event.fixHooks[b[--c]]=a.event.mouseHooks;a.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var a=b.length;a;)this.addEventListener(b[--a],d,!1);else this.onmousewheel=d},teardown:function(){if(this.removeEventListener)for(var a=b.length;a;)this.removeEventListener(b[--a],d,!1);else this.onmousewheel=null}},a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})(jQuery)
;
/**
 * Cookie plugin
 *
 * Copyright (c) 2006 Klaus Hartl (stilbuero.de)
 * Dual licensed under the MIT and GPL licenses:
 * http://www.opensource.org/licenses/mit-license.php
 * http://www.gnu.org/licenses/gpl.html
 *
 */

/**
 * Create a cookie with the given name and value and other optional parameters.
 *
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Set the value of a cookie.
 * @example $.cookie('the_cookie', 'the_value', { expires: 7, path: '/', domain: 'jquery.com', secure: true });
 * @desc Create a cookie with all available options.
 * @example $.cookie('the_cookie', 'the_value');
 * @desc Create a session cookie.
 * @example $.cookie('the_cookie', null);
 * @desc Delete a cookie by passing null as value. Keep in mind that you have to use the same path and domain
 *       used when the cookie was set.
 *
 * @param String name The name of the cookie.
 * @param String value The value of the cookie.
 * @param Object options An object literal containing key/value pairs to provide optional cookie attributes.
 * @option Number|Date expires Either an integer specifying the expiration date from now on in days or a Date object.
 *                             If a negative value is specified (e.g. a date in the past), the cookie will be deleted.
 *                             If set to null or omitted, the cookie will be a session cookie and will not be retained
 *                             when the the browser exits.
 * @option String path The value of the path atribute of the cookie (default: path of page that created the cookie).
 * @option String domain The value of the domain attribute of the cookie (default: domain of page that created the cookie).
 * @option Boolean secure If true, the secure attribute of the cookie will be set and the cookie transmission will
 *                        require a secure protocol (like HTTPS).
 * @type undefined
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */

/**
 * Get the value of a cookie with the given name.
 *
 * @example $.cookie('the_cookie');
 * @desc Get the value of a cookie.
 *
 * @param String name The name of the cookie.
 * @return The value of the cookie.
 * @type String
 *
 * @name $.cookie
 * @cat Plugins/Cookie
 * @author Klaus Hartl/klaus.hartl@stilbuero.de
 */
jQuery.cookie = function(name, value, options) {
    if (typeof value != 'undefined') { // name and value given, set cookie
        options = options || {};
        if (value === null) {
            value = '';
            options.expires = -1;
        }
        var expires = '';
        if (options.expires && (typeof options.expires == 'number' || options.expires.toUTCString)) {
            var date;
            if (typeof options.expires == 'number') {
                date = new Date();
                date.setTime(date.getTime() + (options.expires * 24 * 60 * 60 * 1000));
            } else {
                date = options.expires;
            }
            expires = '; expires=' + date.toUTCString(); // use expires attribute, max-age is not supported by IE
        }
        // CAUTION: Needed to parenthesize options.path and options.domain
        // in the following expressions, otherwise they evaluate to undefined
        // in the packed version for some reason...
        var path = options.path ? '; path=' + (options.path) : '';
        var domain = options.domain ? '; domain=' + (options.domain) : '';
        var secure = options.secure ? '; secure' : '';
        document.cookie = [name, '=', encodeURIComponent(value), expires, path, domain, secure].join('');
    } else { // only name given, get cookie
        var cookieValue = null;
        if (document.cookie && document.cookie != '') {
            var cookies = document.cookie.split(';');
            for (var i = 0; i < cookies.length; i++) {
                var cookie = jQuery.trim(cookies[i]);
                // Does this cookie string begin with the name we want?
                if (cookie.substring(0, name.length + 1) == (name + '=')) {
                    cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                    break;
                }
            }
        }
        return cookieValue;
    }
};;
// ┌─────────────────────────────────────────────────────────────────────┐ \\
// │ Raphaël 2.0.1 - JavaScript Vector Library                           │ \\
// ├─────────────────────────────────────────────────────────────────────┤ \\
// │ Copyright (c) 2008-2011 Dmitry Baranovskiy (http://raphaeljs.com)   │ \\
// │ Copyright (c) 2008-2011 Sencha Labs (http://sencha.com)             │ \\
// │ Licensed under the MIT (http://raphaeljs.com/license.html) license. │ \\
// └─────────────────────────────────────────────────────────────────────┘ \\
(function (a) { var b = "0.4.0", c = "hasOwnProperty", d = /[\.\/]/, e = "*", f = function () { }, g = function (a, b) { return a - b }, h, i, j = { n: {} }, k = function (a, b) { var c = j, d = i, e = Array.prototype.slice.call(arguments, 2), f = k.listeners(a), l = 0, m = !1, n, o = [], p = {}, q = [], r = []; h = a, i = 0; for (var s = 0, t = f.length; s < t; s++) "zIndex" in f[s] && (o.push(f[s].zIndex), f[s].zIndex < 0 && (p[f[s].zIndex] = f[s])); o.sort(g); while (o[l] < 0) { n = p[o[l++]], q.push(n.apply(b, e)); if (i) { i = d; return q } } for (s = 0; s < t; s++) { n = f[s]; if ("zIndex" in n) if (n.zIndex == o[l]) { q.push(n.apply(b, e)); if (i) { i = d; return q } do { l++, n = p[o[l]], n && q.push(n.apply(b, e)); if (i) { i = d; return q } } while (n) } else p[n.zIndex] = n; else { q.push(n.apply(b, e)); if (i) { i = d; return q } } } i = d; return q.length ? q : null }; k.listeners = function (a) { var b = a.split(d), c = j, f, g, h, i, k, l, m, n, o = [c], p = []; for (i = 0, k = b.length; i < k; i++) { n = []; for (l = 0, m = o.length; l < m; l++) { c = o[l].n, g = [c[b[i]], c[e]], h = 2; while (h--) f = g[h], f && (n.push(f), p = p.concat(f.f || [])) } o = n } return p }, k.on = function (a, b) { var c = a.split(d), e = j; for (var g = 0, h = c.length; g < h; g++) e = e.n, !e[c[g]] && (e[c[g]] = { n: {} }), e = e[c[g]]; e.f = e.f || []; for (g = 0, h = e.f.length; g < h; g++) if (e.f[g] == b) return f; e.f.push(b); return function (a) { +a == +a && (b.zIndex = +a) } }, k.stop = function () { i = 1 }, k.nt = function (a) { if (a) return (new RegExp("(?:\\.|\\/|^)" + a + "(?:\\.|\\/|$)")).test(h); return h }, k.unbind = function (a, b) { var f = a.split(d), g, h, i, k, l, m, n, o = [j]; for (k = 0, l = f.length; k < l; k++) for (m = 0; m < o.length; m += i.length - 2) { i = [m, 1], g = o[m].n; if (f[k] != e) g[f[k]] && i.push(g[f[k]]); else for (h in g) g[c](h) && i.push(g[h]); o.splice.apply(o, i) } for (k = 0, l = o.length; k < l; k++) { g = o[k]; while (g.n) { if (b) { if (g.f) { for (m = 0, n = g.f.length; m < n; m++) if (g.f[m] == b) { g.f.splice(m, 1); break } !g.f.length && delete g.f } for (h in g.n) if (g.n[c](h) && g.n[h].f) { var p = g.n[h].f; for (m = 0, n = p.length; m < n; m++) if (p[m] == b) { p.splice(m, 1); break } !p.length && delete g.n[h].f } } else { delete g.f; for (h in g.n) g.n[c](h) && g.n[h].f && delete g.n[h].f } g = g.n } } }, k.once = function (a, b) { var c = function () { b.apply(this, arguments), k.unbind(a, c) }; return k.on(a, c) }, k.version = b, k.toString = function () { return "You are running Eve " + b }, typeof module != "undefined" && module.exports ? module.exports = k : a.eve = k })(this), function () { function cr(b, d, e, f, h, i) { e = Q(e); var j, k, l, m = [], o, p, q, t = b.ms, u = {}, v = {}, w = {}; if (f) for (y = 0, z = cl.length; y < z; y++) { var x = cl[y]; if (x.el.id == d.id && x.anim == b) { x.percent != e ? (cl.splice(y, 1), l = 1) : k = x, d.attr(x.totalOrigin); break } } else f = +v; for (var y = 0, z = b.percents.length; y < z; y++) { if (b.percents[y] == e || b.percents[y] > f * b.top) { e = b.percents[y], p = b.percents[y - 1] || 0, t = t / b.top * (e - p), o = b.percents[y + 1], j = b.anim[e]; break } f && d.attr(b.anim[b.percents[y]]) } if (!!j) { if (!k) { for (var A in j) if (j[g](A)) if (U[g](A) || d.paper.customAttributes[g](A)) { u[A] = d.attr(A), u[A] == null && (u[A] = T[A]), v[A] = j[A]; switch (U[A]) { case C: w[A] = (v[A] - u[A]) / t; break; case "colour": u[A] = a.getRGB(u[A]); var B = a.getRGB(v[A]); w[A] = { r: (B.r - u[A].r) / t, g: (B.g - u[A].g) / t, b: (B.b - u[A].b) / t }; break; case "path": var D = bG(u[A], v[A]), E = D[1]; u[A] = D[0], w[A] = []; for (y = 0, z = u[A].length; y < z; y++) { w[A][y] = [0]; for (var F = 1, G = u[A][y].length; F < G; F++) w[A][y][F] = (E[y][F] - u[A][y][F]) / t } break; case "transform": var H = d._, I = bP(H[A], v[A]); if (I) { u[A] = I.from, v[A] = I.to, w[A] = [], w[A].real = !0; for (y = 0, z = u[A].length; y < z; y++) { w[A][y] = [u[A][y][0]]; for (F = 1, G = u[A][y].length; F < G; F++) w[A][y][F] = (v[A][y][F] - u[A][y][F]) / t } } else { var J = d.matrix || new bQ, K = { _: { transform: H.transform }, getBBox: function () { return d.getBBox(1) } }; u[A] = [J.a, J.b, J.c, J.d, J.e, J.f], bN(K, v[A]), v[A] = K._.transform, w[A] = [(K.matrix.a - J.a) / t, (K.matrix.b - J.b) / t, (K.matrix.c - J.c) / t, (K.matrix.d - J.d) / t, (K.matrix.e - J.e) / t, (K.matrix.e - J.f) / t] } break; case "csv": var L = r(j[A])[s](c), M = r(u[A])[s](c); if (A == "clip-rect") { u[A] = M, w[A] = [], y = M.length; while (y--) w[A][y] = (L[y] - u[A][y]) / t } v[A] = L; break; default: L = [][n](j[A]), M = [][n](u[A]), w[A] = [], y = d.paper.customAttributes[A].length; while (y--) w[A][y] = ((L[y] || 0) - (M[y] || 0)) / t } } var O = j.easing, P = a.easing_formulas[O]; if (!P) { P = r(O).match(N); if (P && P.length == 5) { var R = P; P = function (a) { return cp(a, +R[1], +R[2], +R[3], +R[4], t) } } else P = be } q = j.start || b.start || +(new Date), x = { anim: b, percent: e, timestamp: q, start: q + (b.del || 0), status: 0, initstatus: f || 0, stop: !1, ms: t, easing: P, from: u, diff: w, to: v, el: d, callback: j.callback, prev: p, next: o, repeat: i || b.times, origin: d.attr(), totalOrigin: h }, cl.push(x); if (f && !k && !l) { x.stop = !0, x.start = new Date - t * f; if (cl.length == 1) return cn() } l && (x.start = new Date - x.ms * f), cl.length == 1 && cm(cn) } else k.initstatus = f, k.start = new Date - k.ms * f; eve("anim.start." + d.id, d, b) } } function cq(a, b) { var c = [], d = {}; this.ms = b, this.times = 1; if (a) { for (var e in a) a[g](e) && (d[Q(e)] = a[e], c.push(Q(e))); c.sort(bc) } this.anim = d, this.top = c[c.length - 1], this.percents = c } function cp(a, b, c, d, e, f) { function o(a, b) { var c, d, e, f, j, k; for (e = a, k = 0; k < 8; k++) { f = m(e) - a; if (z(f) < b) return e; j = (3 * i * e + 2 * h) * e + g; if (z(j) < 1e-6) break; e = e - f / j } c = 0, d = 1, e = a; if (e < c) return c; if (e > d) return d; while (c < d) { f = m(e); if (z(f - a) < b) return e; a > f ? c = e : d = e, e = (d - c) / 2 + c } return e } function n(a, b) { var c = o(a, b); return ((l * c + k) * c + j) * c } function m(a) { return ((i * a + h) * a + g) * a } var g = 3 * b, h = 3 * (d - b) - g, i = 1 - g - h, j = 3 * c, k = 3 * (e - c) - j, l = 1 - j - k; return n(a, 1 / (200 * f)) } function cd() { return this.x + q + this.y + q + this.width + " × " + this.height } function cc() { return this.x + q + this.y } function bQ(a, b, c, d, e, f) { a != null ? (this.a = +a, this.b = +b, this.c = +c, this.d = +d, this.e = +e, this.f = +f) : (this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.e = 0, this.f = 0) } function bw(a) { var b = []; for (var c = 0, d = a.length; d - 2 > c; c += 2) { var e = [{ x: +a[c], y: +a[c + 1] }, { x: +a[c], y: +a[c + 1] }, { x: +a[c + 2], y: +a[c + 3] }, { x: +a[c + 4], y: +a[c + 5]}]; d - 4 == c ? (e[0] = { x: +a[c - 2], y: +a[c - 1] }, e[3] = e[2]) : c && (e[0] = { x: +a[c - 2], y: +a[c - 1] }), b.push(["C", (-e[0].x + 6 * e[1].x + e[2].x) / 6, (-e[0].y + 6 * e[1].y + e[2].y) / 6, (e[1].x + 6 * e[2].x - e[3].x) / 6, (e[1].y + 6 * e[2].y - e[3].y) / 6, e[2].x, e[2].y]) } return b } function bv() { return this.hex } function bt(a, b, c) { function d() { var e = Array.prototype.slice.call(arguments, 0), f = e.join("␀"), h = d.cache = d.cache || {}, i = d.count = d.count || []; if (h[g](f)) { bs(i, f); return c ? c(h[f]) : h[f] } i.length >= 1e3 && delete h[i.shift()], i.push(f), h[f] = a[m](b, e); return c ? c(h[f]) : h[f] } return d } function bs(a, b) { for (var c = 0, d = a.length; c < d; c++) if (a[c] === b) return a.push(a.splice(c, 1)[0]) } function a(c) { if (a.is(c, "function")) return b ? c() : eve.on("DOMload", c); if (a.is(c, E)) return a._engine.create[m](a, c.splice(0, 3 + a.is(c[0], C))).add(c); var d = Array.prototype.slice.call(arguments, 0); if (a.is(d[d.length - 1], "function")) { var e = d.pop(); return b ? e.call(a._engine.create[m](a, d)) : eve.on("DOMload", function () { e.call(a._engine.create[m](a, d)) }) } return a._engine.create[m](a, arguments) } a.version = "2.0.1", a.eve = eve; var b, c = /[, ]+/, d = { circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1 }, e = /\{(\d+)\}/g, f = "prototype", g = "hasOwnProperty", h = { doc: document, win: window }, i = { was: Object.prototype[g].call(h.win, "Raphael"), is: h.win.Raphael }, j = function () { this.ca = this.customAttributes = {} }, k, l = "appendChild", m = "apply", n = "concat", o = "createTouch" in h.doc, p = "", q = " ", r = String, s = "split", t = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[s](q), u = { mousedown: "touchstart", mousemove: "touchmove", mouseup: "touchend" }, v = r.prototype.toLowerCase, w = Math, x = w.max, y = w.min, z = w.abs, A = w.pow, B = w.PI, C = "number", D = "string", E = "array", F = "toString", G = "fill", H = Object.prototype.toString, I = {}, J = "push", K = a._ISURL = /^url\(['"]?([^\)]+?)['"]?\)$/i, L = /^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i, M = { NaN: 1, Infinity: 1, "-Infinity": 1 }, N = /^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/, O = w.round, P = "setAttribute", Q = parseFloat, R = parseInt, S = r.prototype.toUpperCase, T = a._availableAttrs = { "arrow-end": "none", "arrow-start": "none", blur: 0, "clip-rect": "0 0 1e9 1e9", cursor: "default", cx: 0, cy: 0, fill: "#fff", "fill-opacity": 1, font: '10px "Arial"', "font-family": '"Arial"', "font-size": "10", "font-style": "normal", "font-weight": 400, gradient: 0, height: 0, href: "http://raphaeljs.com/", "letter-spacing": 0, opacity: 1, path: "M0,0", r: 0, rx: 0, ry: 0, src: "", stroke: "#000", "stroke-dasharray": "", "stroke-linecap": "butt", "stroke-linejoin": "butt", "stroke-miterlimit": 0, "stroke-opacity": 1, "stroke-width": 1, target: "_blank", "text-anchor": "middle", title: "Raphael", transform: "", width: 0, x: 0, y: 0 }, U = a._availableAnimAttrs = { blur: C, "clip-rect": "csv", cx: C, cy: C, fill: "colour", "fill-opacity": C, "font-size": C, height: C, opacity: C, path: "path", r: C, rx: C, ry: C, stroke: "colour", "stroke-opacity": C, "stroke-width": C, transform: "transform", width: C, x: C, y: C }, V = /\s*,\s*/, W = { hs: 1, rg: 1 }, X = /,?([achlmqrstvxz]),?/gi, Y = /([achlmrqstvz])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig, Z = /([rstm])[\s,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?\s*,?\s*)+)/ig, $ = /(-?\d*\.?\d*(?:e[\-+]?\d+)?)\s*,?\s*/ig, _ = a._radial_gradient = /^r(?:\(([^,]+?)\s*,\s*([^\)]+?)\))?/, ba = {}, bb = function (a, b) { return a.key - b.key }, bc = function (a, b) { return Q(a) - Q(b) }, bd = function () { }, be = function (a) { return a }, bf = a._rectPath = function (a, b, c, d, e) { if (e) return [["M", a + e, b], ["l", c - e * 2, 0], ["a", e, e, 0, 0, 1, e, e], ["l", 0, d - e * 2], ["a", e, e, 0, 0, 1, -e, e], ["l", e * 2 - c, 0], ["a", e, e, 0, 0, 1, -e, -e], ["l", 0, e * 2 - d], ["a", e, e, 0, 0, 1, e, -e], ["z"]]; return [["M", a, b], ["l", c, 0], ["l", 0, d], ["l", -c, 0], ["z"]] }, bg = function (a, b, c, d) { d == null && (d = c); return [["M", a, b], ["m", 0, -d], ["a", c, d, 0, 1, 1, 0, 2 * d], ["a", c, d, 0, 1, 1, 0, -2 * d], ["z"]] }, bh = a._getPath = { path: function (a) { return a.attr("path") }, circle: function (a) { var b = a.attrs; return bg(b.cx, b.cy, b.r) }, ellipse: function (a) { var b = a.attrs; return bg(b.cx, b.cy, b.rx, b.ry) }, rect: function (a) { var b = a.attrs; return bf(b.x, b.y, b.width, b.height, b.r) }, image: function (a) { var b = a.attrs; return bf(b.x, b.y, b.width, b.height) }, text: function (a) { var b = a._getBBox(); return bf(b.x, b.y, b.width, b.height) } }, bi = a.mapPath = function (a, b) { if (!b) return a; var c, d, e, f, g, h, i; a = bG(a); for (e = 0, g = a.length; e < g; e++) { i = a[e]; for (f = 1, h = i.length; f < h; f += 2) c = b.x(i[f], i[f + 1]), d = b.y(i[f], i[f + 1]), i[f] = c, i[f + 1] = d } return a }; a._g = h, a.type = h.win.SVGAngle || h.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML"; if (a.type == "VML") { var bj = h.doc.createElement("div"), bk; bj.innerHTML = '<v:shape adj="1"/>', bk = bj.firstChild, bk.style.behavior = "url(#default#VML)"; if (!bk || typeof bk.adj != "object") return a.type = p; bj = null } a.svg = !(a.vml = a.type == "VML"), a._Paper = j, a.fn = k = j.prototype = a.prototype, a._id = 0, a._oid = 0, a.is = function (a, b) { b = v.call(b); if (b == "finite") return !M[g](+a); if (b == "array") return a instanceof Array; return b == "null" && a === null || b == typeof a && a !== null || b == "object" && a === Object(a) || b == "array" && Array.isArray && Array.isArray(a) || H.call(a).slice(8, -1).toLowerCase() == b }, a.angle = function (b, c, d, e, f, g) { if (f == null) { var h = b - d, i = c - e; if (!h && !i) return 0; return (180 + w.atan2(-i, -h) * 180 / B + 360) % 360 } return a.angle(b, c, f, g) - a.angle(d, e, f, g) }, a.rad = function (a) { return a % 360 * B / 180 }, a.deg = function (a) { return a * 180 / B % 360 }, a.snapTo = function (b, c, d) { d = a.is(d, "finite") ? d : 10; if (a.is(b, E)) { var e = b.length; while (e--) if (z(b[e] - c) <= d) return b[e] } else { b = +b; var f = c % b; if (f < d) return c - f; if (f > b - d) return c - f + b } return c }; var bl = a.createUUID = function (a, b) { return function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(a, b).toUpperCase() } } (/[xy]/g, function (a) { var b = w.random() * 16 | 0, c = a == "x" ? b : b & 3 | 8; return c.toString(16) }); a.setWindow = function (b) { eve("setWindow", a, h.win, b), h.win = b, h.doc = h.win.document, a._engine.initWin && a._engine.initWin(h.win) }; var bm = function (b) { if (a.vml) { var c = /^\s+|\s+$/g, d; try { var e = new ActiveXObject("htmlfile"); e.write("<body>"), e.close(), d = e.body } catch (f) { d = createPopup().document.body } var g = d.createTextRange(); bm = bt(function (a) { try { d.style.color = r(a).replace(c, p); var b = g.queryCommandValue("ForeColor"); b = (b & 255) << 16 | b & 65280 | (b & 16711680) >>> 16; return "#" + ("000000" + b.toString(16)).slice(-6) } catch (e) { return "none" } }) } else { var i = h.doc.createElement("i"); i.title = "Raphaël Colour Picker", i.style.display = "none", h.doc.body.appendChild(i), bm = bt(function (a) { i.style.color = a; return h.doc.defaultView.getComputedStyle(i, p).getPropertyValue("color") }) } return bm(b) }, bn = function () { return "hsb(" + [this.h, this.s, this.b] + ")" }, bo = function () { return "hsl(" + [this.h, this.s, this.l] + ")" }, bp = function () { return this.hex }, bq = function (b, c, d) { c == null && a.is(b, "object") && "r" in b && "g" in b && "b" in b && (d = b.b, c = b.g, b = b.r); if (c == null && a.is(b, D)) { var e = a.getRGB(b); b = e.r, c = e.g, d = e.b } if (b > 1 || c > 1 || d > 1) b /= 255, c /= 255, d /= 255; return [b, c, d] }, br = function (b, c, d, e) { b *= 255, c *= 255, d *= 255; var f = { r: b, g: c, b: d, hex: a.rgb(b, c, d), toString: bp }; a.is(e, "finite") && (f.opacity = e); return f }; a.color = function (b) { var c; a.is(b, "object") && "h" in b && "s" in b && "b" in b ? (c = a.hsb2rgb(b), b.r = c.r, b.g = c.g, b.b = c.b, b.hex = c.hex) : a.is(b, "object") && "h" in b && "s" in b && "l" in b ? (c = a.hsl2rgb(b), b.r = c.r, b.g = c.g, b.b = c.b, b.hex = c.hex) : (a.is(b, "string") && (b = a.getRGB(b)), a.is(b, "object") && "r" in b && "g" in b && "b" in b ? (c = a.rgb2hsl(b), b.h = c.h, b.s = c.s, b.l = c.l, c = a.rgb2hsb(b), b.v = c.b) : (b = { hex: "none" }, b.r = b.g = b.b = b.h = b.s = b.v = b.l = -1)), b.toString = bp; return b }, a.hsb2rgb = function (a, b, c, d) { this.is(a, "object") && "h" in a && "s" in a && "b" in a && (c = a.b, b = a.s, a = a.h, d = a.o), a *= 360; var e, f, g, h, i; a = a % 360 / 60, i = c * b, h = i * (1 - z(a % 2 - 1)), e = f = g = c - i, a = ~ ~a, e += [i, h, 0, 0, h, i][a], f += [h, i, i, h, 0, 0][a], g += [0, 0, h, i, i, h][a]; return br(e, f, g, d) }, a.hsl2rgb = function (a, b, c, d) { this.is(a, "object") && "h" in a && "s" in a && "l" in a && (c = a.l, b = a.s, a = a.h); if (a > 1 || b > 1 || c > 1) a /= 360, b /= 100, c /= 100; a *= 360; var e, f, g, h, i; a = a % 360 / 60, i = 2 * b * (c < .5 ? c : 1 - c), h = i * (1 - z(a % 2 - 1)), e = f = g = c - i / 2, a = ~ ~a, e += [i, h, 0, 0, h, i][a], f += [h, i, i, h, 0, 0][a], g += [0, 0, h, i, i, h][a]; return br(e, f, g, d) }, a.rgb2hsb = function (a, b, c) { c = bq(a, b, c), a = c[0], b = c[1], c = c[2]; var d, e, f, g; f = x(a, b, c), g = f - y(a, b, c), d = g == 0 ? null : f == a ? (b - c) / g : f == b ? (c - a) / g + 2 : (a - b) / g + 4, d = (d + 360) % 6 * 60 / 360, e = g == 0 ? 0 : g / f; return { h: d, s: e, b: f, toString: bn} }, a.rgb2hsl = function (a, b, c) { c = bq(a, b, c), a = c[0], b = c[1], c = c[2]; var d, e, f, g, h, i; g = x(a, b, c), h = y(a, b, c), i = g - h, d = i == 0 ? null : g == a ? (b - c) / i : g == b ? (c - a) / i + 2 : (a - b) / i + 4, d = (d + 360) % 6 * 60 / 360, f = (g + h) / 2, e = i == 0 ? 0 : f < .5 ? i / (2 * f) : i / (2 - 2 * f); return { h: d, s: e, l: f, toString: bo} }, a._path2string = function () { return this.join(",").replace(X, "$1") }; var bu = a._preload = function (a, b) { var c = h.doc.createElement("img"); c.style.cssText = "position:absolute;left:-9999em;top:-9999em", c.onload = function () { b.call(this), this.onload = null, h.doc.body.removeChild(this) }, c.onerror = function () { h.doc.body.removeChild(this) }, h.doc.body.appendChild(c), c.src = a }; a.getRGB = bt(function (b) { if (!b || !!((b = r(b)).indexOf("-") + 1)) return { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: bv }; if (b == "none") return { r: -1, g: -1, b: -1, hex: "none", toString: bv }; !W[g](b.toLowerCase().substring(0, 2)) && b.charAt() != "#" && (b = bm(b)); var c, d, e, f, h, i, j, k = b.match(L); if (k) { k[2] && (f = R(k[2].substring(5), 16), e = R(k[2].substring(3, 5), 16), d = R(k[2].substring(1, 3), 16)), k[3] && (f = R((i = k[3].charAt(3)) + i, 16), e = R((i = k[3].charAt(2)) + i, 16), d = R((i = k[3].charAt(1)) + i, 16)), k[4] && (j = k[4][s](V), d = Q(j[0]), j[0].slice(-1) == "%" && (d *= 2.55), e = Q(j[1]), j[1].slice(-1) == "%" && (e *= 2.55), f = Q(j[2]), j[2].slice(-1) == "%" && (f *= 2.55), k[1].toLowerCase().slice(0, 4) == "rgba" && (h = Q(j[3])), j[3] && j[3].slice(-1) == "%" && (h /= 100)); if (k[5]) { j = k[5][s](V), d = Q(j[0]), j[0].slice(-1) == "%" && (d *= 2.55), e = Q(j[1]), j[1].slice(-1) == "%" && (e *= 2.55), f = Q(j[2]), j[2].slice(-1) == "%" && (f *= 2.55), (j[0].slice(-3) == "deg" || j[0].slice(-1) == "°") && (d /= 360), k[1].toLowerCase().slice(0, 4) == "hsba" && (h = Q(j[3])), j[3] && j[3].slice(-1) == "%" && (h /= 100); return a.hsb2rgb(d, e, f, h) } if (k[6]) { j = k[6][s](V), d = Q(j[0]), j[0].slice(-1) == "%" && (d *= 2.55), e = Q(j[1]), j[1].slice(-1) == "%" && (e *= 2.55), f = Q(j[2]), j[2].slice(-1) == "%" && (f *= 2.55), (j[0].slice(-3) == "deg" || j[0].slice(-1) == "°") && (d /= 360), k[1].toLowerCase().slice(0, 4) == "hsla" && (h = Q(j[3])), j[3] && j[3].slice(-1) == "%" && (h /= 100); return a.hsl2rgb(d, e, f, h) } k = { r: d, g: e, b: f, toString: bv }, k.hex = "#" + (16777216 | f | e << 8 | d << 16).toString(16).slice(1), a.is(h, "finite") && (k.opacity = h); return k } return { r: -1, g: -1, b: -1, hex: "none", error: 1, toString: bv} }, a), a.hsb = bt(function (b, c, d) { return a.hsb2rgb(b, c, d).hex }), a.hsl = bt(function (b, c, d) { return a.hsl2rgb(b, c, d).hex }), a.rgb = bt(function (a, b, c) { return "#" + (16777216 | c | b << 8 | a << 16).toString(16).slice(1) }), a.getColor = function (a) { var b = this.getColor.start = this.getColor.start || { h: 0, s: 1, b: a || .75 }, c = this.hsb2rgb(b.h, b.s, b.b); b.h += .075, b.h > 1 && (b.h = 0, b.s -= .2, b.s <= 0 && (this.getColor.start = { h: 0, s: 1, b: b.b })); return c.hex }, a.getColor.reset = function () { delete this.start }, a.parsePathString = bt(function (b) { if (!b) return null; var c = { a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0 }, d = []; a.is(b, E) && a.is(b[0], E) && (d = by(b)), d.length || r(b).replace(Y, function (a, b, e) { var f = [], g = b.toLowerCase(); e.replace($, function (a, b) { b && f.push(+b) }), g == "m" && f.length > 2 && (d.push([b][n](f.splice(0, 2))), g = "l", b = b == "m" ? "l" : "L"); if (g == "r") d.push([b][n](f)); else while (f.length >= c[g]) { d.push([b][n](f.splice(0, c[g]))); if (!c[g]) break } }), d.toString = a._path2string; return d }), a.parseTransformString = bt(function (b) { if (!b) return null; var c = { r: 3, s: 4, t: 2, m: 6 }, d = []; a.is(b, E) && a.is(b[0], E) && (d = by(b)), d.length || r(b).replace(Z, function (a, b, c) { var e = [], f = v.call(b); c.replace($, function (a, b) { b && e.push(+b) }), d.push([b][n](e)) }), d.toString = a._path2string; return d }), a.findDotsAtSegment = function (a, b, c, d, e, f, g, h, i) { var j = 1 - i, k = A(j, 3), l = A(j, 2), m = i * i, n = m * i, o = k * a + l * 3 * i * c + j * 3 * i * i * e + n * g, p = k * b + l * 3 * i * d + j * 3 * i * i * f + n * h, q = a + 2 * i * (c - a) + m * (e - 2 * c + a), r = b + 2 * i * (d - b) + m * (f - 2 * d + b), s = c + 2 * i * (e - c) + m * (g - 2 * e + c), t = d + 2 * i * (f - d) + m * (h - 2 * f + d), u = j * a + i * c, v = j * b + i * d, x = j * e + i * g, y = j * f + i * h, z = 90 - w.atan2(q - s, r - t) * 180 / B; (q > s || r < t) && (z += 180); return { x: o, y: p, m: { x: q, y: r }, n: { x: s, y: t }, start: { x: u, y: v }, end: { x: x, y: y }, alpha: z} }, a._removedFactory = function (a) { return function () { throw new Error("Raphaël: you are calling to method “" + a + "” of removed object") } }; var bx = bt(function (a) { if (!a) return { x: 0, y: 0, width: 0, height: 0 }; a = bG(a); var b = 0, c = 0, d = [], e = [], f; for (var g = 0, h = a.length; g < h; g++) { f = a[g]; if (f[0] == "M") b = f[1], c = f[2], d.push(b), e.push(c); else { var i = bF(b, c, f[1], f[2], f[3], f[4], f[5], f[6]); d = d[n](i.min.x, i.max.x), e = e[n](i.min.y, i.max.y), b = f[5], c = f[6] } } var j = y[m](0, d), k = y[m](0, e); return { x: j, y: k, width: x[m](0, d) - j, height: x[m](0, e) - k} }, null, function (a) { return { x: a.x, y: a.y, width: a.width, height: a.height} }), by = function (b) { var c = []; if (!a.is(b, E) || !a.is(b && b[0], E)) b = a.parsePathString(b); for (var d = 0, e = b.length; d < e; d++) { c[d] = []; for (var f = 0, g = b[d].length; f < g; f++) c[d][f] = b[d][f] } c.toString = a._path2string; return c }, bz = a._pathToRelative = bt(function (b) { if (!a.is(b, E) || !a.is(b && b[0], E)) b = a.parsePathString(b); var c = [], d = 0, e = 0, f = 0, g = 0, h = 0; b[0][0] == "M" && (d = b[0][1], e = b[0][2], f = d, g = e, h++, c.push(["M", d, e])); for (var i = h, j = b.length; i < j; i++) { var k = c[i] = [], l = b[i]; if (l[0] != v.call(l[0])) { k[0] = v.call(l[0]); switch (k[0]) { case "a": k[1] = l[1], k[2] = l[2], k[3] = l[3], k[4] = l[4], k[5] = l[5], k[6] = +(l[6] - d).toFixed(3), k[7] = +(l[7] - e).toFixed(3); break; case "v": k[1] = +(l[1] - e).toFixed(3); break; case "m": f = l[1], g = l[2]; default: for (var m = 1, n = l.length; m < n; m++) k[m] = +(l[m] - (m % 2 ? d : e)).toFixed(3) } } else { k = c[i] = [], l[0] == "m" && (f = l[1] + d, g = l[2] + e); for (var o = 0, p = l.length; o < p; o++) c[i][o] = l[o] } var q = c[i].length; switch (c[i][0]) { case "z": d = f, e = g; break; case "h": d += +c[i][q - 1]; break; case "v": e += +c[i][q - 1]; break; default: d += +c[i][q - 2], e += +c[i][q - 1] } } c.toString = a._path2string; return c }, 0, by), bA = a._pathToAbsolute = bt(function (b) { if (!a.is(b, E) || !a.is(b && b[0], E)) b = a.parsePathString(b); if (!b || !b.length) return [["M", 0, 0]]; var c = [], d = 0, e = 0, f = 0, g = 0, h = 0; b[0][0] == "M" && (d = +b[0][1], e = +b[0][2], f = d, g = e, h++, c[0] = ["M", d, e]); for (var i, j, k = h, l = b.length; k < l; k++) { c.push(i = []), j = b[k]; if (j[0] != S.call(j[0])) { i[0] = S.call(j[0]); switch (i[0]) { case "A": i[1] = j[1], i[2] = j[2], i[3] = j[3], i[4] = j[4], i[5] = j[5], i[6] = +(j[6] + d), i[7] = +(j[7] + e); break; case "V": i[1] = +j[1] + e; break; case "H": i[1] = +j[1] + d; break; case "R": var m = [d, e][n](j.slice(1)); for (var o = 2, p = m.length; o < p; o++) m[o] = +m[o] + d, m[++o] = +m[o] + e; c.pop(), c = c[n](bw(m)); break; case "M": f = +j[1] + d, g = +j[2] + e; default: for (o = 1, p = j.length; o < p; o++) i[o] = +j[o] + (o % 2 ? d : e) } } else if (j[0] == "R") m = [d, e][n](j.slice(1)), c.pop(), c = c[n](bw(m)), i = ["R"][n](j.slice(-2)); else for (var q = 0, r = j.length; q < r; q++) i[q] = j[q]; switch (i[0]) { case "Z": d = f, e = g; break; case "H": d = i[1]; break; case "V": e = i[1]; break; case "M": f = i[i.length - 2], g = i[i.length - 1]; default: d = i[i.length - 2], e = i[i.length - 1] } } c.toString = a._path2string; return c }, null, by), bB = function (a, b, c, d) { return [a, b, c, d, c, d] }, bC = function (a, b, c, d, e, f) { var g = 1 / 3, h = 2 / 3; return [g * a + h * c, g * b + h * d, g * e + h * c, g * f + h * d, e, f] }, bD = function (a, b, c, d, e, f, g, h, i, j) { var k = B * 120 / 180, l = B / 180 * (+e || 0), m = [], o, p = bt(function (a, b, c) { var d = a * w.cos(c) - b * w.sin(c), e = a * w.sin(c) + b * w.cos(c); return { x: d, y: e} }); if (!j) { o = p(a, b, -l), a = o.x, b = o.y, o = p(h, i, -l), h = o.x, i = o.y; var q = w.cos(B / 180 * e), r = w.sin(B / 180 * e), t = (a - h) / 2, u = (b - i) / 2, v = t * t / (c * c) + u * u / (d * d); v > 1 && (v = w.sqrt(v), c = v * c, d = v * d); var x = c * c, y = d * d, A = (f == g ? -1 : 1) * w.sqrt(z((x * y - x * u * u - y * t * t) / (x * u * u + y * t * t))), C = A * c * u / d + (a + h) / 2, D = A * -d * t / c + (b + i) / 2, E = w.asin(((b - D) / d).toFixed(9)), F = w.asin(((i - D) / d).toFixed(9)); E = a < C ? B - E : E, F = h < C ? B - F : F, E < 0 && (E = B * 2 + E), F < 0 && (F = B * 2 + F), g && E > F && (E = E - B * 2), !g && F > E && (F = F - B * 2) } else E = j[0], F = j[1], C = j[2], D = j[3]; var G = F - E; if (z(G) > k) { var H = F, I = h, J = i; F = E + k * (g && F > E ? 1 : -1), h = C + c * w.cos(F), i = D + d * w.sin(F), m = bD(h, i, c, d, e, 0, g, I, J, [F, H, C, D]) } G = F - E; var K = w.cos(E), L = w.sin(E), M = w.cos(F), N = w.sin(F), O = w.tan(G / 4), P = 4 / 3 * c * O, Q = 4 / 3 * d * O, R = [a, b], S = [a + P * L, b - Q * K], T = [h + P * N, i - Q * M], U = [h, i]; S[0] = 2 * R[0] - S[0], S[1] = 2 * R[1] - S[1]; if (j) return [S, T, U][n](m); m = [S, T, U][n](m).join()[s](","); var V = []; for (var W = 0, X = m.length; W < X; W++) V[W] = W % 2 ? p(m[W - 1], m[W], l).y : p(m[W], m[W + 1], l).x; return V }, bE = function (a, b, c, d, e, f, g, h, i) { var j = 1 - i; return { x: A(j, 3) * a + A(j, 2) * 3 * i * c + j * 3 * i * i * e + A(i, 3) * g, y: A(j, 3) * b + A(j, 2) * 3 * i * d + j * 3 * i * i * f + A(i, 3) * h} }, bF = bt(function (a, b, c, d, e, f, g, h) { var i = e - 2 * c + a - (g - 2 * e + c), j = 2 * (c - a) - 2 * (e - c), k = a - c, l = (-j + w.sqrt(j * j - 4 * i * k)) / 2 / i, n = (-j - w.sqrt(j * j - 4 * i * k)) / 2 / i, o = [b, h], p = [a, g], q; z(l) > "1e12" && (l = .5), z(n) > "1e12" && (n = .5), l > 0 && l < 1 && (q = bE(a, b, c, d, e, f, g, h, l), p.push(q.x), o.push(q.y)), n > 0 && n < 1 && (q = bE(a, b, c, d, e, f, g, h, n), p.push(q.x), o.push(q.y)), i = f - 2 * d + b - (h - 2 * f + d), j = 2 * (d - b) - 2 * (f - d), k = b - d, l = (-j + w.sqrt(j * j - 4 * i * k)) / 2 / i, n = (-j - w.sqrt(j * j - 4 * i * k)) / 2 / i, z(l) > "1e12" && (l = .5), z(n) > "1e12" && (n = .5), l > 0 && l < 1 && (q = bE(a, b, c, d, e, f, g, h, l), p.push(q.x), o.push(q.y)), n > 0 && n < 1 && (q = bE(a, b, c, d, e, f, g, h, n), p.push(q.x), o.push(q.y)); return { min: { x: y[m](0, p), y: y[m](0, o) }, max: { x: x[m](0, p), y: x[m](0, o)}} }), bG = a._path2curve = bt(function (a, b) { var c = bA(a), d = b && bA(b), e = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }, f = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null }, g = function (a, b) { var c, d; if (!a) return ["C", b.x, b.y, b.x, b.y, b.x, b.y]; !(a[0] in { T: 1, Q: 1 }) && (b.qx = b.qy = null); switch (a[0]) { case "M": b.X = a[1], b.Y = a[2]; break; case "A": a = ["C"][n](bD[m](0, [b.x, b.y][n](a.slice(1)))); break; case "S": c = b.x + (b.x - (b.bx || b.x)), d = b.y + (b.y - (b.by || b.y)), a = ["C", c, d][n](a.slice(1)); break; case "T": b.qx = b.x + (b.x - (b.qx || b.x)), b.qy = b.y + (b.y - (b.qy || b.y)), a = ["C"][n](bC(b.x, b.y, b.qx, b.qy, a[1], a[2])); break; case "Q": b.qx = a[1], b.qy = a[2], a = ["C"][n](bC(b.x, b.y, a[1], a[2], a[3], a[4])); break; case "L": a = ["C"][n](bB(b.x, b.y, a[1], a[2])); break; case "H": a = ["C"][n](bB(b.x, b.y, a[1], b.y)); break; case "V": a = ["C"][n](bB(b.x, b.y, b.x, a[1])); break; case "Z": a = ["C"][n](bB(b.x, b.y, b.X, b.Y)) } return a }, h = function (a, b) { if (a[b].length > 7) { a[b].shift(); var e = a[b]; while (e.length) a.splice(b++, 0, ["C"][n](e.splice(0, 6))); a.splice(b, 1), k = x(c.length, d && d.length || 0) } }, i = function (a, b, e, f, g) { a && b && a[g][0] == "M" && b[g][0] != "M" && (b.splice(g, 0, ["M", f.x, f.y]), e.bx = 0, e.by = 0, e.x = a[g][1], e.y = a[g][2], k = x(c.length, d && d.length || 0)) }; for (var j = 0, k = x(c.length, d && d.length || 0); j < k; j++) { c[j] = g(c[j], e), h(c, j), d && (d[j] = g(d[j], f)), d && h(d, j), i(c, d, e, f, j), i(d, c, f, e, j); var l = c[j], o = d && d[j], p = l.length, q = d && o.length; e.x = l[p - 2], e.y = l[p - 1], e.bx = Q(l[p - 4]) || e.x, e.by = Q(l[p - 3]) || e.y, f.bx = d && (Q(o[q - 4]) || f.x), f.by = d && (Q(o[q - 3]) || f.y), f.x = d && o[q - 2], f.y = d && o[q - 1] } return d ? [c, d] : c }, null, by), bH = a._parseDots = bt(function (b) { var c = []; for (var d = 0, e = b.length; d < e; d++) { var f = {}, g = b[d].match(/^([^:]*):?([\d\.]*)/); f.color = a.getRGB(g[1]); if (f.color.error) return null; f.color = f.color.hex, g[2] && (f.offset = g[2] + "%"), c.push(f) } for (d = 1, e = c.length - 1; d < e; d++) if (!c[d].offset) { var h = Q(c[d - 1].offset || 0), i = 0; for (var j = d + 1; j < e; j++) if (c[j].offset) { i = c[j].offset; break } i || (i = 100, j = e), i = Q(i); var k = (i - h) / (j - d + 1); for (; d < j; d++) h += k, c[d].offset = h + "%" } return c }), bI = a._tear = function (a, b) { a == b.top && (b.top = a.prev), a == b.bottom && (b.bottom = a.next), a.next && (a.next.prev = a.prev), a.prev && (a.prev.next = a.next) }, bJ = a._tofront = function (a, b) { b.top !== a && (bI(a, b), a.next = null, a.prev = b.top, b.top.next = a, b.top = a) }, bK = a._toback = function (a, b) { b.bottom !== a && (bI(a, b), a.next = b.bottom, a.prev = null, b.bottom.prev = a, b.bottom = a) }, bL = a._insertafter = function (a, b, c) { bI(a, c), b == c.top && (c.top = a), b.next && (b.next.prev = a), a.next = b.next, a.prev = b, b.next = a }, bM = a._insertbefore = function (a, b, c) { bI(a, c), b == c.bottom && (c.bottom = a), b.prev && (b.prev.next = a), a.prev = b.prev, b.prev = a, a.next = b }, bN = a._extractTransform = function (b, c) { if (c == null) return b._.transform; c = r(c).replace(/\.{3}|\u2026/g, b._.transform || p); var d = a.parseTransformString(c), e = 0, f = 0, g = 0, h = 1, i = 1, j = b._, k = new bQ; j.transform = d || []; if (d) for (var l = 0, m = d.length; l < m; l++) { var n = d[l], o = n.length, q = r(n[0]).toLowerCase(), s = n[0] != q, t = s ? k.invert() : 0, u, v, w, x, y; q == "t" && o == 3 ? s ? (u = t.x(0, 0), v = t.y(0, 0), w = t.x(n[1], n[2]), x = t.y(n[1], n[2]), k.translate(w - u, x - v)) : k.translate(n[1], n[2]) : q == "r" ? o == 2 ? (y = y || b.getBBox(1), k.rotate(n[1], y.x + y.width / 2, y.y + y.height / 2), e += n[1]) : o == 4 && (s ? (w = t.x(n[2], n[3]), x = t.y(n[2], n[3]), k.rotate(n[1], w, x)) : k.rotate(n[1], n[2], n[3]), e += n[1]) : q == "s" ? o == 2 || o == 3 ? (y = y || b.getBBox(1), k.scale(n[1], n[o - 1], y.x + y.width / 2, y.y + y.height / 2), h *= n[1], i *= n[o - 1]) : o == 5 && (s ? (w = t.x(n[3], n[4]), x = t.y(n[3], n[4]), k.scale(n[1], n[2], w, x)) : k.scale(n[1], n[2], n[3], n[4]), h *= n[1], i *= n[2]) : q == "m" && o == 7 && k.add(n[1], n[2], n[3], n[4], n[5], n[6]), j.dirtyT = 1, b.matrix = k } b.matrix = k, j.sx = h, j.sy = i, j.deg = e, j.dx = f = k.e, j.dy = g = k.f, h == 1 && i == 1 && !e && j.bbox ? (j.bbox.x += +f, j.bbox.y += +g) : j.dirtyT = 1 }, bO = function (a) { var b = a[0]; switch (b.toLowerCase()) { case "t": return [b, 0, 0]; case "m": return [b, 1, 0, 0, 1, 0, 0]; case "r": return a.length == 4 ? [b, 0, a[2], a[3]] : [b, 0]; case "s": return a.length == 5 ? [b, 1, 1, a[3], a[4]] : a.length == 3 ? [b, 1, 1] : [b, 1] } }, bP = a._equaliseTransform = function (b, c) { c = r(c).replace(/\.{3}|\u2026/g, b), b = a.parseTransformString(b) || [], c = a.parseTransformString(c) || []; var d = x(b.length, c.length), e = [], f = [], g = 0, h, i, j, k; for (; g < d; g++) { j = b[g] || bO(c[g]), k = c[g] || bO(j); if (j[0] != k[0] || j[0].toLowerCase() == "r" && (j[2] != k[2] || j[3] != k[3]) || j[0].toLowerCase() == "s" && (j[3] != k[3] || j[4] != k[4])) return; e[g] = [], f[g] = []; for (h = 0, i = x(j.length, k.length); h < i; h++) h in j && (e[g][h] = j[h]), h in k && (f[g][h] = k[h]) } return { from: e, to: f} }; a._getContainer = function (b, c, d, e) { var f; f = e == null && !a.is(b, "object") ? h.doc.getElementById(b) : b; if (f != null) { if (f.tagName) return c == null ? { container: f, width: f.style.pixelWidth || f.offsetWidth, height: f.style.pixelHeight || f.offsetHeight} : { container: f, width: c, height: d }; return { container: 1, x: b, y: c, width: d, height: e} } }, a.pathToRelative = bz, a._engine = {}, a.path2curve = bG, a.matrix = function (a, b, c, d, e, f) { return new bQ(a, b, c, d, e, f) }, function (b) { function d(a) { var b = w.sqrt(c(a)); a[0] && (a[0] /= b), a[1] && (a[1] /= b) } function c(a) { return a[0] * a[0] + a[1] * a[1] } b.add = function (a, b, c, d, e, f) { var g = [[], [], []], h = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]], i = [[a, c, e], [b, d, f], [0, 0, 1]], j, k, l, m; a && a instanceof bQ && (i = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]]); for (j = 0; j < 3; j++) for (k = 0; k < 3; k++) { m = 0; for (l = 0; l < 3; l++) m += h[j][l] * i[l][k]; g[j][k] = m } this.a = g[0][0], this.b = g[1][0], this.c = g[0][1], this.d = g[1][1], this.e = g[0][2], this.f = g[1][2] }, b.invert = function () { var a = this, b = a.a * a.d - a.b * a.c; return new bQ(a.d / b, -a.b / b, -a.c / b, a.a / b, (a.c * a.f - a.d * a.e) / b, (a.b * a.e - a.a * a.f) / b) }, b.clone = function () { return new bQ(this.a, this.b, this.c, this.d, this.e, this.f) }, b.translate = function (a, b) { this.add(1, 0, 0, 1, a, b) }, b.scale = function (a, b, c, d) { b == null && (b = a), (c || d) && this.add(1, 0, 0, 1, c, d), this.add(a, 0, 0, b, 0, 0), (c || d) && this.add(1, 0, 0, 1, -c, -d) }, b.rotate = function (b, c, d) { b = a.rad(b), c = c || 0, d = d || 0; var e = +w.cos(b).toFixed(9), f = +w.sin(b).toFixed(9); this.add(e, f, -f, e, c, d), this.add(1, 0, 0, 1, -c, -d) }, b.x = function (a, b) { return a * this.a + b * this.c + this.e }, b.y = function (a, b) { return a * this.b + b * this.d + this.f }, b.get = function (a) { return +this[r.fromCharCode(97 + a)].toFixed(4) }, b.toString = function () { return a.svg ? "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" : [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join() }, b.toFilter = function () { return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) + ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) + ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod='auto expand')" }, b.offset = function () { return [this.e.toFixed(4), this.f.toFixed(4)] }, b.split = function () { var b = {}; b.dx = this.e, b.dy = this.f; var e = [[this.a, this.c], [this.b, this.d]]; b.scalex = w.sqrt(c(e[0])), d(e[0]), b.shear = e[0][0] * e[1][0] + e[0][1] * e[1][1], e[1] = [e[1][0] - e[0][0] * b.shear, e[1][1] - e[0][1] * b.shear], b.scaley = w.sqrt(c(e[1])), d(e[1]), b.shear /= b.scaley; var f = -e[0][1], g = e[1][1]; g < 0 ? (b.rotate = a.deg(w.acos(g)), f < 0 && (b.rotate = 360 - b.rotate)) : b.rotate = a.deg(w.asin(f)), b.isSimple = ! +b.shear.toFixed(9) && (b.scalex.toFixed(9) == b.scaley.toFixed(9) || !b.rotate), b.isSuperSimple = ! +b.shear.toFixed(9) && b.scalex.toFixed(9) == b.scaley.toFixed(9) && !b.rotate, b.noRotation = ! +b.shear.toFixed(9) && !b.rotate; return b }, b.toTransformString = function (a) { var b = a || this[s](); if (b.isSimple) { b.scalex = +b.scalex.toFixed(4), b.scaley = +b.scaley.toFixed(4), b.rotate = +b.rotate.toFixed(4); return (b.dx && b.dy ? "t" + [b.dx, b.dy] : p) + (b.scalex != 1 || b.scaley != 1 ? "s" + [b.scalex, b.scaley, 0, 0] : p) + (b.rotate ? "r" + [b.rotate, 0, 0] : p) } return "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)] } } (bQ.prototype); var bR = navigator.userAgent.match(/Version\/(.*?)\s/) || navigator.userAgent.match(/Chrome\/(\d+)/); navigator.vendor == "Apple Computer, Inc." && (bR && bR[1] < 4 || navigator.platform.slice(0, 2) == "iP") || navigator.vendor == "Google Inc." && bR && bR[1] < 8 ? k.safari = function () { var a = this.rect(-99, -99, this.width + 99, this.height + 99).attr({ stroke: "none" }); setTimeout(function () { a.remove() }) } : k.safari = bd; var bS = function () { this.returnValue = !1 }, bT = function () { return this.originalEvent.preventDefault() }, bU = function () { this.cancelBubble = !0 }, bV = function () { return this.originalEvent.stopPropagation() }, bW = function () { if (h.doc.addEventListener) return function (a, b, c, d) { var e = o && u[b] ? u[b] : b, f = function (e) { var f = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, i = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft, j = e.clientX + i, k = e.clientY + f; if (o && u[g](b)) for (var l = 0, m = e.targetTouches && e.targetTouches.length; l < m; l++) if (e.targetTouches[l].target == a) { var n = e; e = e.targetTouches[l], e.originalEvent = n, e.preventDefault = bT, e.stopPropagation = bV; break } return c.call(d, e, j, k) }; a.addEventListener(e, f, !1); return function () { a.removeEventListener(e, f, !1); return !0 } }; if (h.doc.attachEvent) return function (a, b, c, d) { var e = function (a) { a = a || h.win.event; var b = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, e = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft, f = a.clientX + e, g = a.clientY + b; a.preventDefault = a.preventDefault || bS, a.stopPropagation = a.stopPropagation || bU; return c.call(d, a, f, g) }; a.attachEvent("on" + b, e); var f = function () { a.detachEvent("on" + b, e); return !0 }; return f } } (), bX = [], bY = function (a) { var b = a.clientX, c = a.clientY, d = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, e = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft, f, g = bX.length; while (g--) { f = bX[g]; if (o) { var i = a.touches.length, j; while (i--) { j = a.touches[i]; if (j.identifier == f.el._drag.id) { b = j.clientX, c = j.clientY, (a.originalEvent ? a.originalEvent : a).preventDefault(); break } } } else a.preventDefault(); var k = f.el.node, l, m = k.nextSibling, n = k.parentNode, p = k.style.display; h.win.opera && n.removeChild(k), k.style.display = "none", l = f.el.paper.getElementByPoint(b, c), k.style.display = p, h.win.opera && (m ? n.insertBefore(k, m) : n.appendChild(k)), l && eve("drag.over." + f.el.id, f.el, l), b += e, c += d, eve("drag.move." + f.el.id, f.move_scope || f.el, b - f.el._drag.x, c - f.el._drag.y, b, c, a) } }, bZ = function (b) { a.unmousemove(bY).unmouseup(bZ); var c = bX.length, d; while (c--) d = bX[c], d.el._drag = {}, eve("drag.end." + d.el.id, d.end_scope || d.start_scope || d.move_scope || d.el, b); bX = [] }, b$ = a.el = {}; for (var b_ = t.length; b_--; ) (function (b) { a[b] = b$[b] = function (c, d) { a.is(c, "function") && (this.events = this.events || [], this.events.push({ name: b, f: c, unbind: bW(this.shape || this.node || h.doc, b, c, d || this) })); return this }, a["un" + b] = b$["un" + b] = function (a) { var c = this.events, d = c.length; while (d--) if (c[d].name == b && c[d].f == a) { c[d].unbind(), c.splice(d, 1), !c.length && delete this.events; return this } return this } })(t[b_]); b$.data = function (b, c) { var d = ba[this.id] = ba[this.id] || {}; if (arguments.length == 1) { if (a.is(b, "object")) { for (var e in b) b[g](e) && this.data(e, b[e]); return this } eve("data.get." + this.id, this, d[b], b); return d[b] } d[b] = c, eve("data.set." + this.id, this, c, b); return this }, b$.removeData = function (a) { a == null ? ba[this.id] = {} : ba[this.id] && delete ba[this.id][a]; return this }, b$.hover = function (a, b, c, d) { return this.mouseover(a, c).mouseout(b, d || c) }, b$.unhover = function (a, b) { return this.unmouseover(a).unmouseout(b) }; var ca = []; b$.drag = function (b, c, d, e, f, g) { function i(i) { (i.originalEvent || i).preventDefault(); var j = h.doc.documentElement.scrollTop || h.doc.body.scrollTop, k = h.doc.documentElement.scrollLeft || h.doc.body.scrollLeft; this._drag.x = i.clientX + k, this._drag.y = i.clientY + j, this._drag.id = i.identifier, !bX.length && a.mousemove(bY).mouseup(bZ), bX.push({ el: this, move_scope: e, start_scope: f, end_scope: g }), c && eve.on("drag.start." + this.id, c), b && eve.on("drag.move." + this.id, b), d && eve.on("drag.end." + this.id, d), eve("drag.start." + this.id, f || e || this, i.clientX + k, i.clientY + j, i) } this._drag = {}, ca.push({ el: this, start: i }), this.mousedown(i); return this }, b$.onDragOver = function (a) { a ? eve.on("drag.over." + this.id, a) : eve.unbind("drag.over." + this.id) }, b$.undrag = function () { var b = ca.length; while (b--) ca[b].el == this && (this.unmousedown(ca[b].start), ca.splice(b, 1), eve.unbind("drag.*." + this.id)); !ca.length && a.unmousemove(bY).unmouseup(bZ) }, k.circle = function (b, c, d) { var e = a._engine.circle(this, b || 0, c || 0, d || 0); this.__set__ && this.__set__.push(e); return e }, k.rect = function (b, c, d, e, f) { var g = a._engine.rect(this, b || 0, c || 0, d || 0, e || 0, f || 0); this.__set__ && this.__set__.push(g); return g }, k.ellipse = function (b, c, d, e) { var f = a._engine.ellipse(this, b || 0, c || 0, d || 0, e || 0); this.__set__ && this.__set__.push(f); return f }, k.path = function (b) { b && !a.is(b, D) && !a.is(b[0], E) && (b += p); var c = a._engine.path(a.format[m](a, arguments), this); this.__set__ && this.__set__.push(c); return c }, k.image = function (b, c, d, e, f) { var g = a._engine.image(this, b || "about:blank", c || 0, d || 0, e || 0, f || 0); this.__set__ && this.__set__.push(g); return g }, k.text = function (b, c, d) { var e = a._engine.text(this, b || 0, c || 0, r(d)); this.__set__ && this.__set__.push(e); return e }, k.set = function (b) { !a.is(b, "array") && (b = Array.prototype.splice.call(arguments, 0, arguments.length)); var c = new cs(b); this.__set__ && this.__set__.push(c); return c }, k.setStart = function (a) { this.__set__ = a || this.set() }, k.setFinish = function (a) { var b = this.__set__; delete this.__set__; return b }, k.setSize = function (b, c) { return a._engine.setSize.call(this, b, c) }, k.setViewBox = function (b, c, d, e, f) { return a._engine.setViewBox.call(this, b, c, d, e, f) }, k.top = k.bottom = null, k.raphael = a; var cb = function (a) { var b = a.getBoundingClientRect(), c = a.ownerDocument, d = c.body, e = c.documentElement, f = e.clientTop || d.clientTop || 0, g = e.clientLeft || d.clientLeft || 0, i = b.top + (h.win.pageYOffset || e.scrollTop || d.scrollTop) - f, j = b.left + (h.win.pageXOffset || e.scrollLeft || d.scrollLeft) - g; return { y: i, x: j} }; k.getElementByPoint = function (a, b) { var c = this, d = c.canvas, e = h.doc.elementFromPoint(a, b); if (h.win.opera && e.tagName == "svg") { var f = cb(d), g = d.createSVGRect(); g.x = a - f.x, g.y = b - f.y, g.width = g.height = 1; var i = d.getIntersectionList(g, null); i.length && (e = i[i.length - 1]) } if (!e) return null; while (e.parentNode && e != d.parentNode && !e.raphael) e = e.parentNode; e == c.canvas.parentNode && (e = d), e = e && e.raphael ? c.getById(e.raphaelid) : null; return e }, k.getById = function (a) { var b = this.bottom; while (b) { if (b.id == a) return b; b = b.next } return null }, k.forEach = function (a, b) { var c = this.bottom; while (c) { if (a.call(b, c) === !1) return this; c = c.next } return this }, b$.getBBox = function (a) { if (this.removed) return {}; var b = this._; if (a) { if (b.dirty || !b.bboxwt) this.realPath = bh[this.type](this), b.bboxwt = bx(this.realPath), b.bboxwt.toString = cd, b.dirty = 0; return b.bboxwt } if (b.dirty || b.dirtyT || !b.bbox) { if (b.dirty || !this.realPath) b.bboxwt = 0, this.realPath = bh[this.type](this); b.bbox = bx(bi(this.realPath, this.matrix)), b.bbox.toString = cd, b.dirty = b.dirtyT = 0 } return b.bbox }, b$.clone = function () { if (this.removed) return null; var a = this.paper[this.type]().attr(this.attr()); this.__set__ && this.__set__.push(a); return a }, b$.glow = function (a) { if (this.type == "text") return null; a = a || {}; var b = { width: (a.width || 10) + (+this.attr("stroke-width") || 1), fill: a.fill || !1, opacity: a.opacity || .5, offsetx: a.offsetx || 0, offsety: a.offsety || 0, color: a.color || "#000" }, c = b.width / 2, d = this.paper, e = d.set(), f = this.realPath || bh[this.type](this); f = this.matrix ? bi(f, this.matrix) : f; for (var g = 1; g < c + 1; g++) e.push(d.path(f).attr({ stroke: b.color, fill: b.fill ? b.color : "none", "stroke-linejoin": "round", "stroke-linecap": "round", "stroke-width": +(b.width / c * g).toFixed(3), opacity: +(b.opacity / c).toFixed(3) })); return e.insertBefore(this).translate(b.offsetx, b.offsety) }; var ce = {}, cf = function (b, c, d, e, f, g, h, i, j) { var k = 0, l = 100, m = [b, c, d, e, f, g, h, i].join(), n = ce[m], o, p; !n && (ce[m] = n = { data: [] }), n.timer && clearTimeout(n.timer), n.timer = setTimeout(function () { delete ce[m] }, 2e3); if (j != null && !n.precision) { var q = cf(b, c, d, e, f, g, h, i); n.precision = ~ ~q * 10, n.data = [] } l = n.precision || l; for (var r = 0; r < l + 1; r++) { n.data[r * l] ? p = n.data[r * l] : (p = a.findDotsAtSegment(b, c, d, e, f, g, h, i, r / l), n.data[r * l] = p), r && (k += A(A(o.x - p.x, 2) + A(o.y - p.y, 2), .5)); if (j != null && k >= j) return p; o = p } if (j == null) return k }, cg = function (b, c) { return function (d, e, f) { d = bG(d); var g, h, i, j, k = "", l = {}, m, n = 0; for (var o = 0, p = d.length; o < p; o++) { i = d[o]; if (i[0] == "M") g = +i[1], h = +i[2]; else { j = cf(g, h, i[1], i[2], i[3], i[4], i[5], i[6]); if (n + j > e) { if (c && !l.start) { m = cf(g, h, i[1], i[2], i[3], i[4], i[5], i[6], e - n), k += ["C" + m.start.x, m.start.y, m.m.x, m.m.y, m.x, m.y]; if (f) return k; l.start = k, k = ["M" + m.x, m.y + "C" + m.n.x, m.n.y, m.end.x, m.end.y, i[5], i[6]].join(), n += j, g = +i[5], h = +i[6]; continue } if (!b && !c) { m = cf(g, h, i[1], i[2], i[3], i[4], i[5], i[6], e - n); return { x: m.x, y: m.y, alpha: m.alpha} } } n += j, g = +i[5], h = +i[6] } k += i.shift() + i } l.end = k, m = b ? n : c ? l : a.findDotsAtSegment(g, h, i[0], i[1], i[2], i[3], i[4], i[5], 1), m.alpha && (m = { x: m.x, y: m.y, alpha: m.alpha }); return m } }, ch = cg(1), ci = cg(), cj = cg(0, 1); a.getTotalLength = ch, a.getPointAtLength = ci, a.getSubpath = function (a, b, c) { if (this.getTotalLength(a) - c < 1e-6) return cj(a, b).end; var d = cj(a, c, 1); return b ? cj(d, b).end : d }, b$.getTotalLength = function () { if (this.type == "path") { if (this.node.getTotalLength) return this.node.getTotalLength(); return ch(this.attrs.path) } }, b$.getPointAtLength = function (a) { if (this.type == "path") return ci(this.attrs.path, a) }, b$.getSubpath = function (b, c) { if (this.type == "path") return a.getSubpath(this.attrs.path, b, c) }; var ck = a.easing_formulas = { linear: function (a) { return a }, "<": function (a) { return A(a, 1.7) }, ">": function (a) { return A(a, .48) }, "<>": function (a) { var b = .48 - a / 1.04, c = w.sqrt(.1734 + b * b), d = c - b, e = A(z(d), 1 / 3) * (d < 0 ? -1 : 1), f = -c - b, g = A(z(f), 1 / 3) * (f < 0 ? -1 : 1), h = e + g + .5; return (1 - h) * 3 * h * h + h * h * h }, backIn: function (a) { var b = 1.70158; return a * a * ((b + 1) * a - b) }, backOut: function (a) { a = a - 1; var b = 1.70158; return a * a * ((b + 1) * a + b) + 1 }, elastic: function (a) { if (a == !!a) return a; return A(2, -10 * a) * w.sin((a - .075) * 2 * B / .3) + 1 }, bounce: function (a) { var b = 7.5625, c = 2.75, d; a < 1 / c ? d = b * a * a : a < 2 / c ? (a -= 1.5 / c, d = b * a * a + .75) : a < 2.5 / c ? (a -= 2.25 / c, d = b * a * a + .9375) : (a -= 2.625 / c, d = b * a * a + .984375); return d } }; ck.easeIn = ck["ease-in"] = ck["<"], ck.easeOut = ck["ease-out"] = ck[">"], ck.easeInOut = ck["ease-in-out"] = ck["<>"], ck["back-in"] = ck.backIn, ck["back-out"] = ck.backOut; var cl = [], cm = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (a) { setTimeout(a, 16) }, cn = function () { var b = +(new Date), c = 0; for (; c < cl.length; c++) { var d = cl[c]; if (d.el.removed || d.paused) continue; var e = b - d.start, f = d.ms, h = d.easing, i = d.from, j = d.diff, k = d.to, l = d.t, m = d.el, o = {}, p, r = {}, s; d.initstatus ? (e = (d.initstatus * d.anim.top - d.prev) / (d.percent - d.prev) * f, d.status = d.initstatus, delete d.initstatus, d.stop && cl.splice(c--, 1)) : d.status = (d.prev + (d.percent - d.prev) * (e / f)) / d.anim.top; if (e < 0) continue; if (e < f) { var t = h(e / f); for (var u in i) if (i[g](u)) { switch (U[u]) { case C: p = +i[u] + t * f * j[u]; break; case "colour": p = "rgb(" + [co(O(i[u].r + t * f * j[u].r)), co(O(i[u].g + t * f * j[u].g)), co(O(i[u].b + t * f * j[u].b))].join(",") + ")"; break; case "path": p = []; for (var v = 0, w = i[u].length; v < w; v++) { p[v] = [i[u][v][0]]; for (var x = 1, y = i[u][v].length; x < y; x++) p[v][x] = +i[u][v][x] + t * f * j[u][v][x]; p[v] = p[v].join(q) } p = p.join(q); break; case "transform": if (j[u].real) { p = []; for (v = 0, w = i[u].length; v < w; v++) { p[v] = [i[u][v][0]]; for (x = 1, y = i[u][v].length; x < y; x++) p[v][x] = i[u][v][x] + t * f * j[u][v][x] } } else { var z = function (a) { return +i[u][a] + t * f * j[u][a] }; p = [["m", z(0), z(1), z(2), z(3), z(4), z(5)]] } break; case "csv": if (u == "clip-rect") { p = [], v = 4; while (v--) p[v] = +i[u][v] + t * f * j[u][v] } break; default: var A = [][n](i[u]); p = [], v = m.paper.customAttributes[u].length; while (v--) p[v] = +A[v] + t * f * j[u][v] } o[u] = p } m.attr(o), function (a, b, c) { setTimeout(function () { eve("anim.frame." + a, b, c) }) } (m.id, m, d.anim) } else { (function (b, c, d) { setTimeout(function () { eve("anim.frame." + c.id, c, d), eve("anim.finish." + c.id, c, d), a.is(b, "function") && b.call(c) }) })(d.callback, m, d.anim), m.attr(k), cl.splice(c--, 1); if (d.repeat > 1 && !d.next) { for (s in k) k[g](s) && (r[s] = d.totalOrigin[s]); d.el.attr(r), cr(d.anim, d.el, d.anim.percents[0], null, d.totalOrigin, d.repeat - 1) } d.next && !d.stop && cr(d.anim, d.el, d.next, null, d.totalOrigin, d.repeat) } } a.svg && m && m.paper && m.paper.safari(), cl.length && cm(cn) }, co = function (a) { return a > 255 ? 255 : a < 0 ? 0 : a }; b$.animateWith = function (b, c, d, e, f, g) { var h = d ? a.animation(d, e, f, g) : c, i = b.status(c); return this.animate(h).status(h, i * c.ms / h.ms) }, b$.onAnimation = function (a) { a ? eve.on("anim.frame." + this.id, a) : eve.unbind("anim.frame." + this.id); return this }, cq.prototype.delay = function (a) { var b = new cq(this.anim, this.ms); b.times = this.times, b.del = +a || 0; return b }, cq.prototype.repeat = function (a) { var b = new cq(this.anim, this.ms); b.del = this.del, b.times = w.floor(x(a, 0)) || 1; return b }, a.animation = function (b, c, d, e) { if (b instanceof cq) return b; if (a.is(d, "function") || !d) e = e || d || null, d = null; b = Object(b), c = +c || 0; var f = {}, h, i; for (i in b) b[g](i) && Q(i) != i && Q(i) + "%" != i && (h = !0, f[i] = b[i]); if (!h) return new cq(b, c); d && (f.easing = d), e && (f.callback = e); return new cq({ 100: f }, c) }, b$.animate = function (b, c, d, e) { var f = this; if (f.removed) { e && e.call(f); return f } var g = b instanceof cq ? b : a.animation(b, c, d, e); cr(g, f, g.percents[0], null, f.attr()); return f }, b$.setTime = function (a, b) { a && b != null && this.status(a, y(b, a.ms) / a.ms); return this }, b$.status = function (a, b) { var c = [], d = 0, e, f; if (b != null) { cr(a, this, -1, y(b, 1)); return this } e = cl.length; for (; d < e; d++) { f = cl[d]; if (f.el.id == this.id && (!a || f.anim == a)) { if (a) return f.status; c.push({ anim: f.anim, status: f.status }) } } if (a) return 0; return c }, b$.pause = function (a) { for (var b = 0; b < cl.length; b++) cl[b].el.id == this.id && (!a || cl[b].anim == a) && eve("anim.pause." + this.id, this, cl[b].anim) !== !1 && (cl[b].paused = !0); return this }, b$.resume = function (a) { for (var b = 0; b < cl.length; b++) if (cl[b].el.id == this.id && (!a || cl[b].anim == a)) { var c = cl[b]; eve("anim.resume." + this.id, this, c.anim) !== !1 && (delete c.paused, this.status(c.anim, c.status)) } return this }, b$.stop = function (a) { for (var b = 0; b < cl.length; b++) cl[b].el.id == this.id && (!a || cl[b].anim == a) && eve("anim.stop." + this.id, this, cl[b].anim) !== !1 && cl.splice(b--, 1); return this }, b$.toString = function () { return "Raphaël’s object" }; var cs = function (a) { this.items = [], this.length = 0, this.type = "set"; if (a) for (var b = 0, c = a.length; b < c; b++) a[b] && (a[b].constructor == b$.constructor || a[b].constructor == cs) && (this[this.items.length] = this.items[this.items.length] = a[b], this.length++) }, ct = cs.prototype; ct.push = function () { var a, b; for (var c = 0, d = arguments.length; c < d; c++) a = arguments[c], a && (a.constructor == b$.constructor || a.constructor == cs) && (b = this.items.length, this[b] = this.items[b] = a, this.length++); return this }, ct.pop = function () { this.length && delete this[this.length--]; return this.items.pop() }, ct.forEach = function (a, b) { for (var c = 0, d = this.items.length; c < d; c++) if (a.call(b, this.items[c], c) === !1) return this; return this }; for (var cu in b$) b$[g](cu) && (ct[cu] = function (a) { return function () { var b = arguments; return this.forEach(function (c) { c[a][m](c, b) }) } } (cu)); ct.attr = function (b, c) { if (b && a.is(b, E) && a.is(b[0], "object")) for (var d = 0, e = b.length; d < e; d++) this.items[d].attr(b[d]); else for (var f = 0, g = this.items.length; f < g; f++) this.items[f].attr(b, c); return this }, ct.clear = function () { while (this.length) this.pop() }, ct.splice = function (a, b, c) { a = a < 0 ? x(this.length + a, 0) : a, b = x(0, y(this.length - a, b)); var d = [], e = [], f = [], g; for (g = 2; g < arguments.length; g++) f.push(arguments[g]); for (g = 0; g < b; g++) e.push(this[a + g]); for (; g < this.length - a; g++) d.push(this[a + g]); var h = f.length; for (g = 0; g < h + d.length; g++) this.items[a + g] = this[a + g] = g < h ? f[g] : d[g - h]; g = this.items.length = this.length -= b - h; while (this[g]) delete this[g++]; return new cs(e) }, ct.exclude = function (a) { for (var b = 0, c = this.length; b < c; b++) if (this[b] == a) { this.splice(b, 1); return !0 } }, ct.animate = function (b, c, d, e) { (a.is(d, "function") || !d) && (e = d || null); var f = this.items.length, g = f, h, i = this, j; if (!f) return this; e && (j = function () { ! --f && e.call(i) }), d = a.is(d, D) ? d : j; var k = a.animation(b, c, d, j); h = this.items[--g].animate(k); while (g--) this.items[g] && !this.items[g].removed && this.items[g].animateWith(h, k); return this }, ct.insertAfter = function (a) { var b = this.items.length; while (b--) this.items[b].insertAfter(a); return this }, ct.getBBox = function () { var a = [], b = [], c = [], d = []; for (var e = this.items.length; e--; ) if (!this.items[e].removed) { var f = this.items[e].getBBox(); a.push(f.x), b.push(f.y), c.push(f.x + f.width), d.push(f.y + f.height) } a = y[m](0, a), b = y[m](0, b); return { x: a, y: b, width: x[m](0, c) - a, height: x[m](0, d) - b} }, ct.clone = function (a) { a = new cs; for (var b = 0, c = this.items.length; b < c; b++) a.push(this.items[b].clone()); return a }, ct.toString = function () { return "Raphaël‘s set" }, a.registerFont = function (a) { if (!a.face) return a; this.fonts = this.fonts || {}; var b = { w: a.w, face: {}, glyphs: {} }, c = a.face["font-family"]; for (var d in a.face) a.face[g](d) && (b.face[d] = a.face[d]); this.fonts[c] ? this.fonts[c].push(b) : this.fonts[c] = [b]; if (!a.svg) { b.face["units-per-em"] = R(a.face["units-per-em"], 10); for (var e in a.glyphs) if (a.glyphs[g](e)) { var f = a.glyphs[e]; b.glyphs[e] = { w: f.w, k: {}, d: f.d && "M" + f.d.replace(/[mlcxtrv]/g, function (a) { return { l: "L", c: "C", x: "z", t: "m", r: "l", v: "c"}[a] || "M" }) + "z" }; if (f.k) for (var h in f.k) f[g](h) && (b.glyphs[e].k[h] = f.k[h]) } } return a }, k.getFont = function (b, c, d, e) { e = e || "normal", d = d || "normal", c = +c || { normal: 400, bold: 700, lighter: 300, bolder: 800}[c] || 400; if (!!a.fonts) { var f = a.fonts[b]; if (!f) { var h = new RegExp("(^|\\s)" + b.replace(/[^\w\d\s+!~.:_-]/g, p) + "(\\s|$)", "i"); for (var i in a.fonts) if (a.fonts[g](i) && h.test(i)) { f = a.fonts[i]; break } } var j; if (f) for (var k = 0, l = f.length; k < l; k++) { j = f[k]; if (j.face["font-weight"] == c && (j.face["font-style"] == d || !j.face["font-style"]) && j.face["font-stretch"] == e) break } return j } }, k.print = function (b, d, e, f, g, h, i) { h = h || "middle", i = x(y(i || 0, 1), -1); var j = this.set(), k = r(e)[s](p), l = 0, m = p, n; a.is(f, e) && (f = this.getFont(f)); if (f) { n = (g || 16) / f.face["units-per-em"]; var o = f.face.bbox[s](c), q = +o[0], t = +o[1] + (h == "baseline" ? o[3] - o[1] + +f.face.descent : (o[3] - o[1]) / 2); for (var u = 0, v = k.length; u < v; u++) { var w = u && f.glyphs[k[u - 1]] || {}, z = f.glyphs[k[u]]; l += u ? (w.w || f.w) + (w.k && w.k[k[u]] || 0) + f.w * i : 0, z && z.d && j.push(this.path(z.d).attr({ fill: "#000", stroke: "none", transform: [["t", l * n, 0]] })) } j.transform(["...s", n, n, q, t, "t", (b - q) / n, (d - t) / n]) } return j }, k.add = function (b) { if (a.is(b, "array")) { var c = this.set(), e = 0, f = b.length, h; for (; e < f; e++) h = b[e] || {}, d[g](h.type) && c.push(this[h.type]().attr(h)) } return c }, a.format = function (b, c) { var d = a.is(c, E) ? [0][n](c) : arguments; b && a.is(b, D) && d.length - 1 && (b = b.replace(e, function (a, b) { return d[++b] == null ? p : d[b] })); return b || p }, a.fullfill = function () { var a = /\{([^\}]+)\}/g, b = /(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g, c = function (a, c, d) { var e = d; c.replace(b, function (a, b, c, d, f) { b = b || d, e && (b in e && (e = e[b]), typeof e == "function" && f && (e = e())) }), e = (e == null || e == d ? a : e) + ""; return e }; return function (b, d) { return String(b).replace(a, function (a, b) { return c(a, b, d) }) } } (), a.ninja = function () { i.was ? h.win.Raphael = i.is : delete Raphael; return a }, a.st = ct, function (b, c, d) { function e() { /in/.test(b.readyState) ? setTimeout(e, 9) : a.eve("DOMload") } b.readyState == null && b.addEventListener && (b.addEventListener(c, d = function () { b.removeEventListener(c, d, !1), b.readyState = "complete" }, !1), b.readyState = "loading"), e() } (document, "DOMContentLoaded"), i.was ? h.win.Raphael = a : Raphael = a, eve.on("DOMload", function () { b = !0 }) } (), window.Raphael.svg && function (a) { var b = "hasOwnProperty", c = String, d = parseFloat, e = parseInt, f = Math, g = f.max, h = f.abs, i = f.pow, j = /[, ]+/, k = a.eve, l = "", m = " ", n = "http://www.w3.org/1999/xlink", o = { block: "M5,0 0,2.5 5,5z", classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z", diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z", open: "M6,1 1,3.5 6,6", oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z" }, p = {}; a.toString = function () { return "Your browser supports SVG.\nYou are running Raphaël " + this.version }; var q = function (d, e) { if (e) { typeof d == "string" && (d = q(d)); for (var f in e) e[b](f) && (f.substring(0, 6) == "xlink:" ? d.setAttributeNS(n, f.substring(6), c(e[f])) : d.setAttribute(f, c(e[f]))) } else d = a._g.doc.createElementNS("http://www.w3.org/2000/svg", d), d.style && (d.style.webkitTapHighlightColor = "rgba(0,0,0,0)"); return d }, r = function (b, e) { var j = "linear", k = b.id + e, m = .5, n = .5, o = b.node, p = b.paper, r = o.style, s = a._g.doc.getElementById(k); if (!s) { e = c(e).replace(a._radial_gradient, function (a, b, c) { j = "radial"; if (b && c) { m = d(b), n = d(c); var e = (n > .5) * 2 - 1; i(m - .5, 2) + i(n - .5, 2) > .25 && (n = f.sqrt(.25 - i(m - .5, 2)) * e + .5) && n != .5 && (n = n.toFixed(5) - 1e-5 * e) } return l }), e = e.split(/\s*\-\s*/); if (j == "linear") { var t = e.shift(); t = -d(t); if (isNaN(t)) return null; var u = [0, 0, f.cos(a.rad(t)), f.sin(a.rad(t))], v = 1 / (g(h(u[2]), h(u[3])) || 1); u[2] *= v, u[3] *= v, u[2] < 0 && (u[0] = -u[2], u[2] = 0), u[3] < 0 && (u[1] = -u[3], u[3] = 0) } var w = a._parseDots(e); if (!w) return null; k = k.replace(/[\(\)\s,\xb0#]/g, "_"), b.gradient && k != b.gradient.id && (p.defs.removeChild(b.gradient), delete b.gradient); if (!b.gradient) { s = q(j + "Gradient", { id: k }), b.gradient = s, q(s, j == "radial" ? { fx: m, fy: n} : { x1: u[0], y1: u[1], x2: u[2], y2: u[3], gradientTransform: b.matrix.invert() }), p.defs.appendChild(s); for (var x = 0, y = w.length; x < y; x++) s.appendChild(q("stop", { offset: w[x].offset ? w[x].offset : x ? "100%" : "0%", "stop-color": w[x].color || "#fff" })) } } q(o, { fill: "url(#" + k + ")", opacity: 1, "fill-opacity": 1 }), r.fill = l, r.opacity = 1, r.fillOpacity = 1; return 1 }, s = function (a) { var b = a.getBBox(1); q(a.pattern, { patternTransform: a.matrix.invert() + " translate(" + b.x + "," + b.y + ")" }) }, t = function (d, e, f) { if (d.type == "path") { var g = c(e).toLowerCase().split("-"), h = d.paper, i = f ? "end" : "start", j = d.node, k = d.attrs, l = k["stroke-width"], n = g.length, r = "classic", s, t, u, v, w, x = 3, y = 3, z = 5; while (n--) switch (g[n]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": r = g[n]; break; case "wide": y = 5; break; case "narrow": y = 2; break; case "long": x = 5; break; case "short": x = 2 } r == "open" ? (x += 2, y += 2, z += 2, u = 1, v = f ? 4 : 1, w = { fill: "none", stroke: k.stroke }) : (v = u = x / 2, w = { fill: k.stroke, stroke: "none" }), d._.arrows ? f ? (d._.arrows.endPath && p[d._.arrows.endPath]--, d._.arrows.endMarker && p[d._.arrows.endMarker]--) : (d._.arrows.startPath && p[d._.arrows.startPath]--, d._.arrows.startMarker && p[d._.arrows.startMarker]--) : d._.arrows = {}; if (r != "none") { var A = "raphael-marker-" + r, B = "raphael-marker-" + i + r + x + y; a._g.doc.getElementById(A) ? p[A]++ : (h.defs.appendChild(q(q("path"), { "stroke-linecap": "round", d: o[r], id: A })), p[A] = 1); var C = a._g.doc.getElementById(B), D; C ? (p[B]++, D = C.getElementsByTagName("use")[0]) : (C = q(q("marker"), { id: B, markerHeight: y, markerWidth: x, orient: "auto", refX: v, refY: y / 2 }), D = q(q("use"), { "xlink:href": "#" + A, transform: (f ? " rotate(180 " + x / 2 + " " + y / 2 + ") " : m) + "scale(" + x / z + "," + y / z + ")", "stroke-width": 1 / ((x / z + y / z) / 2) }), C.appendChild(D), h.defs.appendChild(C), p[B] = 1), q(D, w); var E = u * (r != "diamond" && r != "oval"); f ? (s = d._.arrows.startdx * l || 0, t = a.getTotalLength(k.path) - E * l) : (s = E * l, t = a.getTotalLength(k.path) - (d._.arrows.enddx * l || 0)), w = {}, w["marker-" + i] = "url(#" + B + ")"; if (t || s) w.d = Raphael.getSubpath(k.path, s, t); q(j, w), d._.arrows[i + "Path"] = A, d._.arrows[i + "Marker"] = B, d._.arrows[i + "dx"] = E, d._.arrows[i + "Type"] = r, d._.arrows[i + "String"] = e } else f ? (s = d._.arrows.startdx * l || 0, t = a.getTotalLength(k.path) - s) : (s = 0, t = a.getTotalLength(k.path) - (d._.arrows.enddx * l || 0)), d._.arrows[i + "Path"] && q(j, { d: Raphael.getSubpath(k.path, s, t) }), delete d._.arrows[i + "Path"], delete d._.arrows[i + "Marker"], delete d._.arrows[i + "dx"], delete d._.arrows[i + "Type"], delete d._.arrows[i + "String"]; for (w in p) if (p[b](w) && !p[w]) { var F = a._g.doc.getElementById(w); F && F.parentNode.removeChild(F) } } }, u = { "": [0], none: [0], "-": [3, 1], ".": [1, 1], "-.": [3, 1, 1, 1], "-..": [3, 1, 1, 1, 1, 1], ". ": [1, 3], "- ": [4, 3], "--": [8, 3], "- .": [4, 3, 1, 3], "--.": [8, 3, 1, 3], "--..": [8, 3, 1, 3, 1, 3] }, v = function (a, b, d) { b = u[c(b).toLowerCase()]; if (b) { var e = a.attrs["stroke-width"] || "1", f = { round: e, square: e, butt: 0}[a.attrs["stroke-linecap"] || d["stroke-linecap"]] || 0, g = [], h = b.length; while (h--) g[h] = b[h] * e + (h % 2 ? 1 : -1) * f; q(a.node, { "stroke-dasharray": g.join(",") }) } }, w = function (d, f) { var i = d.node, k = d.attrs, m = i.style.visibility; i.style.visibility = "hidden"; for (var o in f) if (f[b](o)) { if (!a._availableAttrs[b](o)) continue; var p = f[o]; k[o] = p; switch (o) { case "blur": d.blur(p); break; case "href": case "title": case "target": var u = i.parentNode; if (u.tagName.toLowerCase() != "a") { var w = q("a"); u.insertBefore(w, i), w.appendChild(i), u = w } o == "target" && p == "blank" ? u.setAttributeNS(n, "show", "new") : u.setAttributeNS(n, o, p); break; case "cursor": i.style.cursor = p; break; case "transform": d.transform(p); break; case "arrow-start": t(d, p); break; case "arrow-end": t(d, p, 1); break; case "clip-rect": var x = c(p).split(j); if (x.length == 4) { d.clip && d.clip.parentNode.parentNode.removeChild(d.clip.parentNode); var z = q("clipPath"), A = q("rect"); z.id = a.createUUID(), q(A, { x: x[0], y: x[1], width: x[2], height: x[3] }), z.appendChild(A), d.paper.defs.appendChild(z), q(i, { "clip-path": "url(#" + z.id + ")" }), d.clip = A } if (!p) { var B = i.getAttribute("clip-path"); if (B) { var C = a._g.doc.getElementById(B.replace(/(^url\(#|\)$)/g, l)); C && C.parentNode.removeChild(C), q(i, { "clip-path": l }), delete d.clip } } break; case "path": d.type == "path" && (q(i, { d: p ? k.path = a._pathToAbsolute(p) : "M0,0" }), d._.dirty = 1, d._.arrows && ("startString" in d._.arrows && t(d, d._.arrows.startString), "endString" in d._.arrows && t(d, d._.arrows.endString, 1))); break; case "width": i.setAttribute(o, p), d._.dirty = 1; if (k.fx) o = "x", p = k.x; else break; case "x": k.fx && (p = -k.x - (k.width || 0)); case "rx": if (o == "rx" && d.type == "rect") break; case "cx": i.setAttribute(o, p), d.pattern && s(d), d._.dirty = 1; break; case "height": i.setAttribute(o, p), d._.dirty = 1; if (k.fy) o = "y", p = k.y; else break; case "y": k.fy && (p = -k.y - (k.height || 0)); case "ry": if (o == "ry" && d.type == "rect") break; case "cy": i.setAttribute(o, p), d.pattern && s(d), d._.dirty = 1; break; case "r": d.type == "rect" ? q(i, { rx: p, ry: p }) : i.setAttribute(o, p), d._.dirty = 1; break; case "src": d.type == "image" && i.setAttributeNS(n, "href", p); break; case "stroke-width": if (d._.sx != 1 || d._.sy != 1) p /= g(h(d._.sx), h(d._.sy)) || 1; d.paper._vbSize && (p *= d.paper._vbSize), i.setAttribute(o, p), k["stroke-dasharray"] && v(d, k["stroke-dasharray"], f), d._.arrows && ("startString" in d._.arrows && t(d, d._.arrows.startString), "endString" in d._.arrows && t(d, d._.arrows.endString, 1)); break; case "stroke-dasharray": v(d, p, f); break; case "fill": var D = c(p).match(a._ISURL); if (D) { z = q("pattern"); var F = q("image"); z.id = a.createUUID(), q(z, { x: 0, y: 0, patternUnits: "userSpaceOnUse", height: 1, width: 1 }), q(F, { x: 0, y: 0, "xlink:href": D[1] }), z.appendChild(F), function (b) { a._preload(D[1], function () { var a = this.offsetWidth, c = this.offsetHeight; q(b, { width: a, height: c }), q(F, { width: a, height: c }), d.paper.safari() }) } (z), d.paper.defs.appendChild(z), i.style.fill = "url(#" + z.id + ")", q(i, { fill: "url(#" + z.id + ")" }), d.pattern = z, d.pattern && s(d); break } var G = a.getRGB(p); if (!G.error) delete f.gradient, delete k.gradient, !a.is(k.opacity, "undefined") && a.is(f.opacity, "undefined") && q(i, { opacity: k.opacity }), !a.is(k["fill-opacity"], "undefined") && a.is(f["fill-opacity"], "undefined") && q(i, { "fill-opacity": k["fill-opacity"] }); else if ((d.type == "circle" || d.type == "ellipse" || c(p).charAt() != "r") && r(d, p)) { if ("opacity" in k || "fill-opacity" in k) { var H = a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g, l)); if (H) { var I = H.getElementsByTagName("stop"); q(I[I.length - 1], { "stop-opacity": ("opacity" in k ? k.opacity : 1) * ("fill-opacity" in k ? k["fill-opacity"] : 1) }) } } k.gradient = p, k.fill = "none"; break } G[b]("opacity") && q(i, { "fill-opacity": G.opacity > 1 ? G.opacity / 100 : G.opacity }); case "stroke": G = a.getRGB(p), i.setAttribute(o, G.hex), o == "stroke" && G[b]("opacity") && q(i, { "stroke-opacity": G.opacity > 1 ? G.opacity / 100 : G.opacity }), o == "stroke" && d._.arrows && ("startString" in d._.arrows && t(d, d._.arrows.startString), "endString" in d._.arrows && t(d, d._.arrows.endString, 1)); break; case "gradient": (d.type == "circle" || d.type == "ellipse" || c(p).charAt() != "r") && r(d, p); break; case "opacity": k.gradient && !k[b]("stroke-opacity") && q(i, { "stroke-opacity": p > 1 ? p / 100 : p }); case "fill-opacity": if (k.gradient) { H = a._g.doc.getElementById(i.getAttribute("fill").replace(/^url\(#|\)$/g, l)), H && (I = H.getElementsByTagName("stop"), q(I[I.length - 1], { "stop-opacity": p })); break }; default: o == "font-size" && (p = e(p, 10) + "px"); var J = o.replace(/(\-.)/g, function (a) { return a.substring(1).toUpperCase() }); i.style[J] = p, d._.dirty = 1, i.setAttribute(o, p) } } y(d, f), i.style.visibility = m }, x = 1.2, y = function (d, f) { if (d.type == "text" && !!(f[b]("text") || f[b]("font") || f[b]("font-size") || f[b]("x") || f[b]("y"))) { var g = d.attrs, h = d.node, i = h.firstChild ? e(a._g.doc.defaultView.getComputedStyle(h.firstChild, l).getPropertyValue("font-size"), 10) : 10; if (f[b]("text")) { g.text = f.text; while (h.firstChild) h.removeChild(h.firstChild); var j = c(f.text).split("\n"), k = [], m; for (var n = 0, o = j.length; n < o; n++) m = q("tspan"), n && q(m, { dy: i * x, x: g.x }), m.appendChild(a._g.doc.createTextNode(j[n])), h.appendChild(m), k[n] = m } else { k = h.getElementsByTagName("tspan"); for (n = 0, o = k.length; n < o; n++) n ? q(k[n], { dy: i * x, x: g.x }) : q(k[0], { dy: 0 }) } q(h, { x: g.x, y: g.y }), d._.dirty = 1; var p = d._getBBox(), r = g.y - (p.y + p.height / 2); r && a.is(r, "finite") && q(k[0], { dy: r }) } }, z = function (b, c) { var d = 0, e = 0; this[0] = this.node = b, b.raphael = !0, this.id = a._oid++, b.raphaelid = this.id, this.matrix = a.matrix(), this.realPath = null, this.paper = c, this.attrs = this.attrs || {}, this._ = { transform: [], sx: 1, sy: 1, deg: 0, dx: 0, dy: 0, dirty: 1 }, !c.bottom && (c.bottom = this), this.prev = c.top, c.top && (c.top.next = this), c.top = this, this.next = null }, A = a.el; z.prototype = A, A.constructor = z, a._engine.path = function (a, b) { var c = q("path"); b.canvas && b.canvas.appendChild(c); var d = new z(c, b); d.type = "path", w(d, { fill: "none", stroke: "#000", path: a }); return d }, A.rotate = function (a, b, e) { if (this.removed) return this; a = c(a).split(j), a.length - 1 && (b = d(a[1]), e = d(a[2])), a = d(a[0]), e == null && (b = e); if (b == null || e == null) { var f = this.getBBox(1); b = f.x + f.width / 2, e = f.y + f.height / 2 } this.transform(this._.transform.concat([["r", a, b, e]])); return this }, A.scale = function (a, b, e, f) { if (this.removed) return this; a = c(a).split(j), a.length - 1 && (b = d(a[1]), e = d(a[2]), f = d(a[3])), a = d(a[0]), b == null && (b = a), f == null && (e = f); if (e == null || f == null) var g = this.getBBox(1); e = e == null ? g.x + g.width / 2 : e, f = f == null ? g.y + g.height / 2 : f, this.transform(this._.transform.concat([["s", a, b, e, f]])); return this }, A.translate = function (a, b) { if (this.removed) return this; a = c(a).split(j), a.length - 1 && (b = d(a[1])), a = d(a[0]) || 0, b = +b || 0, this.transform(this._.transform.concat([["t", a, b]])); return this }, A.transform = function (c) { var d = this._; if (c == null) return d.transform; a._extractTransform(this, c), this.clip && q(this.clip, { transform: this.matrix.invert() }), this.pattern && s(this), this.node && q(this.node, { transform: this.matrix }); if (d.sx != 1 || d.sy != 1) { var e = this.attrs[b]("stroke-width") ? this.attrs["stroke-width"] : 1; this.attr({ "stroke-width": e }) } return this }, A.hide = function () { !this.removed && this.paper.safari(this.node.style.display = "none"); return this }, A.show = function () { !this.removed && this.paper.safari(this.node.style.display = ""); return this }, A.remove = function () { if (!this.removed) { var b = this.paper; b.__set__ && b.__set__.exclude(this), k.unbind("*.*." + this.id), this.gradient && b.defs.removeChild(this.gradient), a._tear(this, b), this.node.parentNode.removeChild(this.node); for (var c in this) this[c] = typeof this[c] == "function" ? a._removedFactory(c) : null; this.removed = !0 } }, A._getBBox = function () { if (this.node.style.display == "none") { this.show(); var a = !0 } var b = {}; try { b = this.node.getBBox() } catch (c) { } finally { b = b || {} } a && this.hide(); return b }, A.attr = function (c, d) { if (this.removed) return this; if (c == null) { var e = {}; for (var f in this.attrs) this.attrs[b](f) && (e[f] = this.attrs[f]); e.gradient && e.fill == "none" && (e.fill = e.gradient) && delete e.gradient, e.transform = this._.transform; return e } if (d == null && a.is(c, "string")) { if (c == "fill" && this.attrs.fill == "none" && this.attrs.gradient) return this.attrs.gradient; if (c == "transform") return this._.transform; var g = c.split(j), h = {}; for (var i = 0, l = g.length; i < l; i++) c = g[i], c in this.attrs ? h[c] = this.attrs[c] : a.is(this.paper.customAttributes[c], "function") ? h[c] = this.paper.customAttributes[c].def : h[c] = a._availableAttrs[c]; return l - 1 ? h : h[g[0]] } if (d == null && a.is(c, "array")) { h = {}; for (i = 0, l = c.length; i < l; i++) h[c[i]] = this.attr(c[i]); return h } if (d != null) { var m = {}; m[c] = d } else c != null && a.is(c, "object") && (m = c); for (var n in m) k("attr." + n + "." + this.id, this, m[n]); for (n in this.paper.customAttributes) if (this.paper.customAttributes[b](n) && m[b](n) && a.is(this.paper.customAttributes[n], "function")) { var o = this.paper.customAttributes[n].apply(this, [].concat(m[n])); this.attrs[n] = m[n]; for (var p in o) o[b](p) && (m[p] = o[p]) } w(this, m); return this }, A.toFront = function () { if (this.removed) return this; this.node.parentNode.tagName.toLowerCase() == "a" ? this.node.parentNode.parentNode.appendChild(this.node.parentNode) : this.node.parentNode.appendChild(this.node); var b = this.paper; b.top != this && a._tofront(this, b); return this }, A.toBack = function () { if (this.removed) return this; var b = this.node.parentNode; b.tagName.toLowerCase() == "a" ? b.parentNode.insertBefore(this.node.parentNode, this.node.parentNode.parentNode.firstChild) : b.firstChild != this.node && b.insertBefore(this.node, this.node.parentNode.firstChild), a._toback(this, this.paper); var c = this.paper; return this }, A.insertAfter = function (b) { if (this.removed) return this; var c = b.node || b[b.length - 1].node; c.nextSibling ? c.parentNode.insertBefore(this.node, c.nextSibling) : c.parentNode.appendChild(this.node), a._insertafter(this, b, this.paper); return this }, A.insertBefore = function (b) { if (this.removed) return this; var c = b.node || b[0].node; c.parentNode.insertBefore(this.node, c), a._insertbefore(this, b, this.paper); return this }, A.blur = function (b) { var c = this; if (+b !== 0) { var d = q("filter"), e = q("feGaussianBlur"); c.attrs.blur = b, d.id = a.createUUID(), q(e, { stdDeviation: +b || 1.5 }), d.appendChild(e), c.paper.defs.appendChild(d), c._blur = d, q(c.node, { filter: "url(#" + d.id + ")" }) } else c._blur && (c._blur.parentNode.removeChild(c._blur), delete c._blur, delete c.attrs.blur), c.node.removeAttribute("filter") }, a._engine.circle = function (a, b, c, d) { var e = q("circle"); a.canvas && a.canvas.appendChild(e); var f = new z(e, a); f.attrs = { cx: b, cy: c, r: d, fill: "none", stroke: "#000" }, f.type = "circle", q(e, f.attrs); return f }, a._engine.rect = function (a, b, c, d, e, f) { var g = q("rect"); a.canvas && a.canvas.appendChild(g); var h = new z(g, a); h.attrs = { x: b, y: c, width: d, height: e, r: f || 0, rx: f || 0, ry: f || 0, fill: "none", stroke: "#000" }, h.type = "rect", q(g, h.attrs); return h }, a._engine.ellipse = function (a, b, c, d, e) { var f = q("ellipse"); a.canvas && a.canvas.appendChild(f); var g = new z(f, a); g.attrs = { cx: b, cy: c, rx: d, ry: e, fill: "none", stroke: "#000" }, g.type = "ellipse", q(f, g.attrs); return g }, a._engine.image = function (a, b, c, d, e, f) { var g = q("image"); q(g, { x: c, y: d, width: e, height: f, preserveAspectRatio: "none" }), g.setAttributeNS(n, "href", b), a.canvas && a.canvas.appendChild(g); var h = new z(g, a); h.attrs = { x: c, y: d, width: e, height: f, src: b }, h.type = "image"; return h }, a._engine.text = function (b, c, d, e) { var f = q("text"); b.canvas && b.canvas.appendChild(f); var g = new z(f, b); g.attrs = { x: c, y: d, "text-anchor": "middle", text: e, font: a._availableAttrs.font, stroke: "none", fill: "#000" }, g.type = "text", w(g, g.attrs); return g }, a._engine.setSize = function (a, b) { this.width = a || this.width, this.height = b || this.height, this.canvas.setAttribute("width", this.width), this.canvas.setAttribute("height", this.height), this._viewBox && this.setViewBox.apply(this, this._viewBox); return this }, a._engine.create = function () { var b = a._getContainer.apply(0, arguments), c = b && b.container, d = b.x, e = b.y, f = b.width, g = b.height; if (!c) throw new Error("SVG container not found."); var h = q("svg"), i = "overflow:hidden;", j; d = d || 0, e = e || 0, f = f || 512, g = g || 342, q(h, { height: g, version: 1.1, width: f, xmlns: "http://www.w3.org/2000/svg" }), c == 1 ? (h.style.cssText = i + "position:absolute;left:" + d + "px;top:" + e + "px", a._g.doc.body.appendChild(h), j = 1) : (h.style.cssText = i + "position:relative", c.firstChild ? c.insertBefore(h, c.firstChild) : c.appendChild(h)), c = new a._Paper, c.width = f, c.height = g, c.canvas = h, c.clear(), c._left = c._top = 0, j && (c.renderfix = function () { }), c.renderfix(); return c }, a._engine.setViewBox = function (a, b, c, d, e) { k("setViewBox", this, this._viewBox, [a, b, c, d, e]); var f = g(c / this.width, d / this.height), h = this.top, i = e ? "meet" : "xMinYMin", j, l; a == null ? (this._vbSize && (f = 1), delete this._vbSize, j = "0 0 " + this.width + m + this.height) : (this._vbSize = f, j = a + m + b + m + c + m + d), q(this.canvas, { viewBox: j, preserveAspectRatio: i }); while (f && h) l = "stroke-width" in h.attrs ? h.attrs["stroke-width"] : 1, h.attr({ "stroke-width": l }), h._.dirty = 1, h._.dirtyT = 1, h = h.prev; this._viewBox = [a, b, c, d, !!e]; return this }, a.prototype.renderfix = function () { var a = this.canvas, b = a.style, c; try { c = a.getScreenCTM() || a.createSVGMatrix() } catch (d) { c = a.createSVGMatrix() } var e = -c.e % 1, f = -c.f % 1; if (e || f) e && (this._left = (this._left + e) % 1, b.left = this._left + "px"), f && (this._top = (this._top + f) % 1, b.top = this._top + "px") }, a.prototype.clear = function () { a.eve("clear", this); var b = this.canvas; while (b.firstChild) b.removeChild(b.firstChild); this.bottom = this.top = null, (this.desc = q("desc")).appendChild(a._g.doc.createTextNode("Created with Raphaël " + a.version)), b.appendChild(this.desc), b.appendChild(this.defs = q("defs")) }, a.prototype.remove = function () { k("remove", this), this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas); for (var b in this) this[b] = typeof this[b] == "function" ? a._removedFactory(b) : null }; var B = a.st; for (var C in A) A[b](C) && !B[b](C) && (B[C] = function (a) { return function () { var b = arguments; return this.forEach(function (c) { c[a].apply(c, b) }) } } (C)) } (window.Raphael), window.Raphael.vml && function (a) { var b = "hasOwnProperty", c = String, d = parseFloat, e = Math, f = e.round, g = e.max, h = e.min, i = e.abs, j = "fill", k = /[, ]+/, l = a.eve, m = " progid:DXImageTransform.Microsoft", n = " ", o = "", p = { M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x" }, q = /([clmz]),?([^clmz]*)/gi, r = / progid:\S+Blur\([^\)]+\)/g, s = /-?[^,\s-]+/g, t = "position:absolute;left:0;top:0;width:1px;height:1px", u = 21600, v = { path: 1, rect: 1, image: 1 }, w = { circle: 1, ellipse: 1 }, x = function (b) { var d = /[ahqstv]/ig, e = a._pathToAbsolute; c(b).match(d) && (e = a._path2curve), d = /[clmz]/g; if (e == a._pathToAbsolute && !c(b).match(d)) { var g = c(b).replace(q, function (a, b, c) { var d = [], e = b.toLowerCase() == "m", g = p[b]; c.replace(s, function (a) { e && d.length == 2 && (g += d + p[b == "m" ? "l" : "L"], d = []), d.push(f(a * u)) }); return g + d }); return g } var h = e(b), i, j; g = []; for (var k = 0, l = h.length; k < l; k++) { i = h[k], j = h[k][0].toLowerCase(), j == "z" && (j = "x"); for (var m = 1, r = i.length; m < r; m++) j += f(i[m] * u) + (m != r - 1 ? "," : o); g.push(j) } return g.join(n) }, y = function (b, c, d) { var e = a.matrix(); e.rotate(-b, .5, .5); return { dx: e.x(c, d), dy: e.y(c, d)} }, z = function (a, b, c, d, e, f) { var g = a._, h = a.matrix, k = g.fillpos, l = a.node, m = l.style, o = 1, p = "", q, r = u / b, s = u / c; m.visibility = "hidden"; if (!!b && !!c) { l.coordsize = i(r) + n + i(s), m.rotation = f * (b * c < 0 ? -1 : 1); if (f) { var t = y(f, d, e); d = t.dx, e = t.dy } b < 0 && (p += "x"), c < 0 && (p += " y") && (o = -1), m.flip = p, l.coordorigin = d * -r + n + e * -s; if (k || g.fillsize) { var v = l.getElementsByTagName(j); v = v && v[0], l.removeChild(v), k && (t = y(f, h.x(k[0], k[1]), h.y(k[0], k[1])), v.position = t.dx * o + n + t.dy * o), g.fillsize && (v.size = g.fillsize[0] * i(b) + n + g.fillsize[1] * i(c)), l.appendChild(v) } m.visibility = "visible" } }; a.toString = function () { return "Your browser doesn’t support SVG. Falling down to VML.\nYou are running Raphaël " + this.version }; var A = function (a, b, d) { var e = c(b).toLowerCase().split("-"), f = d ? "end" : "start", g = e.length, h = "classic", i = "medium", j = "medium"; while (g--) switch (e[g]) { case "block": case "classic": case "oval": case "diamond": case "open": case "none": h = e[g]; break; case "wide": case "narrow": j = e[g]; break; case "long": case "short": i = e[g] } var k = a.node.getElementsByTagName("stroke")[0]; k[f + "arrow"] = h, k[f + "arrowlength"] = i, k[f + "arrowwidth"] = j }, B = function (e, i) { e.attrs = e.attrs || {}; var l = e.node, m = e.attrs, p = l.style, q, r = v[e.type] && (i.x != m.x || i.y != m.y || i.width != m.width || i.height != m.height || i.cx != m.cx || i.cy != m.cy || i.rx != m.rx || i.ry != m.ry || i.r != m.r), s = w[e.type] && (m.cx != i.cx || m.cy != i.cy || m.r != i.r || m.rx != i.rx || m.ry != i.ry), t = e; for (var y in i) i[b](y) && (m[y] = i[y]); r && (m.path = a._getPath[e.type](e), e._.dirty = 1), i.href && (l.href = i.href), i.title && (l.title = i.title), i.target && (l.target = i.target), i.cursor && (p.cursor = i.cursor), "blur" in i && e.blur(i.blur); if (i.path && e.type == "path" || r) l.path = x(~c(m.path).toLowerCase().indexOf("r") ? a._pathToAbsolute(m.path) : m.path), e.type == "image" && (e._.fillpos = [m.x, m.y], e._.fillsize = [m.width, m.height], z(e, 1, 1, 0, 0, 0)); "transform" in i && e.transform(i.transform); if (s) { var B = +m.cx, D = +m.cy, E = +m.rx || +m.r || 0, G = +m.ry || +m.r || 0; l.path = a.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", f((B - E) * u), f((D - G) * u), f((B + E) * u), f((D + G) * u), f(B * u)) } if ("clip-rect" in i) { var H = c(i["clip-rect"]).split(k); if (H.length == 4) { H[2] = +H[2] + +H[0], H[3] = +H[3] + +H[1]; var I = l.clipRect || a._g.doc.createElement("div"), J = I.style; J.clip = a.format("rect({1}px {2}px {3}px {0}px)", H), l.clipRect || (J.position = "absolute", J.top = 0, J.left = 0, J.width = e.paper.width + "px", J.height = e.paper.height + "px", l.parentNode.insertBefore(I, l), I.appendChild(l), l.clipRect = I) } i["clip-rect"] || l.clipRect && (l.clipRect.style.clip = "auto") } if (e.textpath) { var K = e.textpath.style; i.font && (K.font = i.font), i["font-family"] && (K.fontFamily = '"' + i["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g, o) + '"'), i["font-size"] && (K.fontSize = i["font-size"]), i["font-weight"] && (K.fontWeight = i["font-weight"]), i["font-style"] && (K.fontStyle = i["font-style"]) } "arrow-start" in i && A(t, i["arrow-start"]), "arrow-end" in i && A(t, i["arrow-end"], 1); if (i.opacity != null || i["stroke-width"] != null || i.fill != null || i.src != null || i.stroke != null || i["stroke-width"] != null || i["stroke-opacity"] != null || i["fill-opacity"] != null || i["stroke-dasharray"] != null || i["stroke-miterlimit"] != null || i["stroke-linejoin"] != null || i["stroke-linecap"] != null) { var L = l.getElementsByTagName(j), M = !1; L = L && L[0], !L && (M = L = F(j)), e.type == "image" && i.src && (L.src = i.src), i.fill && (L.on = !0); if (L.on == null || i.fill == "none" || i.fill === null) L.on = !1; if (L.on && i.fill) { var N = c(i.fill).match(a._ISURL); if (N) { L.parentNode == l && l.removeChild(L), L.rotate = !0, L.src = N[1], L.type = "tile"; var O = e.getBBox(1); L.position = O.x + n + O.y, e._.fillpos = [O.x, O.y], a._preload(N[1], function () { e._.fillsize = [this.offsetWidth, this.offsetHeight] }) } else L.color = a.getRGB(i.fill).hex, L.src = o, L.type = "solid", a.getRGB(i.fill).error && (t.type in { circle: 1, ellipse: 1} || c(i.fill).charAt() != "r") && C(t, i.fill, L) && (m.fill = "none", m.gradient = i.fill, L.rotate = !1) } if ("fill-opacity" in i || "opacity" in i) { var P = ((+m["fill-opacity"] + 1 || 2) - 1) * ((+m.opacity + 1 || 2) - 1) * ((+a.getRGB(i.fill).o + 1 || 2) - 1); P = h(g(P, 0), 1), L.opacity = P, L.src && (L.color = "none") } l.appendChild(L); var Q = l.getElementsByTagName("stroke") && l.getElementsByTagName("stroke")[0], T = !1; !Q && (T = Q = F("stroke")); if (i.stroke && i.stroke != "none" || i["stroke-width"] || i["stroke-opacity"] != null || i["stroke-dasharray"] || i["stroke-miterlimit"] || i["stroke-linejoin"] || i["stroke-linecap"]) Q.on = !0; (i.stroke == "none" || i.stroke === null || Q.on == null || i.stroke == 0 || i["stroke-width"] == 0) && (Q.on = !1); var U = a.getRGB(i.stroke); Q.on && i.stroke && (Q.color = U.hex), P = ((+m["stroke-opacity"] + 1 || 2) - 1) * ((+m.opacity + 1 || 2) - 1) * ((+U.o + 1 || 2) - 1); var V = (d(i["stroke-width"]) || 1) * .75; P = h(g(P, 0), 1), i["stroke-width"] == null && (V = m["stroke-width"]), i["stroke-width"] && (Q.weight = V), V && V < 1 && (P *= V) && (Q.weight = 1), Q.opacity = P, i["stroke-linejoin"] && (Q.joinstyle = i["stroke-linejoin"] || "miter"), Q.miterlimit = i["stroke-miterlimit"] || 8, i["stroke-linecap"] && (Q.endcap = i["stroke-linecap"] == "butt" ? "flat" : i["stroke-linecap"] == "square" ? "square" : "round"); if (i["stroke-dasharray"]) { var W = { "-": "shortdash", ".": "shortdot", "-.": "shortdashdot", "-..": "shortdashdotdot", ". ": "dot", "- ": "dash", "--": "longdash", "- .": "dashdot", "--.": "longdashdot", "--..": "longdashdotdot" }; Q.dashstyle = W[b](i["stroke-dasharray"]) ? W[i["stroke-dasharray"]] : o } T && l.appendChild(Q) } if (t.type == "text") { t.paper.canvas.style.display = o; var X = t.paper.span, Y = 100, Z = m.font && m.font.match(/\d+(?:\.\d*)?(?=px)/); p = X.style, m.font && (p.font = m.font), m["font-family"] && (p.fontFamily = m["font-family"]), m["font-weight"] && (p.fontWeight = m["font-weight"]), m["font-style"] && (p.fontStyle = m["font-style"]), Z = d(m["font-size"] || Z && Z[0]) || 10, p.fontSize = Z * Y + "px", t.textpath.string && (X.innerHTML = c(t.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\n/g, "<br>")); var $ = X.getBoundingClientRect(); t.W = m.w = ($.right - $.left) / Y, t.H = m.h = ($.bottom - $.top) / Y, t.X = m.x, t.Y = m.y + t.H / 2, ("x" in i || "y" in i) && (t.path.v = a.format("m{0},{1}l{2},{1}", f(m.x * u), f(m.y * u), f(m.x * u) + 1)); var _ = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"]; for (var ba = 0, bb = _.length; ba < bb; ba++) if (_[ba] in i) { t._.dirty = 1; break } switch (m["text-anchor"]) { case "start": t.textpath.style["v-text-align"] = "left", t.bbx = t.W / 2; break; case "end": t.textpath.style["v-text-align"] = "right", t.bbx = -t.W / 2; break; default: t.textpath.style["v-text-align"] = "center", t.bbx = 0 } t.textpath.style["v-text-kern"] = !0 } }, C = function (b, f, g) { b.attrs = b.attrs || {}; var h = b.attrs, i = Math.pow, j, k, l = "linear", m = ".5 .5"; b.attrs.gradient = f, f = c(f).replace(a._radial_gradient, function (a, b, c) { l = "radial", b && c && (b = d(b), c = d(c), i(b - .5, 2) + i(c - .5, 2) > .25 && (c = e.sqrt(.25 - i(b - .5, 2)) * ((c > .5) * 2 - 1) + .5), m = b + n + c); return o }), f = f.split(/\s*\-\s*/); if (l == "linear") { var p = f.shift(); p = -d(p); if (isNaN(p)) return null } var q = a._parseDots(f); if (!q) return null; b = b.shape || b.node; if (q.length) { b.removeChild(g), g.on = !0, g.method = "none", g.color = q[0].color, g.color2 = q[q.length - 1].color; var r = []; for (var s = 0, t = q.length; s < t; s++) q[s].offset && r.push(q[s].offset + n + q[s].color); g.colors = r.length ? r.join() : "0% " + g.color, l == "radial" ? (g.type = "gradientTitle", g.focus = "100%", g.focussize = "0 0", g.focusposition = m, g.angle = 0) : (g.type = "gradient", g.angle = (270 - p) % 360), b.appendChild(g) } return 1 }, D = function (b, c) { this[0] = this.node = b, b.raphael = !0, this.id = a._oid++, b.raphaelid = this.id, this.X = 0, this.Y = 0, this.attrs = {}, this.paper = c, this.matrix = a.matrix(), this._ = { transform: [], sx: 1, sy: 1, dx: 0, dy: 0, deg: 0, dirty: 1, dirtyT: 1 }, !c.bottom && (c.bottom = this), this.prev = c.top, c.top && (c.top.next = this), c.top = this, this.next = null }, E = a.el; D.prototype = E, E.constructor = D, E.transform = function (b) { if (b == null) return this._.transform; var d = this.paper._viewBoxShift, e = d ? "s" + [d.scale, d.scale] + "-1-1t" + [d.dx, d.dy] : o, f; d && (f = b = c(b).replace(/\.{3}|\u2026/g, this._.transform || o)), a._extractTransform(this, e + b); var g = this.matrix.clone(), h = this.skew, i = this.node, j, k = ~c(this.attrs.fill).indexOf("-"), l = !c(this.attrs.fill).indexOf("url("); g.translate(-0.5, -0.5); if (l || k || this.type == "image") { h.matrix = "1 0 0 1", h.offset = "0 0", j = g.split(); if (k && j.noRotation || !j.isSimple) { i.style.filter = g.toFilter(); var m = this.getBBox(), p = this.getBBox(1), q = m.x - p.x, r = m.y - p.y; i.coordorigin = q * -u + n + r * -u, z(this, 1, 1, q, r, 0) } else i.style.filter = o, z(this, j.scalex, j.scaley, j.dx, j.dy, j.rotate) } else i.style.filter = o, h.matrix = c(g), h.offset = g.offset(); f && (this._.transform = f); return this }, E.rotate = function (a, b, e) { if (this.removed) return this; if (a != null) { a = c(a).split(k), a.length - 1 && (b = d(a[1]), e = d(a[2])), a = d(a[0]), e == null && (b = e); if (b == null || e == null) { var f = this.getBBox(1); b = f.x + f.width / 2, e = f.y + f.height / 2 } this._.dirtyT = 1, this.transform(this._.transform.concat([["r", a, b, e]])); return this } }, E.translate = function (a, b) { if (this.removed) return this; a = c(a).split(k), a.length - 1 && (b = d(a[1])), a = d(a[0]) || 0, b = +b || 0, this._.bbox && (this._.bbox.x += a, this._.bbox.y += b), this.transform(this._.transform.concat([["t", a, b]])); return this }, E.scale = function (a, b, e, f) { if (this.removed) return this; a = c(a).split(k), a.length - 1 && (b = d(a[1]), e = d(a[2]), f = d(a[3]), isNaN(e) && (e = null), isNaN(f) && (f = null)), a = d(a[0]), b == null && (b = a), f == null && (e = f); if (e == null || f == null) var g = this.getBBox(1); e = e == null ? g.x + g.width / 2 : e, f = f == null ? g.y + g.height / 2 : f, this.transform(this._.transform.concat([["s", a, b, e, f]])), this._.dirtyT = 1; return this }, E.hide = function () { !this.removed && (this.node.style.display = "none"); return this }, E.show = function () { !this.removed && (this.node.style.display = o); return this }, E._getBBox = function () { if (this.removed) return {}; return { x: this.X + (this.bbx || 0) - this.W / 2, y: this.Y - this.H, width: this.W, height: this.H} }, E.remove = function () { if (!this.removed) { this.paper.__set__ && this.paper.__set__.exclude(this), a.eve.unbind("*.*." + this.id), a._tear(this, this.paper), this.node.parentNode.removeChild(this.node), this.shape && this.shape.parentNode.removeChild(this.shape); for (var b in this) this[b] = typeof this[b] == "function" ? a._removedFactory(b) : null; this.removed = !0 } }, E.attr = function (c, d) { if (this.removed) return this; if (c == null) { var e = {}; for (var f in this.attrs) this.attrs[b](f) && (e[f] = this.attrs[f]); e.gradient && e.fill == "none" && (e.fill = e.gradient) && delete e.gradient, e.transform = this._.transform; return e } if (d == null && a.is(c, "string")) { if (c == j && this.attrs.fill == "none" && this.attrs.gradient) return this.attrs.gradient; var g = c.split(k), h = {}; for (var i = 0, m = g.length; i < m; i++) c = g[i], c in this.attrs ? h[c] = this.attrs[c] : a.is(this.paper.customAttributes[c], "function") ? h[c] = this.paper.customAttributes[c].def : h[c] = a._availableAttrs[c]; return m - 1 ? h : h[g[0]] } if (this.attrs && d == null && a.is(c, "array")) { h = {}; for (i = 0, m = c.length; i < m; i++) h[c[i]] = this.attr(c[i]); return h } var n; d != null && (n = {}, n[c] = d), d == null && a.is(c, "object") && (n = c); for (var o in n) l("attr." + o + "." + this.id, this, n[o]); if (n) { for (o in this.paper.customAttributes) if (this.paper.customAttributes[b](o) && n[b](o) && a.is(this.paper.customAttributes[o], "function")) { var p = this.paper.customAttributes[o].apply(this, [].concat(n[o])); this.attrs[o] = n[o]; for (var q in p) p[b](q) && (n[q] = p[q]) } n.text && this.type == "text" && (this.textpath.string = n.text), B(this, n) } return this }, E.toFront = function () { !this.removed && this.node.parentNode.appendChild(this.node), this.paper && this.paper.top != this && a._tofront(this, this.paper); return this }, E.toBack = function () { if (this.removed) return this; this.node.parentNode.firstChild != this.node && (this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild), a._toback(this, this.paper)); return this }, E.insertAfter = function (b) { if (this.removed) return this; b.constructor == a.st.constructor && (b = b[b.length - 1]), b.node.nextSibling ? b.node.parentNode.insertBefore(this.node, b.node.nextSibling) : b.node.parentNode.appendChild(this.node), a._insertafter(this, b, this.paper); return this }, E.insertBefore = function (b) { if (this.removed) return this; b.constructor == a.st.constructor && (b = b[0]), b.node.parentNode.insertBefore(this.node, b.node), a._insertbefore(this, b, this.paper); return this }, E.blur = function (b) { var c = this.node.runtimeStyle, d = c.filter; d = d.replace(r, o), +b !== 0 ? (this.attrs.blur = b, c.filter = d + n + m + ".Blur(pixelradius=" + (+b || 1.5) + ")", c.margin = a.format("-{0}px 0 0 -{0}px", f(+b || 1.5))) : (c.filter = d, c.margin = 0, delete this.attrs.blur) }, a._engine.path = function (a, b) { var c = F("shape"); c.style.cssText = t, c.coordsize = u + n + u, c.coordorigin = b.coordorigin; var d = new D(c, b), e = { fill: "none", stroke: "#000" }; a && (e.path = a), d.type = "path", d.path = [], d.Path = o, B(d, e), b.canvas.appendChild(c); var f = F("skew"); f.on = !0, c.appendChild(f), d.skew = f, d.transform(o); return d }, a._engine.rect = function (b, c, d, e, f, g) { var h = a._rectPath(c, d, e, f, g), i = b.path(h), j = i.attrs; i.X = j.x = c, i.Y = j.y = d, i.W = j.width = e, i.H = j.height = f, j.r = g, j.path = h, i.type = "rect"; return i }, a._engine.ellipse = function (a, b, c, d, e) { var f = a.path(), g = f.attrs; f.X = b - d, f.Y = c - e, f.W = d * 2, f.H = e * 2, f.type = "ellipse", B(f, { cx: b, cy: c, rx: d, ry: e }); return f }, a._engine.circle = function (a, b, c, d) { var e = a.path(), f = e.attrs; e.X = b - d, e.Y = c - d, e.W = e.H = d * 2, e.type = "circle", B(e, { cx: b, cy: c, r: d }); return e }, a._engine.image = function (b, c, d, e, f, g) { var h = a._rectPath(d, e, f, g), i = b.path(h).attr({ stroke: "none" }), k = i.attrs, l = i.node, m = l.getElementsByTagName(j)[0]; k.src = c, i.X = k.x = d, i.Y = k.y = e, i.W = k.width = f, i.H = k.height = g, k.path = h, i.type = "image", m.parentNode == l && l.removeChild(m), m.rotate = !0, m.src = c, m.type = "tile", i._.fillpos = [d, e], i._.fillsize = [f, g], l.appendChild(m), z(i, 1, 1, 0, 0, 0); return i }, a._engine.text = function (b, d, e, g) { var h = F("shape"), i = F("path"), j = F("textpath"); d = d || 0, e = e || 0, g = g || "", i.v = a.format("m{0},{1}l{2},{1}", f(d * u), f(e * u), f(d * u) + 1), i.textpathok = !0, j.string = c(g), j.on = !0, h.style.cssText = t, h.coordsize = u + n + u, h.coordorigin = "0 0"; var k = new D(h, b), l = { fill: "#000", stroke: "none", font: a._availableAttrs.font, text: g }; k.shape = h, k.path = i, k.textpath = j, k.type = "text", k.attrs.text = c(g), k.attrs.x = d, k.attrs.y = e, k.attrs.w = 1, k.attrs.h = 1, B(k, l), h.appendChild(j), h.appendChild(i), b.canvas.appendChild(h); var m = F("skew"); m.on = !0, h.appendChild(m), k.skew = m, k.transform(o); return k }, a._engine.setSize = function (b, c) { var d = this.canvas.style; this.width = b, this.height = c, b == +b && (b += "px"), c == +c && (c += "px"), d.width = b, d.height = c, d.clip = "rect(0 " + b + " " + c + " 0)", this._viewBox && a._engine.setViewBox.apply(this, this._viewBox); return this }, a._engine.setViewBox = function (b, c, d, e, f) { a.eve("setViewBox", this, this._viewBox, [b, c, d, e, f]); var h = this.width, i = this.height, j = 1 / g(d / h, e / i), k, l; f && (k = i / e, l = h / d, d * k < h && (b -= (h - d * k) / 2 / k), e * l < i && (c -= (i - e * l) / 2 / l)), this._viewBox = [b, c, d, e, !!f], this._viewBoxShift = { dx: -b, dy: -c, scale: j }, this.forEach(function (a) { a.transform("...") }); return this }; var F; a._engine.initWin = function (a) { var b = a.document; b.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)"); try { !b.namespaces.rvml && b.namespaces.add("rvml", "urn:schemas-microsoft-com:vml"), F = function (a) { return b.createElement("<rvml:" + a + ' class="rvml">') } } catch (c) { F = function (a) { return b.createElement("<" + a + ' xmlns="urn:schemas-microsoft.com:vml" class="rvml">') } } }, a._engine.initWin(a._g.win), a._engine.create = function () { var b = a._getContainer.apply(0, arguments), c = b.container, d = b.height, e, f = b.width, g = b.x, h = b.y; if (!c) throw new Error("VML container not found."); var i = new a._Paper, j = i.canvas = a._g.doc.createElement("div"), k = j.style; g = g || 0, h = h || 0, f = f || 512, d = d || 342, i.width = f, i.height = d, f == +f && (f += "px"), d == +d && (d += "px"), i.coordsize = u * 1e3 + n + u * 1e3, i.coordorigin = "0 0", i.span = a._g.doc.createElement("span"), i.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;", j.appendChild(i.span), k.cssText = a.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", f, d), c == 1 ? (a._g.doc.body.appendChild(j), k.left = g + "px", k.top = h + "px", k.position = "absolute") : c.firstChild ? c.insertBefore(j, c.firstChild) : c.appendChild(j), i.renderfix = function () { }; return i }, a.prototype.clear = function () { a.eve("clear", this), this.canvas.innerHTML = o, this.span = a._g.doc.createElement("span"), this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;", this.canvas.appendChild(this.span), this.bottom = this.top = null }, a.prototype.remove = function () { a.eve("remove", this), this.canvas.parentNode.removeChild(this.canvas); for (var b in this) this[b] = typeof this[b] == "function" ? a._removedFactory(b) : null; return !0 }; var G = a.st; for (var H in E) E[b](H) && !G[b](H) && (G[H] = function (a) { return function () { var b = arguments; return this.forEach(function (c) { c[a].apply(c, b) }) } } (H)) } (window.Raphael);
/*! jQuery UI - v1.9.2 - 2012-12-14
* http://jqueryui.com
* Includes: jquery.ui.effect.js, jquery.ui.effect-blind.js, jquery.ui.effect-bounce.js, jquery.ui.effect-clip.js, jquery.ui.effect-drop.js, jquery.ui.effect-explode.js, jquery.ui.effect-fade.js, jquery.ui.effect-fold.js, jquery.ui.effect-highlight.js, jquery.ui.effect-pulsate.js, jquery.ui.effect-scale.js, jquery.ui.effect-shake.js, jquery.ui.effect-slide.js, jquery.ui.effect-transfer.js
* Copyright (c) 2012 jQuery Foundation and other contributors Licensed MIT */

jQuery.effects||function(e,t){var n=e.uiBackCompat!==!1,r="ui-effects-";e.effects={effect:{}},function(t,n){function p(e,t,n){var r=a[t.type]||{};return e==null?n||!t.def?null:t.def:(e=r.floor?~~e:parseFloat(e),isNaN(e)?t.def:r.mod?(e+r.mod)%r.mod:0>e?0:r.max<e?r.max:e)}function d(e){var n=o(),r=n._rgba=[];return e=e.toLowerCase(),h(s,function(t,i){var s,o=i.re.exec(e),a=o&&i.parse(o),f=i.space||"rgba";if(a)return s=n[f](a),n[u[f].cache]=s[u[f].cache],r=n._rgba=s._rgba,!1}),r.length?(r.join()==="0,0,0,0"&&t.extend(r,c.transparent),n):c[e]}function v(e,t,n){return n=(n+1)%1,n*6<1?e+(t-e)*n*6:n*2<1?t:n*3<2?e+(t-e)*(2/3-n)*6:e}var r="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor".split(" "),i=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1]*2.55,e[2]*2.55,e[3]*2.55,e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],o=t.Color=function(e,n,r,i){return new t.Color.fn.parse(e,n,r,i)},u={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},f=o.support={},l=t("<p>")[0],c,h=t.each;l.style.cssText="background-color:rgba(1,1,1,.5)",f.rgba=l.style.backgroundColor.indexOf("rgba")>-1,h(u,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),o.fn=t.extend(o.prototype,{parse:function(r,i,s,a){if(r===n)return this._rgba=[null,null,null,null],this;if(r.jquery||r.nodeType)r=t(r).css(i),i=n;var f=this,l=t.type(r),v=this._rgba=[];i!==n&&(r=[r,i,s,a],l="array");if(l==="string")return this.parse(d(r)||c._default);if(l==="array")return h(u.rgba.props,function(e,t){v[t.idx]=p(r[t.idx],t)}),this;if(l==="object")return r instanceof o?h(u,function(e,t){r[t.cache]&&(f[t.cache]=r[t.cache].slice())}):h(u,function(t,n){var i=n.cache;h(n.props,function(e,t){if(!f[i]&&n.to){if(e==="alpha"||r[e]==null)return;f[i]=n.to(f._rgba)}f[i][t.idx]=p(r[e],t,!0)}),f[i]&&e.inArray(null,f[i].slice(0,3))<0&&(f[i][3]=1,n.from&&(f._rgba=n.from(f[i])))}),this},is:function(e){var t=o(e),n=!0,r=this;return h(u,function(e,i){var s,o=t[i.cache];return o&&(s=r[i.cache]||i.to&&i.to(r._rgba)||[],h(i.props,function(e,t){if(o[t.idx]!=null)return n=o[t.idx]===s[t.idx],n})),n}),n},_space:function(){var e=[],t=this;return h(u,function(n,r){t[r.cache]&&e.push(n)}),e.pop()},transition:function(e,t){var n=o(e),r=n._space(),i=u[r],s=this.alpha()===0?o("transparent"):this,f=s[i.cache]||i.to(s._rgba),l=f.slice();return n=n[i.cache],h(i.props,function(e,r){var i=r.idx,s=f[i],o=n[i],u=a[r.type]||{};if(o===null)return;s===null?l[i]=o:(u.mod&&(o-s>u.mod/2?s+=u.mod:s-o>u.mod/2&&(s-=u.mod)),l[i]=p((o-s)*t+s,r))}),this[r](l)},blend:function(e){if(this._rgba[3]===1)return this;var n=this._rgba.slice(),r=n.pop(),i=o(e)._rgba;return o(t.map(n,function(e,t){return(1-r)*i[t]+r*e}))},toRgbaString:function(){var e="rgba(",n=t.map(this._rgba,function(e,t){return e==null?t>2?1:0:e});return n[3]===1&&(n.pop(),e="rgb("),e+n.join()+")"},toHslaString:function(){var e="hsla(",n=t.map(this.hsla(),function(e,t){return e==null&&(e=t>2?1:0),t&&t<3&&(e=Math.round(e*100)+"%"),e});return n[3]===1&&(n.pop(),e="hsl("),e+n.join()+")"},toHexString:function(e){var n=this._rgba.slice(),r=n.pop();return e&&n.push(~~(r*255)),"#"+t.map(n,function(e){return e=(e||0).toString(16),e.length===1?"0"+e:e}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}}),o.fn.parse.prototype=o.fn,u.hsla.to=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/255,n=e[1]/255,r=e[2]/255,i=e[3],s=Math.max(t,n,r),o=Math.min(t,n,r),u=s-o,a=s+o,f=a*.5,l,c;return o===s?l=0:t===s?l=60*(n-r)/u+360:n===s?l=60*(r-t)/u+120:l=60*(t-n)/u+240,f===0||f===1?c=f:f<=.5?c=u/a:c=u/(2-a),[Math.round(l)%360,c,f,i==null?1:i]},u.hsla.from=function(e){if(e[0]==null||e[1]==null||e[2]==null)return[null,null,null,e[3]];var t=e[0]/360,n=e[1],r=e[2],i=e[3],s=r<=.5?r*(1+n):r+n-r*n,o=2*r-s;return[Math.round(v(o,s,t+1/3)*255),Math.round(v(o,s,t)*255),Math.round(v(o,s,t-1/3)*255),i]},h(u,function(e,r){var s=r.props,u=r.cache,a=r.to,f=r.from;o.fn[e]=function(e){a&&!this[u]&&(this[u]=a(this._rgba));if(e===n)return this[u].slice();var r,i=t.type(e),l=i==="array"||i==="object"?e:arguments,c=this[u].slice();return h(s,function(e,t){var n=l[i==="object"?e:t.idx];n==null&&(n=c[t.idx]),c[t.idx]=p(n,t)}),f?(r=o(f(c)),r[u]=c,r):o(c)},h(s,function(n,r){if(o.fn[n])return;o.fn[n]=function(s){var o=t.type(s),u=n==="alpha"?this._hsla?"hsla":"rgba":e,a=this[u](),f=a[r.idx],l;return o==="undefined"?f:(o==="function"&&(s=s.call(this,f),o=t.type(s)),s==null&&r.empty?this:(o==="string"&&(l=i.exec(s),l&&(s=f+parseFloat(l[2])*(l[1]==="+"?1:-1))),a[r.idx]=s,this[u](a)))}})}),h(r,function(e,n){t.cssHooks[n]={set:function(e,r){var i,s,u="";if(t.type(r)!=="string"||(i=d(r))){r=o(i||r);if(!f.rgba&&r._rgba[3]!==1){s=n==="backgroundColor"?e.parentNode:e;while((u===""||u==="transparent")&&s&&s.style)try{u=t.css(s,"backgroundColor"),s=s.parentNode}catch(a){}r=r.blend(u&&u!=="transparent"?u:"_default")}r=r.toRgbaString()}try{e.style[n]=r}catch(l){}}},t.fx.step[n]=function(e){e.colorInit||(e.start=o(e.elem,n),e.end=o(e.end),e.colorInit=!0),t.cssHooks[n].set(e.elem,e.start.transition(e.end,e.pos))}}),t.cssHooks.borderColor={expand:function(e){var t={};return h(["Top","Right","Bottom","Left"],function(n,r){t["border"+r+"Color"]=e}),t}},c=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(){var t=this.ownerDocument.defaultView?this.ownerDocument.defaultView.getComputedStyle(this,null):this.currentStyle,n={},r,i;if(t&&t.length&&t[0]&&t[t[0]]){i=t.length;while(i--)r=t[i],typeof t[r]=="string"&&(n[e.camelCase(r)]=t[r])}else for(r in t)typeof t[r]=="string"&&(n[r]=t[r]);return n}function s(t,n){var i={},s,o;for(s in n)o=n[s],t[s]!==o&&!r[s]&&(e.fx.step[s]||!isNaN(parseFloat(o)))&&(i[s]=o);return i}var n=["add","remove","toggle"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};e.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(t,n){e.fx.step[n]=function(e){if(e.end!=="none"&&!e.setAttr||e.pos===1&&!e.setAttr)jQuery.style(e.elem,n,e.end),e.setAttr=!0}}),e.effects.animateClass=function(t,r,o,u){var a=e.speed(r,o,u);return this.queue(function(){var r=e(this),o=r.attr("class")||"",u,f=a.children?r.find("*").andSelf():r;f=f.map(function(){var t=e(this);return{el:t,start:i.call(this)}}),u=function(){e.each(n,function(e,n){t[n]&&r[n+"Class"](t[n])})},u(),f=f.map(function(){return this.end=i.call(this.el[0]),this.diff=s(this.start,this.end),this}),r.attr("class",o),f=f.map(function(){var t=this,n=e.Deferred(),r=jQuery.extend({},a,{queue:!1,complete:function(){n.resolve(t)}});return this.el.animate(this.diff,r),n.promise()}),e.when.apply(e,f.get()).done(function(){u(),e.each(arguments,function(){var t=this.el;e.each(this.diff,function(e){t.css(e,"")})}),a.complete.call(r[0])})})},e.fn.extend({_addClass:e.fn.addClass,addClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{add:t},n,r,i):this._addClass(t)},_removeClass:e.fn.removeClass,removeClass:function(t,n,r,i){return n?e.effects.animateClass.call(this,{remove:t},n,r,i):this._removeClass(t)},_toggleClass:e.fn.toggleClass,toggleClass:function(n,r,i,s,o){return typeof r=="boolean"||r===t?i?e.effects.animateClass.call(this,r?{add:n}:{remove:n},i,s,o):this._toggleClass(n,r):e.effects.animateClass.call(this,{toggle:n},r,i,s)},switchClass:function(t,n,r,i,s){return e.effects.animateClass.call(this,{add:n,remove:t},r,i,s)}})}(),function(){function i(t,n,r,i){e.isPlainObject(t)&&(n=t,t=t.effect),t={effect:t},n==null&&(n={}),e.isFunction(n)&&(i=n,r=null,n={});if(typeof n=="number"||e.fx.speeds[n])i=r,r=n,n={};return e.isFunction(r)&&(i=r,r=null),n&&e.extend(t,n),r=r||n.duration,t.duration=e.fx.off?0:typeof r=="number"?r:r in e.fx.speeds?e.fx.speeds[r]:e.fx.speeds._default,t.complete=i||n.complete,t}function s(t){return!t||typeof t=="number"||e.fx.speeds[t]?!0:typeof t=="string"&&!e.effects.effect[t]?n&&e.effects[t]?!1:!0:!1}e.extend(e.effects,{version:"1.9.2",save:function(e,t){for(var n=0;n<t.length;n++)t[n]!==null&&e.data(r+t[n],e[0].style[t[n]])},restore:function(e,n){var i,s;for(s=0;s<n.length;s++)n[s]!==null&&(i=e.data(r+n[s]),i===t&&(i=""),e.css(n[s],i))},setMode:function(e,t){return t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var n,r;switch(e[0]){case"top":n=0;break;case"middle":n=.5;break;case"bottom":n=1;break;default:n=e[0]/t.height}switch(e[1]){case"left":r=0;break;case"center":r=.5;break;case"right":r=1;break;default:r=e[1]/t.width}return{x:r,y:n}},createWrapper:function(t){if(t.parent().is(".ui-effects-wrapper"))return t.parent();var n={width:t.outerWidth(!0),height:t.outerHeight(!0),"float":t.css("float")},r=e("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),i={width:t.width(),height:t.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return t.wrap(r),(t[0]===s||e.contains(t[0],s))&&e(s).focus(),r=t.parent(),t.css("position")==="static"?(r.css({position:"relative"}),t.css({position:"relative"})):(e.extend(n,{position:t.css("position"),zIndex:t.css("z-index")}),e.each(["top","left","bottom","right"],function(e,r){n[r]=t.css(r),isNaN(parseInt(n[r],10))&&(n[r]="auto")}),t.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),t.css(i),r.css(n).show()},removeWrapper:function(t){var n=document.activeElement;return t.parent().is(".ui-effects-wrapper")&&(t.parent().replaceWith(t),(t[0]===n||e.contains(t[0],n))&&e(n).focus()),t},setTransition:function(t,n,r,i){return i=i||{},e.each(n,function(e,n){var s=t.cssUnit(n);s[0]>0&&(i[n]=s[0]*r+s[1])}),i}}),e.fn.extend({effect:function(){function a(n){function u(){e.isFunction(i)&&i.call(r[0]),e.isFunction(n)&&n()}var r=e(this),i=t.complete,s=t.mode;(r.is(":hidden")?s==="hide":s==="show")?u():o.call(r[0],t,u)}var t=i.apply(this,arguments),r=t.mode,s=t.queue,o=e.effects.effect[t.effect],u=!o&&n&&e.effects[t.effect];return e.fx.off||!o&&!u?r?this[r](t.duration,t.complete):this.each(function(){t.complete&&t.complete.call(this)}):o?s===!1?this.each(a):this.queue(s||"fx",a):u.call(this,{options:t,duration:t.duration,callback:t.complete,mode:t.mode})},_show:e.fn.show,show:function(e){if(s(e))return this._show.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="show",this.effect.call(this,t)},_hide:e.fn.hide,hide:function(e){if(s(e))return this._hide.apply(this,arguments);var t=i.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)},__toggle:e.fn.toggle,toggle:function(t){if(s(t)||typeof t=="boolean"||e.isFunction(t))return this.__toggle.apply(this,arguments);var n=i.apply(this,arguments);return n.mode="toggle",this.effect.call(this,n)},cssUnit:function(t){var n=this.css(t),r=[];return e.each(["em","px","%","pt"],function(e,t){n.indexOf(t)>0&&(r=[parseFloat(n),t])}),r}})}(),function(){var t={};e.each(["Quad","Cubic","Quart","Quint","Expo"],function(e,n){t[n]=function(t){return Math.pow(t,e+2)}}),e.extend(t,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return e===0||e===1?e:-Math.pow(2,8*(e-1))*Math.sin(((e-1)*80-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){var t,n=4;while(e<((t=Math.pow(2,--n))-1)/11);return 1/Math.pow(4,3-n)-7.5625*Math.pow((t*3-2)/22-e,2)}}),e.each(t,function(t,n){e.easing["easeIn"+t]=n,e.easing["easeOut"+t]=function(e){return 1-n(1-e)},e.easing["easeInOut"+t]=function(e){return e<.5?n(e*2)/2:1-n(e*-2+2)/2}})}()}(jQuery);(function(e,t){var n=/up|down|vertical/,r=/up|left|vertical|horizontal/;e.effects.effect.blind=function(t,i){var s=e(this),o=["position","top","bottom","left","right","height","width"],u=e.effects.setMode(s,t.mode||"hide"),a=t.direction||"up",f=n.test(a),l=f?"height":"width",c=f?"top":"left",h=r.test(a),p={},d=u==="show",v,m,g;s.parent().is(".ui-effects-wrapper")?e.effects.save(s.parent(),o):e.effects.save(s,o),s.show(),v=e.effects.createWrapper(s).css({overflow:"hidden"}),m=v[l](),g=parseFloat(v.css(c))||0,p[l]=d?m:0,h||(s.css(f?"bottom":"right",0).css(f?"top":"left","auto").css({position:"absolute"}),p[c]=d?g:m+g),d&&(v.css(l,0),h||v.css(c,g+m)),v.animate(p,{duration:t.duration,easing:t.easing,queue:!1,complete:function(){u==="hide"&&s.hide(),e.effects.restore(s,o),e.effects.removeWrapper(s),i()}})}})(jQuery);(function(e,t){e.effects.effect.bounce=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=s==="hide",u=s==="show",a=t.direction||"up",f=t.distance,l=t.times||5,c=l*2+(u||o?1:0),h=t.duration/c,p=t.easing,d=a==="up"||a==="down"?"top":"left",v=a==="up"||a==="left",m,g,y,b=r.queue(),w=b.length;(u||o)&&i.push("opacity"),e.effects.save(r,i),r.show(),e.effects.createWrapper(r),f||(f=r[d==="top"?"outerHeight":"outerWidth"]()/3),u&&(y={opacity:1},y[d]=0,r.css("opacity",0).css(d,v?-f*2:f*2).animate(y,h,p)),o&&(f/=Math.pow(2,l-1)),y={},y[d]=0;for(m=0;m<l;m++)g={},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p).animate(y,h,p),f=o?f*2:f/2;o&&(g={opacity:0},g[d]=(v?"-=":"+=")+f,r.animate(g,h,p)),r.queue(function(){o&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,c+1))),r.dequeue()}})(jQuery);(function(e,t){e.effects.effect.clip=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"vertical",a=u==="vertical",f=a?"height":"width",l=a?"top":"left",c={},h,p,d;e.effects.save(r,i),r.show(),h=e.effects.createWrapper(r).css({overflow:"hidden"}),p=r[0].tagName==="IMG"?h:r,d=p[f](),o&&(p.css(f,0),p.css(l,d/2)),c[f]=o?d:0,c[l]=o?0:d/2,p.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o||r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}})(jQuery);(function(e,t){e.effects.effect.drop=function(t,n){var r=e(this),i=["position","top","bottom","left","right","opacity","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left"?"pos":"neg",l={opacity:o?1:0},c;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),c=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0)/2,o&&r.css("opacity",0).css(a,f==="pos"?-c:c),l[a]=(o?f==="pos"?"+=":"-=":f==="pos"?"-=":"+=")+c,r.animate(l,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}})(jQuery);(function(e,t){e.effects.effect.explode=function(t,n){function y(){c.push(this),c.length===r*i&&b()}function b(){s.css({visibility:"visible"}),e(c).remove(),u||s.hide(),n()}var r=t.pieces?Math.round(Math.sqrt(t.pieces)):3,i=r,s=e(this),o=e.effects.setMode(s,t.mode||"hide"),u=o==="show",a=s.show().css("visibility","hidden").offset(),f=Math.ceil(s.outerWidth()/i),l=Math.ceil(s.outerHeight()/r),c=[],h,p,d,v,m,g;for(h=0;h<r;h++){v=a.top+h*l,g=h-(r-1)/2;for(p=0;p<i;p++)d=a.left+p*f,m=p-(i-1)/2,s.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-p*f,top:-h*l}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:l,left:d+(u?m*f:0),top:v+(u?g*l:0),opacity:u?0:1}).animate({left:d+(u?0:m*f),top:v+(u?0:g*l),opacity:u?1:0},t.duration||500,t.easing,y)}}})(jQuery);(function(e,t){e.effects.effect.fade=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"toggle");r.animate({opacity:i},{queue:!1,duration:t.duration,easing:t.easing,complete:n})}})(jQuery);(function(e,t){e.effects.effect.fold=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"hide"),o=s==="show",u=s==="hide",a=t.size||15,f=/([0-9]+)%/.exec(a),l=!!t.horizFirst,c=o!==l,h=c?["width","height"]:["height","width"],p=t.duration/2,d,v,m={},g={};e.effects.save(r,i),r.show(),d=e.effects.createWrapper(r).css({overflow:"hidden"}),v=c?[d.width(),d.height()]:[d.height(),d.width()],f&&(a=parseInt(f[1],10)/100*v[u?0:1]),o&&d.css(l?{height:0,width:a}:{height:a,width:0}),m[h[0]]=o?v[0]:a,g[h[1]]=o?v[1]:0,d.animate(m,p,t.easing).animate(g,p,t.easing,function(){u&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()})}})(jQuery);(function(e,t){e.effects.effect.highlight=function(t,n){var r=e(this),i=["backgroundImage","backgroundColor","opacity"],s=e.effects.setMode(r,t.mode||"show"),o={backgroundColor:r.css("backgroundColor")};s==="hide"&&(o.opacity=0),e.effects.save(r,i),r.show().css({backgroundImage:"none",backgroundColor:t.color||"#ffff99"}).animate(o,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),n()}})}})(jQuery);(function(e,t){e.effects.effect.pulsate=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"show"),s=i==="show",o=i==="hide",u=s||i==="hide",a=(t.times||5)*2+(u?1:0),f=t.duration/a,l=0,c=r.queue(),h=c.length,p;if(s||!r.is(":visible"))r.css("opacity",0).show(),l=1;for(p=1;p<a;p++)r.animate({opacity:l},f,t.easing),l=1-l;r.animate({opacity:l},f,t.easing),r.queue(function(){o&&r.hide(),n()}),h>1&&c.splice.apply(c,[1,0].concat(c.splice(h,a+1))),r.dequeue()}})(jQuery);(function(e,t){e.effects.effect.puff=function(t,n){var r=e(this),i=e.effects.setMode(r,t.mode||"hide"),s=i==="hide",o=parseInt(t.percent,10)||150,u=o/100,a={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()};e.extend(t,{effect:"scale",queue:!1,fade:!0,mode:i,complete:n,percent:s?o:100,from:s?a:{height:a.height*u,width:a.width*u,outerHeight:a.outerHeight*u,outerWidth:a.outerWidth*u}}),r.effect(t)},e.effects.effect.scale=function(t,n){var r=e(this),i=e.extend(!0,{},t),s=e.effects.setMode(r,t.mode||"effect"),o=parseInt(t.percent,10)||(parseInt(t.percent,10)===0?0:s==="hide"?0:100),u=t.direction||"both",a=t.origin,f={height:r.height(),width:r.width(),outerHeight:r.outerHeight(),outerWidth:r.outerWidth()},l={y:u!=="horizontal"?o/100:1,x:u!=="vertical"?o/100:1};i.effect="size",i.queue=!1,i.complete=n,s!=="effect"&&(i.origin=a||["middle","center"],i.restore=!0),i.from=t.from||(s==="show"?{height:0,width:0,outerHeight:0,outerWidth:0}:f),i.to={height:f.height*l.y,width:f.width*l.x,outerHeight:f.outerHeight*l.y,outerWidth:f.outerWidth*l.x},i.fade&&(s==="show"&&(i.from.opacity=0,i.to.opacity=1),s==="hide"&&(i.from.opacity=1,i.to.opacity=0)),r.effect(i)},e.effects.effect.size=function(t,n){var r,i,s,o=e(this),u=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],f=["width","height","overflow"],l=["fontSize"],c=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=e.effects.setMode(o,t.mode||"effect"),d=t.restore||p!=="effect",v=t.scale||"both",m=t.origin||["middle","center"],g=o.css("position"),y=d?u:a,b={height:0,width:0,outerHeight:0,outerWidth:0};p==="show"&&o.show(),r={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},t.mode==="toggle"&&p==="show"?(o.from=t.to||b,o.to=t.from||r):(o.from=t.from||(p==="show"?b:r),o.to=t.to||(p==="hide"?b:r)),s={from:{y:o.from.height/r.height,x:o.from.width/r.width},to:{y:o.to.height/r.height,x:o.to.width/r.width}};if(v==="box"||v==="both")s.from.y!==s.to.y&&(y=y.concat(c),o.from=e.effects.setTransition(o,c,s.from.y,o.from),o.to=e.effects.setTransition(o,c,s.to.y,o.to)),s.from.x!==s.to.x&&(y=y.concat(h),o.from=e.effects.setTransition(o,h,s.from.x,o.from),o.to=e.effects.setTransition(o,h,s.to.x,o.to));(v==="content"||v==="both")&&s.from.y!==s.to.y&&(y=y.concat(l).concat(f),o.from=e.effects.setTransition(o,l,s.from.y,o.from),o.to=e.effects.setTransition(o,l,s.to.y,o.to)),e.effects.save(o,y),o.show(),e.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(i=e.effects.getBaseline(m,r),o.from.top=(r.outerHeight-o.outerHeight())*i.y,o.from.left=(r.outerWidth-o.outerWidth())*i.x,o.to.top=(r.outerHeight-o.to.outerHeight)*i.y,o.to.left=(r.outerWidth-o.to.outerWidth)*i.x),o.css(o.from);if(v==="content"||v==="both")c=c.concat(["marginTop","marginBottom"]).concat(l),h=h.concat(["marginLeft","marginRight"]),f=u.concat(c).concat(h),o.find("*[width]").each(function(){var n=e(this),r={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};d&&e.effects.save(n,f),n.from={height:r.height*s.from.y,width:r.width*s.from.x,outerHeight:r.outerHeight*s.from.y,outerWidth:r.outerWidth*s.from.x},n.to={height:r.height*s.to.y,width:r.width*s.to.x,outerHeight:r.height*s.to.y,outerWidth:r.width*s.to.x},s.from.y!==s.to.y&&(n.from=e.effects.setTransition(n,c,s.from.y,n.from),n.to=e.effects.setTransition(n,c,s.to.y,n.to)),s.from.x!==s.to.x&&(n.from=e.effects.setTransition(n,h,s.from.x,n.from),n.to=e.effects.setTransition(n,h,s.to.x,n.to)),n.css(n.from),n.animate(n.to,t.duration,t.easing,function(){d&&e.effects.restore(n,f)})});o.animate(o.to,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){o.to.opacity===0&&o.css("opacity",o.from.opacity),p==="hide"&&o.hide(),e.effects.restore(o,y),d||(g==="static"?o.css({position:"relative",top:o.to.top,left:o.to.left}):e.each(["top","left"],function(e,t){o.css(t,function(t,n){var r=parseInt(n,10),i=e?o.to.left:o.to.top;return n==="auto"?i+"px":r+i+"px"})})),e.effects.removeWrapper(o),n()}})}})(jQuery);(function(e,t){e.effects.effect.shake=function(t,n){var r=e(this),i=["position","top","bottom","left","right","height","width"],s=e.effects.setMode(r,t.mode||"effect"),o=t.direction||"left",u=t.distance||20,a=t.times||3,f=a*2+1,l=Math.round(t.duration/f),c=o==="up"||o==="down"?"top":"left",h=o==="up"||o==="left",p={},d={},v={},m,g=r.queue(),y=g.length;e.effects.save(r,i),r.show(),e.effects.createWrapper(r),p[c]=(h?"-=":"+=")+u,d[c]=(h?"+=":"-=")+u*2,v[c]=(h?"-=":"+=")+u*2,r.animate(p,l,t.easing);for(m=1;m<a;m++)r.animate(d,l,t.easing).animate(v,l,t.easing);r.animate(d,l,t.easing).animate(p,l/2,t.easing).queue(function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}),y>1&&g.splice.apply(g,[1,0].concat(g.splice(y,f+1))),r.dequeue()}})(jQuery);(function(e,t){e.effects.effect.slide=function(t,n){var r=e(this),i=["position","top","bottom","left","right","width","height"],s=e.effects.setMode(r,t.mode||"show"),o=s==="show",u=t.direction||"left",a=u==="up"||u==="down"?"top":"left",f=u==="up"||u==="left",l,c={};e.effects.save(r,i),r.show(),l=t.distance||r[a==="top"?"outerHeight":"outerWidth"](!0),e.effects.createWrapper(r).css({overflow:"hidden"}),o&&r.css(a,f?isNaN(l)?"-"+l:-l:l),c[a]=(o?f?"+=":"-=":f?"-=":"+=")+l,r.animate(c,{queue:!1,duration:t.duration,easing:t.easing,complete:function(){s==="hide"&&r.hide(),e.effects.restore(r,i),e.effects.removeWrapper(r),n()}})}})(jQuery);(function(e,t){e.effects.effect.transfer=function(t,n){var r=e(this),i=e(t.to),s=i.css("position")==="fixed",o=e("body"),u=s?o.scrollTop():0,a=s?o.scrollLeft():0,f=i.offset(),l={top:f.top-u,left:f.left-a,height:i.innerHeight(),width:i.innerWidth()},c=r.offset(),h=e('<div class="ui-effects-transfer"></div>').appendTo(document.body).addClass(t.className).css({top:c.top-u,left:c.left-a,height:r.innerHeight(),width:r.innerWidth(),position:s?"fixed":"absolute"}).animate(l,t.duration,t.easing,function(){h.remove(),n()})}})(jQuery);;
/*!
 * jQuery UI Position 1.10.1
 * http://jqueryui.com
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */
(function( $, undefined ) {

$.ui = $.ui || {};

var cachedScrollbarWidth,
	max = Math.max,
	abs = Math.abs,
	round = Math.round,
	rhorizontal = /left|center|right/,
	rvertical = /top|center|bottom/,
	roffset = /[\+\-]\d+(\.[\d]+)?%?/,
	rposition = /^\w+/,
	rpercent = /%$/,
	_position = $.fn.position;

function getOffsets( offsets, width, height ) {
	return [
		parseFloat( offsets[ 0 ] ) * ( rpercent.test( offsets[ 0 ] ) ? width / 100 : 1 ),
		parseFloat( offsets[ 1 ] ) * ( rpercent.test( offsets[ 1 ] ) ? height / 100 : 1 )
	];
}

function parseCss( element, property ) {
	return parseInt( $.css( element, property ), 10 ) || 0;
}

function getDimensions( elem ) {
	var raw = elem[0];
	if ( raw.nodeType === 9 ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: 0, left: 0 }
		};
	}
	if ( $.isWindow( raw ) ) {
		return {
			width: elem.width(),
			height: elem.height(),
			offset: { top: elem.scrollTop(), left: elem.scrollLeft() }
		};
	}
	if ( raw.preventDefault ) {
		return {
			width: 0,
			height: 0,
			offset: { top: raw.pageY, left: raw.pageX }
		};
	}
	return {
		width: elem.outerWidth(),
		height: elem.outerHeight(),
		offset: elem.offset()
	};
}

$.position = {
	scrollbarWidth: function() {
		if ( cachedScrollbarWidth !== undefined ) {
			return cachedScrollbarWidth;
		}
		var w1, w2,
			div = $( "<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>" ),
			innerDiv = div.children()[0];

		$( "body" ).append( div );
		w1 = innerDiv.offsetWidth;
		div.css( "overflow", "scroll" );

		w2 = innerDiv.offsetWidth;

		if ( w1 === w2 ) {
			w2 = div[0].clientWidth;
		}

		div.remove();

		return (cachedScrollbarWidth = w1 - w2);
	},
	getScrollInfo: function( within ) {
		var overflowX = within.isWindow ? "" : within.element.css( "overflow-x" ),
			overflowY = within.isWindow ? "" : within.element.css( "overflow-y" ),
			hasOverflowX = overflowX === "scroll" ||
				( overflowX === "auto" && within.width < within.element[0].scrollWidth ),
			hasOverflowY = overflowY === "scroll" ||
				( overflowY === "auto" && within.height < within.element[0].scrollHeight );
		return {
			width: hasOverflowX ? $.position.scrollbarWidth() : 0,
			height: hasOverflowY ? $.position.scrollbarWidth() : 0
		};
	},
	getWithinInfo: function( element ) {
		var withinElement = $( element || window ),
			isWindow = $.isWindow( withinElement[0] );
		return {
			element: withinElement,
			isWindow: isWindow,
			offset: withinElement.offset() || { left: 0, top: 0 },
			scrollLeft: withinElement.scrollLeft(),
			scrollTop: withinElement.scrollTop(),
			width: isWindow ? withinElement.width() : withinElement.outerWidth(),
			height: isWindow ? withinElement.height() : withinElement.outerHeight()
		};
	}
};

$.fn.position = function( options ) {
	if ( !options || !options.of ) {
		return _position.apply( this, arguments );
	}

	// make a copy, we don't want to modify arguments
	options = $.extend( {}, options );

	var atOffset, targetWidth, targetHeight, targetOffset, basePosition, dimensions,
		target = $( options.of ),
		within = $.position.getWithinInfo( options.within ),
		scrollInfo = $.position.getScrollInfo( within ),
		collision = ( options.collision || "flip" ).split( " " ),
		offsets = {};

	dimensions = getDimensions( target );
	if ( target[0].preventDefault ) {
		// force left top to allow flipping
		options.at = "left top";
	}
	targetWidth = dimensions.width;
	targetHeight = dimensions.height;
	targetOffset = dimensions.offset;
	// clone to reuse original targetOffset later
	basePosition = $.extend( {}, targetOffset );

	// force my and at to have valid horizontal and vertical positions
	// if a value is missing or invalid, it will be converted to center
	$.each( [ "my", "at" ], function() {
		var pos = ( options[ this ] || "" ).split( " " ),
			horizontalOffset,
			verticalOffset;

		if ( pos.length === 1) {
			pos = rhorizontal.test( pos[ 0 ] ) ?
				pos.concat( [ "center" ] ) :
				rvertical.test( pos[ 0 ] ) ?
					[ "center" ].concat( pos ) :
					[ "center", "center" ];
		}
		pos[ 0 ] = rhorizontal.test( pos[ 0 ] ) ? pos[ 0 ] : "center";
		pos[ 1 ] = rvertical.test( pos[ 1 ] ) ? pos[ 1 ] : "center";

		// calculate offsets
		horizontalOffset = roffset.exec( pos[ 0 ] );
		verticalOffset = roffset.exec( pos[ 1 ] );
		offsets[ this ] = [
			horizontalOffset ? horizontalOffset[ 0 ] : 0,
			verticalOffset ? verticalOffset[ 0 ] : 0
		];

		// reduce to just the positions without the offsets
		options[ this ] = [
			rposition.exec( pos[ 0 ] )[ 0 ],
			rposition.exec( pos[ 1 ] )[ 0 ]
		];
	});

	// normalize collision option
	if ( collision.length === 1 ) {
		collision[ 1 ] = collision[ 0 ];
	}

	if ( options.at[ 0 ] === "right" ) {
		basePosition.left += targetWidth;
	} else if ( options.at[ 0 ] === "center" ) {
		basePosition.left += targetWidth / 2;
	}

	if ( options.at[ 1 ] === "bottom" ) {
		basePosition.top += targetHeight;
	} else if ( options.at[ 1 ] === "center" ) {
		basePosition.top += targetHeight / 2;
	}

	atOffset = getOffsets( offsets.at, targetWidth, targetHeight );
	basePosition.left += atOffset[ 0 ];
	basePosition.top += atOffset[ 1 ];

	return this.each(function() {
		var collisionPosition, using,
			elem = $( this ),
			elemWidth = elem.outerWidth(),
			elemHeight = elem.outerHeight(),
			marginLeft = parseCss( this, "marginLeft" ),
			marginTop = parseCss( this, "marginTop" ),
			collisionWidth = elemWidth + marginLeft + parseCss( this, "marginRight" ) + scrollInfo.width,
			collisionHeight = elemHeight + marginTop + parseCss( this, "marginBottom" ) + scrollInfo.height,
			position = $.extend( {}, basePosition ),
			myOffset = getOffsets( offsets.my, elem.outerWidth(), elem.outerHeight() );

		if ( options.my[ 0 ] === "right" ) {
			position.left -= elemWidth;
		} else if ( options.my[ 0 ] === "center" ) {
			position.left -= elemWidth / 2;
		}

		if ( options.my[ 1 ] === "bottom" ) {
			position.top -= elemHeight;
		} else if ( options.my[ 1 ] === "center" ) {
			position.top -= elemHeight / 2;
		}

		position.left += myOffset[ 0 ];
		position.top += myOffset[ 1 ];

		// if the browser doesn't support fractions, then round for consistent results
		if ( !$.support.offsetFractions ) {
			position.left = round( position.left );
			position.top = round( position.top );
		}

		collisionPosition = {
			marginLeft: marginLeft,
			marginTop: marginTop
		};

		$.each( [ "left", "top" ], function( i, dir ) {
			if ( $.ui.position[ collision[ i ] ] ) {
				$.ui.position[ collision[ i ] ][ dir ]( position, {
					targetWidth: targetWidth,
					targetHeight: targetHeight,
					elemWidth: elemWidth,
					elemHeight: elemHeight,
					collisionPosition: collisionPosition,
					collisionWidth: collisionWidth,
					collisionHeight: collisionHeight,
					offset: [ atOffset[ 0 ] + myOffset[ 0 ], atOffset [ 1 ] + myOffset[ 1 ] ],
					my: options.my,
					at: options.at,
					within: within,
					elem : elem
				});
			}
		});

		if ( options.using ) {
			// adds feedback as second argument to using callback, if present
			using = function( props ) {
				var left = targetOffset.left - position.left,
					right = left + targetWidth - elemWidth,
					top = targetOffset.top - position.top,
					bottom = top + targetHeight - elemHeight,
					feedback = {
						target: {
							element: target,
							left: targetOffset.left,
							top: targetOffset.top,
							width: targetWidth,
							height: targetHeight
						},
						element: {
							element: elem,
							left: position.left,
							top: position.top,
							width: elemWidth,
							height: elemHeight
						},
						horizontal: right < 0 ? "left" : left > 0 ? "right" : "center",
						vertical: bottom < 0 ? "top" : top > 0 ? "bottom" : "middle"
					};
				if ( targetWidth < elemWidth && abs( left + right ) < targetWidth ) {
					feedback.horizontal = "center";
				}
				if ( targetHeight < elemHeight && abs( top + bottom ) < targetHeight ) {
					feedback.vertical = "middle";
				}
				if ( max( abs( left ), abs( right ) ) > max( abs( top ), abs( bottom ) ) ) {
					feedback.important = "horizontal";
				} else {
					feedback.important = "vertical";
				}
				options.using.call( this, props, feedback );
			};
		}

		elem.offset( $.extend( position, { using: using } ) );
	});
};

$.ui.position = {
	fit: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollLeft : within.offset.left,
				outerWidth = within.width,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = withinOffset - collisionPosLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - withinOffset,
				newOverRight;

			// element is wider than within
			if ( data.collisionWidth > outerWidth ) {
				// element is initially over the left side of within
				if ( overLeft > 0 && overRight <= 0 ) {
					newOverRight = position.left + overLeft + data.collisionWidth - outerWidth - withinOffset;
					position.left += overLeft - newOverRight;
				// element is initially over right side of within
				} else if ( overRight > 0 && overLeft <= 0 ) {
					position.left = withinOffset;
				// element is initially over both left and right sides of within
				} else {
					if ( overLeft > overRight ) {
						position.left = withinOffset + outerWidth - data.collisionWidth;
					} else {
						position.left = withinOffset;
					}
				}
			// too far left -> align with left edge
			} else if ( overLeft > 0 ) {
				position.left += overLeft;
			// too far right -> align with right edge
			} else if ( overRight > 0 ) {
				position.left -= overRight;
			// adjust based on position and margin
			} else {
				position.left = max( position.left - collisionPosLeft, position.left );
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.isWindow ? within.scrollTop : within.offset.top,
				outerHeight = data.within.height,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = withinOffset - collisionPosTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - withinOffset,
				newOverBottom;

			// element is taller than within
			if ( data.collisionHeight > outerHeight ) {
				// element is initially over the top of within
				if ( overTop > 0 && overBottom <= 0 ) {
					newOverBottom = position.top + overTop + data.collisionHeight - outerHeight - withinOffset;
					position.top += overTop - newOverBottom;
				// element is initially over bottom of within
				} else if ( overBottom > 0 && overTop <= 0 ) {
					position.top = withinOffset;
				// element is initially over both top and bottom of within
				} else {
					if ( overTop > overBottom ) {
						position.top = withinOffset + outerHeight - data.collisionHeight;
					} else {
						position.top = withinOffset;
					}
				}
			// too far up -> align with top
			} else if ( overTop > 0 ) {
				position.top += overTop;
			// too far down -> align with bottom edge
			} else if ( overBottom > 0 ) {
				position.top -= overBottom;
			// adjust based on position and margin
			} else {
				position.top = max( position.top - collisionPosTop, position.top );
			}
		}
	},
	flip: {
		left: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.left + within.scrollLeft,
				outerWidth = within.width,
				offsetLeft = within.isWindow ? within.scrollLeft : within.offset.left,
				collisionPosLeft = position.left - data.collisionPosition.marginLeft,
				overLeft = collisionPosLeft - offsetLeft,
				overRight = collisionPosLeft + data.collisionWidth - outerWidth - offsetLeft,
				myOffset = data.my[ 0 ] === "left" ?
					-data.elemWidth :
					data.my[ 0 ] === "right" ?
						data.elemWidth :
						0,
				atOffset = data.at[ 0 ] === "left" ?
					data.targetWidth :
					data.at[ 0 ] === "right" ?
						-data.targetWidth :
						0,
				offset = -2 * data.offset[ 0 ],
				newOverRight,
				newOverLeft;

			if ( overLeft < 0 ) {
				newOverRight = position.left + myOffset + atOffset + offset + data.collisionWidth - outerWidth - withinOffset;
				if ( newOverRight < 0 || newOverRight < abs( overLeft ) ) {
					position.left += myOffset + atOffset + offset;
				}
			}
			else if ( overRight > 0 ) {
				newOverLeft = position.left - data.collisionPosition.marginLeft + myOffset + atOffset + offset - offsetLeft;
				if ( newOverLeft > 0 || abs( newOverLeft ) < overRight ) {
					position.left += myOffset + atOffset + offset;
				}
			}
		},
		top: function( position, data ) {
			var within = data.within,
				withinOffset = within.offset.top + within.scrollTop,
				outerHeight = within.height,
				offsetTop = within.isWindow ? within.scrollTop : within.offset.top,
				collisionPosTop = position.top - data.collisionPosition.marginTop,
				overTop = collisionPosTop - offsetTop,
				overBottom = collisionPosTop + data.collisionHeight - outerHeight - offsetTop,
				top = data.my[ 1 ] === "top",
				myOffset = top ?
					-data.elemHeight :
					data.my[ 1 ] === "bottom" ?
						data.elemHeight :
						0,
				atOffset = data.at[ 1 ] === "top" ?
					data.targetHeight :
					data.at[ 1 ] === "bottom" ?
						-data.targetHeight :
						0,
				offset = -2 * data.offset[ 1 ],
				newOverTop,
				newOverBottom;
			if ( overTop < 0 ) {
				newOverBottom = position.top + myOffset + atOffset + offset + data.collisionHeight - outerHeight - withinOffset;
				if ( ( position.top + myOffset + atOffset + offset) > overTop && ( newOverBottom < 0 || newOverBottom < abs( overTop ) ) ) {
					position.top += myOffset + atOffset + offset;
				}
			}
			else if ( overBottom > 0 ) {
				newOverTop = position.top -  data.collisionPosition.marginTop + myOffset + atOffset + offset - offsetTop;
				if ( ( position.top + myOffset + atOffset + offset) > overBottom && ( newOverTop > 0 || abs( newOverTop ) < overBottom ) ) {
					position.top += myOffset + atOffset + offset;
				}
			}
		}
	},
	flipfit: {
		left: function() {
			$.ui.position.flip.left.apply( this, arguments );
			$.ui.position.fit.left.apply( this, arguments );
		},
		top: function() {
			$.ui.position.flip.top.apply( this, arguments );
			$.ui.position.fit.top.apply( this, arguments );
		}
	}
};

// fraction support test
(function () {
	var testElement, testElementParent, testElementStyle, offsetLeft, i,
		body = document.getElementsByTagName( "body" )[ 0 ],
		div = document.createElement( "div" );

	//Create a "fake body" for testing based on method used in jQuery.support
	testElement = document.createElement( body ? "div" : "body" );
	testElementStyle = {
		visibility: "hidden",
		width: 0,
		height: 0,
		border: 0,
		margin: 0,
		background: "none"
	};
	if ( body ) {
		$.extend( testElementStyle, {
			position: "absolute",
			left: "-1000px",
			top: "-1000px"
		});
	}
	for ( i in testElementStyle ) {
		testElement.style[ i ] = testElementStyle[ i ];
	}
	testElement.appendChild( div );
	testElementParent = body || document.documentElement;
	testElementParent.insertBefore( testElement, testElementParent.firstChild );

	div.style.cssText = "position: absolute; left: 10.7432222px;";

	offsetLeft = $( div ).offset().left;
	$.support.offsetFractions = offsetLeft > 10 && offsetLeft < 11;

	testElement.innerHTML = "";
	testElementParent.removeChild( testElement );
})();

}( jQuery ) );
/*
 *
 * Wijmo Library 3.20131.6
 * http://wijmo.com/
 *
 * Copyright(c) GrapeCity, Inc.  All rights reserved.
 * 
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * licensing@wijmo.com
 * http://wijmo.com/widgets/license/
 *
 */
function __wijReadOptionEvents(e,t){for(var n=0;n<e.length;n++)t.options[e[n]]!==null&&t.element.bind(e[n],t.options[e[n]]);for(var n in t.options)if(n.indexOf(" ")!==-1){var r=n.split(" ");for(var i=0;i<r.length;i++)r[i].length>0&&t.element.bind(r[i],t.options[n])}}function wijmoASPNetParseOptionsReviewer(o,k){var a,v=o[k],d;if(v)switch(typeof v){case"string":a=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?):(\d{3})Z$/.exec(v),a&&(d=new Date(+a[1],+a[2]-1,+a[3],+a[4],+a[5],+a[6],+a[7]),d.setFullYear(+a[1]),o[k]=d);break;case"object":if(v.needQuotes!==undefined&&v.valueString!==undefined)v.needQuotes?o[k]=v.valueString:o[k]=eval(v.valueString);else for(k in v)wijmoASPNetParseOptionsReviewer(v,k)}}function wijmoASPNetParseOptions(e){var t;if(!e)return e;for(t in e)wijmoASPNetParseOptionsReviewer(e,t);return e}var wijmo;(function(e){function t(e){return isNaN(e)?0:e}$.fn.extend({wijContent:function(e){return this.each(function(){this.innerHTML='<iframe frameborder="0" style="width: 100%; height: 100%;" src="'+e+'">"'})},wijAddVisibilityObserver:function(e,t){return this.each(function(){var n=this;$(this).addClass("wijmo-wijobserver-visibility"),$(this).bind("wijmovisibilitychanged"+(t?"."+t:""),function(t){e.call(n,arguments),t.stopPropagation()})})},wijRemoveVisibilityObserver:function(e){return this.each(function(){$(this).removeClass("wijmo-wijobserver-visibility"),e?jQuery.isFunction(e)?$(this).unbind("wijmovisibilitychanged",e):$(this).unbind("wijmovisibilitychanged."+e):$(this).unbind("wijmovisibilitychanged")})},wijTriggerVisibility:function(){return this.each(function(){var e=$(this);e.hasClass("wijmo-wijobserver-visibility")&&e.trigger("wijmovisibilitychanged"),e.find(".wijmo-wijobserver-visibility").trigger("wijmovisibilitychanged")})},leftBorderWidth:function(){var e=parseFloat($(this).css("borderLeftWidth")),n=parseFloat($(this).css("padding-left")),r=0;return $(this).css("margin-left")!=="auto"&&(r=parseFloat($(this).css("margin-left"))),t(e)+t(n)+t(r)},rightBorderWidth:function(){var e=parseFloat($(this).css("borderRightWidth")),n=parseFloat($(this).css("padding-right")),r=0;return $(this).css("margin-right")!=="auto"&&(r=parseFloat($(this).css("margin-right"))),t(e)+t(n)+t(r)},topBorderWidth:function(){var e=parseFloat($(this).css("borderTopWidth")),n=parseFloat($(this).css("padding-top")),r=0;return $(this).css("margin-top")!=="auto"&&(r=parseFloat($(this).css("margin-top"))),t(e)+t(n)+t(r)},bottomBorderWidth:function(){var e=parseFloat($(this).css("borderBottomWidth")),n=parseFloat($(this).css("padding-bottom")),r=0;return $(this).css("margin-bottom")!=="auto"&&(r=parseFloat($(this).css("margin-bottom"))),t(e)+t(n)+t(r)},borderSize:function(){var e=$(this).leftBorderWidth()+$(this).rightBorderWidth(),t=$(this).topBorderWidth()+$(this).bottomBorderWidth(),n={width:e,height:t};return n},setOutWidth:function(e){var t=$(this).leftBorderWidth()+$(this).rightBorderWidth();return $(this).width(e-t),this},setOutHeight:function(e){var t=$(this).topBorderWidth()+$(this).bottomBorderWidth();return $(this).height(e-t),this},getWidget:function(){var e=this.data("widgetName");return e&&e!==""?this.data(e):null},wijshow:function(e,t,n,r,i){var s=e.animated||!1,o=e.duration||400,u=e.easing,a=e.option||{};r&&$.isFunction(r)&&r.call(this);if(s){if(t&&t[s]){t[s](e,$.extend(n,{complete:i}));return}if($.effects)if($.effects[s]||$.effects.effect&&$.effects.effect[s]){this.show(s,$.extend(a,{easing:u}),o,i);return}}this.show(),i&&$.isFunction(i)&&i.call(this)},wijhide:function(e,t,n,r,i){var s=e.animated||!1,o=e.duration||400,u=e.easing,a=e.option||{};r&&$.isFunction(r)&&r.call(this);if(s){if(t&&t[s]){t[s](e,$.extend(n,{complete:i}));return}if($.effects)if($.effects[s]||$.effects.effect&&$.effects.effect[s]){this.hide(s,$.extend(a,{easing:u}),o,i);return}}this.hide(),i&&$.isFunction(i)&&i.call(this)}}),$.save=function(e,t){if($.effects)return $.effects.save(e,t);for(var n=0;n<t.length;n++)t[n]!==null&&e.data("ec.storage."+t[n],e[0].style[t[n]])},$.restore=function(e,t){if($.effects)return $.effects.restore(e,t);for(var n=0;n<t.length;n++)t[n]!==null&&e.css(t[n],e.data("ec.storage."+t[n]))},$.createWrapper=function(e){if($.effects)return $.effects.createWrapper(e);if(e.parent().is(".ui-effects-wrapper"))return e.parent();var t={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=$("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),r=document.activeElement;return e.wrap(n),(e[0]===r||$.contains(e[0],r))&&$(r).focus(),n=e.parent(),e.css("position")=="static"?(n.css({position:"relative"}),e.css({position:"relative"})):($.extend(t,{position:e.css("position"),zIndex:e.css("z-index")}),$.each(["top","left","bottom","right"],function(n,r){t[r]=e.css(r),isNaN(parseInt(t[r],10))&&(t[r]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),n.css(t).show()},$.removeWrapper=function(e){if($.effects)return $.effects.removeWrapper(e);var t,n=document.activeElement;return e.parent().is(".ui-effects-wrapper")?(t=e.parent().replaceWith(e),(e[0]===n||$.contains(e[0],n))&&$(n).focus(),t):e},$.setMode=function(e,t){return $.effects?$.effects.setMode(e,t):(t==="toggle"&&(t=e.is(":hidden")?"show":"hide"),t)};var n=function(){};$.extend(n.prototype,{_UTFPunctuationsString:" ! \" # % & ' ( ) * , - . / : ; ? @ [ \\ ] { } ¡ « ­ · » ¿ ; · ՚ ՛ ՜ ՝ ՞ ՟ ։ ֊ ־ ׀ ׃ ׳ ״ ، ؛ ؟ ٪ ٫ ٬ ٭ ۔ ܀ ܁ ܂ ܃ ܄ ܅ ܆ ܇ ܈ ܉ ܊ ܋ ܌ ܍ । ॥ ॰ ෴ ๏ ๚ ๛ ༄ ༅ ༆ ༇ ༈ ༉ ༊ ་ ༌ ། ༎ ༏ ༐ ༑ ༒ ༺ ༻ ༼ ༽ ྅ ၊ ။ ၌ ၍ ၎ ၏ ჻ ፡ ። ፣ ፤ ፥ ፦ ፧ ፨ ᙭ ᙮ ᚛ ᚜ ᛫ ᛬ ᛭ ។ ៕ ៖ ៗ ៘ ៙ ៚ ៜ ᠀ ᠁ ᠂ ᠃ ᠄ ᠅ ᠆ ᠇ ᠈ ᠉ ᠊ ‐ ‑ ‒ – — ― ‖ ‗ ‘ ’ ‚ ‛ “ ” „ ‟ † ‡ • ‣ ․ ‥ … ‧ ‰ ‱ ′ ″ ‴ ‵ ‶ ‷ ‸ ‹ › ※ ‼ ‽ ‾ ⁁ ⁂ ⁃ ⁅ ⁆ ⁈ ⁉ ⁊ ⁋ ⁌ ⁍ ⁽ ⁾ ₍ ₎ 〈 〉 、 。 〃 〈 〉 《 》 「 」 『 』 【 】 〔 〕 〖 〗 〘 〙 〚 〛 〜 〝 〞 〟 〰 ﴾ ﴿ ︰ ︱ ︲ ︵ ︶ ︷ ︸ ︹ ︺ ︻ ︼ ︽ ︾ ︿ ﹀ ﹁ ﹂ ﹃ ﹄ ﹉ ﹊ ﹋ ﹌ ﹐ ﹑ ﹒ ﹔ ﹕ ﹖ ﹗ ﹘ ﹙ ﹚ ﹛ ﹜ ﹝ ﹞ ﹟ ﹠ ﹡ ﹣ ﹨ ﹪ ﹫ ！ ＂ ＃ ％ ＆ ＇ （ ） ＊ ， － ． ／ ： ； ？ ＠ ［ ＼ ］ ｛ ｝ ｡ ｢ ｣ ､';this.UTFWhitespacesString_='	  \f                              ​ \u2028   　",isDigit:function(e){var t=e.charCodeAt(0);return t>=48&&t<58},isLetter:function(e){return!!(e+"").match(new RegExp("[A-Za-zªµºÀ-ÖØ-öø-ȟȢ-ȳɐ-ʭʰ-ʸʻ-ˁːˑˠ-ˤˮͺΆΈ-ΊΌΎ-ΡΣ-ώϐ-ϗϚ-ϳЀ-ҁҌ-ӄӇӈӋӌӐ-ӵӸӹԱ-Ֆՙա-ևא-תװ-ײء-غـ-يٱ-ۓەۥۦۺ-ۼܐܒ-ܬހ-ޥअ-हऽॐक़-ॡঅ-ঌএঐও-নপ-রলশ-হড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઋઍએ-ઑઓ-નપ-રલળવ-હઽૐૠଅ-ଌଏଐଓ-ନପ-ରଲଳଶ-ହଽଡ଼ଢ଼ୟ-ୡஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹೞೠೡഅ-ഌഎ-ഐഒ-നപ-ഹൠൡඅ-ඖක-නඳ-රලව-ෆก-ะาำเ-ๆກຂຄງຈຊຍດ-ທນ-ຟມ-ຣລວສຫອ-ະາຳຽເ-ໄໆໜໝༀཀ-ཇཉ-ཪྈ-ྋက-အဣ-ဧဩဪၐ-ၕႠ-Ⴥა-ჶᄀ-ᅙᅟ-ᆢᆨ-ᇹሀ-ሆለ-ቆቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኆኈኊ-ኍነ-ኮኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዎዐ-ዖዘ-ዮደ-ጎጐጒ-ጕጘ-ጞጠ-ፆፈ-ፚᎠ-Ᏼᐁ-ᙬᙯ-ᙶᚁ-ᚚᚠ-ᛪក-ឳᠠ-ᡷᢀ-ᢨḀ-ẛẠ-ỹἀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁿℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℱℳ-ℹ々〆〱-〵ぁ-ゔゝゞァ-ヺー-ヾㄅ-ㄬㄱ-ㆎㆠ-ㆷ㐀-䶵一-龥ꀀ-ꒌ가-힣豈-鶴ﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹲﹴﹶ-ﻼＡ-Ｚａ-ｚｦ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]"))},isLetterOrDigit:function(e){return this.isLetter(e)||this.isDigit(e)},isDoubleByteNumber:function(e){var t=e.charCodeAt(0);return t>=65296&&t<65306},isSymbol:function(e){var t=new RegExp("[$+<->^`|~¢-©¬®-±´¶¸×÷ʹʺ˂-ˏ˒-˟˥-˭ʹ͵΄΅҂۩۽۾৲৳৺୰฿༁-༃༓-༗༚-༟༴༶༸྾-࿅࿇-࿌࿏៛᾽᾿-῁῍-῏῝-῟῭-`´῾⁄⁺-⁼₊-₌₠-₯℀℁℃-℆℈℉℔№-℘℞-℣℥℧℩℮Ⅎ℺←-⇳∀-⋱⌀-⌨⌫-⍻⍽-⎚␀-␦⑀-⑊⒜-ⓩ─-▕■-◷☀-☓☙-♱✁-✄✆-✉✌-✧✩-❋❍❏-❒❖❘-❞❡-❧➔➘-➯➱-➾⠀-⣿⺀-⺙⺛-⻳⼀-⿕⿰-⿻〄〒〓〠〶〷〾〿゛゜㆐㆑㆖-㆟㈀-㈜㈪-㉃㉠-㉻㉿㊊-㊰㋀-㋋㋐-㋾㌀-㍶㍻-㏝㏠-㏾꒐-꒡꒤-꒳꒵-꓀꓂-꓄꓆﬩﹢﹤-﹦﹩＄＋＜-＞＾｀｜～￠-￦￨-￮￼�]");return t.test(e+"")},isPunctuation:function(e){return this._UTFPunctuationsString.indexOf(e)>=0},isPrintableChar:function(e){return!this.isLetterOrDigit(e)&&!this.isPunctuation(e)&&!this.isSymbol(e)&&!this.isDoubleByteNumber(e)?e===" ":!0},isAscii:function(e){return e>="!"&&e<="~"},isAsciiLetter:function(e){return e>="A"&&e<="Z"||e>="a"&&e<="z"},isUpper:function(e){return e.toUpperCase()===e},isLower:function(e){return e.toLowerCase()===e},isAlphanumeric:function(e){return this.isLetter(e)?!0:this.isDigit(e)},isAciiAlphanumeric:function(e){return(e<"0"||e>"9")&&(e<"A"||e>"Z")?e>="a"?e<="z":!1:!0},setChar:function(e,t,n){return n>=e.length||n<0?e:e.substr(0,n)+t+e.substr(n+1)}});var r=["\n","\r",'"',"@","+","'","<",">","%","{","}"],i=["!ESC!NN!","!ESC!RR!","!ESC!01!","!ESC!02!","!ESC!03!","!ESC!04!","!ESC!05!","!ESC!06!","!ESC!07!","!ESC!08!","!ESC!09!"],s=["(\n)","(\r)",'(")',"(@)","(\\+)","(')","(\\<)","(\\>)","(%)","(\\{)","(\\})"];$.wij||$.extend({wij:{charValidator:new n,encodeString:function(e){for(var t=0;t<r.length;t++){var n=/c__escapeArr3[i]/g;e=e.replace(n,i[t])}return e},decodeString:function(e){if(e==="")return;for(var t=0;t<i.length;t++){var n=/c__escapeArr2[i]/g;e=e.replace(n,r[t])}return e}}}),jQuery.uaMatch||(jQuery.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}});if(!jQuery.browser){var o=jQuery.uaMatch(navigator.userAgent),u={version:"0",msie:!1,opera:!1,safari:!1,mozilla:!1,webkit:!1,chrome:!1};o.browser&&(u[o.browser]=!0,u.version=o.version),u.chrome?u.webkit=!0:u.webkit&&(u.safari=!0),jQuery.browser=u}$.ui&&$.ui.position&&$.ui.position.flipfit&&($.ui.position.flip.top=function(e,t){var n=t.within,r=n.offset.top+n.scrollTop,i=n.height,s=n.isWindow?n.scrollTop:n.offset.top,o=e.top-t.collisionPosition.marginTop,u=o-s,a=o+t.collisionHeight-i-s,f=t.my[1]==="top",l=f?-t.elemHeight:t.my[1]==="bottom"?t.elemHeight:0,c=t.at[1]==="top"?t.targetHeight:t.at[1]==="bottom"?-t.targetHeight:0,h=-2*t.offset[1],p,d;u<0?(d=e.top+l+c+h+t.collisionHeight-i-r,e.top+l+c+h>u&&(d<0||d<Math.abs(u))&&(e.top+=l+c+h)):a>0&&(p=e.top-t.collisionPosition.marginTop+l+c+h-s,e.top+l+c+h+t.collisionHeight-i<a&&(p>0||Math.abs(p)<a)&&(e.top+=l+c+h))})})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){var t=jQuery,n=function(){function e(){}return e.autoMobilize=!0,e.wijCSS={widget:"ui-widget",overlay:"ui-widget-overlay",content:"ui-widget-content",header:"ui-widget-header",stateDisabled:"ui-state-disabled",stateFocus:"ui-state-focus",stateActive:"ui-state-active",stateDefault:"ui-state-default",stateHightlight:"ui-state-highlight",stateHover:"ui-state-hover",stateChecked:"ui-state-checked",stateError:"ui-state-error",getState:function(e){return e=e.charAt(0).toUpperCase()+e.substr(1),t.wijmo.wijCSS["state"+e]},icon:"ui-icon",iconCheck:"ui-icon-check",iconRadioOn:"ui-icon-radio-on",iconRadioOff:"ui-icon-radio-off",iconClose:"ui-icon-close",iconArrow4Diag:"ui-icon-arrow-4-diag",iconNewWin:"ui-icon-newwin",iconVGripSolid:"ui-icon-grip-solid-vertical",iconHGripSolid:"ui-icon-grip-solid-horizontal",iconPlay:"ui-icon-play",iconPause:"ui-icon-pause",iconStop:"ui-icon-stop",iconArrowUp:"ui-icon-triangle-1-n",iconArrowRight:"ui-icon-triangle-1-e",iconArrowDown:"ui-icon-triangle-1-s",iconArrowLeft:"ui-icon-triangle-1-w",iconArrowRightDown:"ui-icon-triangle-1-se",iconCaratUp:"ui-icon-carat-1-n",iconCaratRight:"ui-icon-carat-1-e",iconCaratDown:"ui-icon-carat-1-s",iconCaratLeft:"ui-icon-carat-1-w",iconSeekFirst:"ui-icon-seek-first",iconSeekEnd:"ui-icon-seek-end",iconSeekNext:"ui-icon-seek-next",iconSeekPrev:"ui-icon-seek-prev",inputSpinnerLeft:"ui-input-spinner-left",inputSpinnerRight:"ui-input-spinner-right",inputTriggerLeft:"ui-input-trigger-left",inputTriggerRight:"ui-input-trigger-right",inputSpinnerTriggerLeft:"ui-input-spinner-trigger-left",inputSpinnerTriggerRight:"ui-input-spinner-trigger-right",cornerAll:"ui-corner-all",cornerLeft:"ui-corner-left",cornerRight:"ui-corner-right",cornerBottom:"ui-corner-bottom",cornerBL:"ui-corner-bl",cornerBR:"ui-corner-br",cornerTop:"ui-corner-top",cornerTL:"ui-corner-tl",cornerTR:"ui-corner-tr",helperClearFix:"ui-helper-clearfix",helperReset:"ui-helper-reset",helperHidden:"ui-helper-hidden",priorityPrimary:"ui-priority-primary",prioritySecondary:"ui-priority-secondary",button:"ui-button",buttonText:"ui-button-text",buttonTextOnly:"ui-button-text-only",tabs:"ui-tabs",tabsTop:"ui-tabs-top",tabsBottom:"ui-tabs-bottom",tabsLeft:"ui-tabs-left",tabsRight:"ui-tabs-right",tabsLoading:"ui-tabs-loading",tabsActive:"ui-tabs-active",tabsPanel:"ui-tabs-panel",tabsNav:"ui-tabs-nav",tabsHide:"ui-tabs-hide",tabsCollapsible:"ui-tabs-collapsible",activeMenuitem:"ui-active-menuitem"},e.wijMobileCSS={content:"ui-content",header:"ui-header",overlay:"ui-overlay",stateDisabled:"ui-disabled",stateFocus:"ui-focus",stateActive:"ui-btn-active",stateDefault:"ui-btn-up-a",iconArrowUp:"ui-icon-arrow-u",iconArrowRight:"ui-icon-arrow-r",iconArrowDown:"ui-icon-arrow-d",iconArrowLeft:"ui-icon-arrow-l",iconArrowRightDown:"ui-icon-arrow-d",iconSeekFirst:"ui-icon-arrow-l",iconSeekEnd:"ui-icon-arrow-r",iconSeekNext:"ui-icon-arrow-l",iconSeekPrev:"ui-icon-arrow-r",iconClose:"ui-icon-delete",iconStop:"ui-icon-grid",iconCheck:"ui-icon-checkbox-on"},e.autoInit=function(n,r){if(t.mobile&&t.mobile.page&&r){var i=t.mobile.page.prototype.options.keepNative;i&&i.length&&i.indexOf(r)===-1?i=[i,r].join(", "):i=r,t.mobile.page.prototype.options.keepNative=i}t.mobile&&t.wijmo[n]&&t.wijmo[n].prototype&&t.wijmo[n].prototype.enhanceWithin&&t(document).bind("pagecreate create",function(e){t.wijmo[n].prototype.enhanceWithin(e.target)})},e.registerWidget=function(n,r,i,s){var o="wijmo."+n,u;typeof i=="function"&&(u=i,i=null);if(i===null||i===undefined)i=t.extend(!0,{},r),r=t.wijmo.widget;i.options=i.options||{},i.options.initSelector=i.options.initSelector||":jqmData(role='"+n+"')",t.mobile&&i.options&&i.options.wijMobileCSS&&(i.options.wijCSS=i.options.wijCSS||{},t.extend(i.options.wijCSS,i.options.wijMobileCSS)),t.widget(o,r,i),u?u.call():this.autoInit&&this.autoInit(n,i.options.initSelector)},e}();t.wijmo=n;var r=function(){function e(){}return e.prototype.destroy=function(){},e.prototype._setOption=function(e,t){},e.prototype._create=function(){},e.prototype._init=function(){},e.prototype.widget=function(){return this.element},e}();e.JQueryUIWidget=r,r.prototype.options={wijCSS:t.wijmo.wijCSS},r.prototype.destroy=function(){t.Widget.prototype.destroy.apply(this,arguments)},r.prototype._setOption=function(e,n){t.Widget.prototype._setOption.apply(this,arguments)},r.prototype._create=function(){t.Widget.prototype._create.apply(this,arguments)},r.prototype._init=function(){t.Widget.prototype._init.apply(this,arguments)};var i=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t}(r);e.JQueryMobileWidget=i,t(window.document).trigger("wijmoinit");var s=function(e){function n(){e.apply(this,arguments),this._widgetCreated=!1}return __extends(n,e),n.prototype._baseWidget=function(){return this._isMobile?t.mobile.widget:t.Widget},n.prototype._createWidget=function(e,n){this._widgetCreated=!0,this._syncEventPrefix&&(this.widgetEventPrefix=this.widgetName),window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),this._baseWidget().prototype._createWidget.apply(this,arguments)},n.prototype._create=function(){this._baseWidget().prototype._create.apply(this,arguments)},n.prototype._init=function(){this._baseWidget().prototype._init.apply(this,arguments)},n.prototype.destroy=function(){this._baseWidget().prototype.destroy.apply(this,arguments)},n.prototype._setOption=function(e,t){this._baseWidget().prototype._setOption.apply(this,arguments),e==="disabled"&&t&&this._isMobile&&this.element.removeClass("ui-state-disabled").addClass(this.options.wijCSS.stateDisabled)},n}(i);e.wijmoWidget=s,s.prototype._syncEventPrefix=!0,s.prototype._isMobile=!1,s.prototype.options=t.extend(!0,{},s.prototype.options,s.prototype._baseWidget().prototype.options),t.mobile!=null&&t.wijmo.autoMobilize===!0?(t.extend(!0,s.prototype.options.wijCSS,t.wijmo.wijMobileCSS),s.prototype._isMobile=!0,s.prototype.enhanceWithin=function(e,n){this._widgetCreated||t.mobile.widget.prototype.enhanceWithin.apply(this,arguments)},s.prototype._getCreateOptions=function(){var e=this.element,n,r=r=function(e){if(typeof e=="undefined")return{};if(e===null)return{};var n=/(?:(?:\{[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*)|(?:,[\n\r\t\s]*(.+?)\s*\:[\n\r\t\s]*))('(.*?[^\\])')?/gi,r=/\[.*?(?=[\]\[])|[\]\[].*?(?=[\]])/gi,i=e.replace(n,function(e,t,n,r){var i,s=/[\n\r\t\s]*['"]?([^\{,\s]+?)['"]?\s*:[\n\r\t\s]*/i,o=/\:[\n\r\t\s]*(?:'(.*)')?/i;return i=e.replace(s,'"$1":'),r?i.replace(o,':"$1"'):i}).replace(r,function(e){var t=/'(.*?[^\\])'/g;return e.replace(t,'"$1"')});return t.parseJSON(i)},i=r(e.attr("data-"+t.mobile.nsNormalize("options")));return n=t.mobile.widget.prototype._getCreateOptions.apply(this,arguments),t.extend(n,i)},t.widget("wijmo.widget",t.mobile.widget,s.prototype)):t.widget("wijmo.widget",s.prototype)})(wijmo||(wijmo={}));;
function wijmoApplyWijTouchUtilEvents(e){return e}jQuery.extend(jQuery.support,{isTouchEnabled:function(){return"ontouchstart"in window||"ontouchend"in document||!!window.navigator.msPointerEnabled?!0:!1}});var wijmo;(function(e){"use strict";function k(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function L(e,n){var r=e.type,i,s,o,f,c,h,p,d,v;e=t.Event(e),e.nativeType=e.type,e.type=n,i=e.originalEvent,s=t.event.props,r.search(/^(mouse|click)/)>-1&&(s=l);if(i)for(p=s.length,f;p;)f=s[--p],e[f]=i[f];r.search(/mouse(down|up)|click/)>-1&&!e.which&&(e.which=1),o=k(i);for(d=0,v=a.length;d<v;d++)f=a[d],e[f]===undefined&&(e[f]=o[f]);if(r.search(/^touch/)!==-1){r=o.touches,c=o.changedTouches,h=r&&r.length?r[0]:c&&c.length?c[0]:undefined;if(h)for(d=0,v=u.length;d<v;d++)f=u[d],e[f]=h[f]}return e}function A(e){var r={},i,s;while(e){i=t.data(e,n);for(s in i)i[s]&&(r[s]=r.hasVirtualBinding=!0);e=e.parentNode}return r}function O(e,r){var i;while(e){i=t.data(e,n);if(i&&(!r||i[r]))return e;e=e.parentNode}return null}function M(){y=!1}function _(){y=!0}function D(){S=0,m.length=0,g=!1,_()}function P(){M()}function H(){B(),h=setTimeout(function(){h=0,D()},t.wijmouse.resetTimerDuration)}function B(){h&&(clearTimeout(h),h=0)}function j(e,n,r){var i;if(r&&r[e]||!r&&O(n.target,e))i=L(n,e),t(n.target).trigger(i);return i}function F(e){var n=t.data(e.target,r),i,s;if(!g&&(!S||S!==n)){i="wij"+e.type;for(s in o)o[s]===e.type&&(i=s);var u=j(i,e);u&&(u.isDefaultPrevented()&&e.preventDefault(),u.isPropagationStopped()&&e.stopPropagation(),u.isImmediatePropagationStopped()&&e.stopImmediatePropagation())}}function I(e){var n=k(e).touches,i,o,u;if(n&&n.length===1||s){i=e.target,o=A(i);if(o.hasVirtualBinding){S=E++,t.data(i,r,S),B(),P(),v=!1,u=k(e);var a=u.touches?u.touches[0]:u;p=a.pageX,d=a.pageY,j("wijmouseover",e,o),j("wijmousedown",e,o)}}}function q(e){if(y)return;v||j("wijmousecancel",e,A(e.target)),v=!0,H()}function R(e){if(y)return;var n=k(e),r=n.touches?n.touches[0]:n,i=v,s=t.wijmouse.moveDistanceThreshold;v=v||Math.abs(r.pageX-p)>s||Math.abs(r.pageY-d)>s;var o=A(e.target);v&&!i&&j("wijmousecancel",e,o),j("wijmousemove",e,o),H()}function U(e){if(y)return;_();var t=A(e.target),n,r;j("wijmouseup",e,t);if(!v){var i=j("wijclick",e,t);i&&i.isDefaultPrevented()&&(n=k(e),r=n.changedTouches?n.changedTouches[0]:n,m.push({touchID:S,x:r.clientX,y:r.clientY}),g=!0)}j("wijmouseout",e,t),v=!1,H()}function z(e){var r=t.data(e,n),i;if(r)for(i in r)if(r[i])return!0;return!1}function W(){}function X(e){var r=o[e];return{setup:function(i,s){z(this)||t.data(this,n,{});var o=t.data(this,n);o[e]=!0,t(this).bind(r,W);var u=!1;b&&(c[x]=(c[x]||0)+1,c[x]===1&&(u=!0,w.bind(x,I).bind(T,U).bind(N,R).bind(C,q)));if(!u||x!==r)c[e]=(c[e]||0)+1,c[e]===1&&w.bind(r,F)},teardown:function(i,s){--c[e],c[e]||w.unbind(r,F),b&&(--c[x],c[x]||w.unbind(x,I).unbind(N,R).unbind(T,U).unbind(C,q));var o=t(this),u=t.data(this,n);u&&(u[e]=!1),o.unbind(r,W),z(this)||o.removeData(n)}}}function tt(e,n,r){var i=r.type;r.nativeType=r.type,r.type=n;try{t([e]).trigger(r)}finally{r.type=i}}function rt(e,t){if(window.navigator.msPointerEnabled&&!e.__wijMSGesturePreInit){e.__wijMSGesturePreInit=!0;var n=new MSGesture;n.target=e,e.addEventListener("MSPointerDown",function(e){n.addPointer(e.pointerId)},!1)}}function it(e,n){var r=st(n,e);return t(n.target).trigger(r),r}function st(e,n){var r=e.type,i,s,o,u,a,f,l,c,h;i=e.originalEvent,e=t.Event(e),e.nativeType=e.type,e.type=n,s=t.event.props;if(i)for(l=s.length,u;l;)u=s[--l],e[u]=e[u]||i[u];for(c=0,h=nt.length;c<h;c++)u=nt[c],e[u]=e[u]||i[u];return window.navigator.msPointerEnabled&&e.rotation&&(e.rotation=e.rotation*360/Math.PI),e}var t=jQuery,n="virtualMouseBindings",r="virtualTouchID",i="wijmouseover wijmousedown wijmousemove wijmouseup wijclick wijtap wijdoubletap wijtaphold wijmouseout wijmousecancel".split(" "),s=window.navigator.msPointerEnabled,o={wijmouseover:s?"MSPointerOver":"mouseover",wijmousedown:s?"MSPointerDown":"mousedown",wijmousemove:s?"MSPointerMove":"mousemove",wijmouseup:s?"MSPointerUp":"mouseup",wijmouseout:s?"MSPointerOut":"mouseout",wijmousecancel:s?"mousecancel":"mousecancel",wijclick:s?"MSGestureTap":"click",wijdoubletap:s?"MSGestureDoubleTap":"dblclick",wijtaphold:s?"MSGestureHold":"gesturehold"},u="clientX clientY pageX pageY screenX screenY".split(" "),a="clientX clientY pageX pageY screenX screenY".split(" "),f=t.event.mouseHooks?t.event.mouseHooks.props:[],l=t.event.props.concat(f),c={},h=0,p=0,d=0,v=!1,m=[],g=!1,y=!1,b="addEventListener"in document,w=t(document),E=1,S=0,x=s?"MSPointerDown":"touchstart",T=s?"MSPointerUp":"touchend",N=s?"MSPointerMove":"touchmove",C=s?"scroll":"scroll";t.wijmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var V=0;V<i.length;V++)t.event.special[i[V]]=X(i[V]);b&&document.addEventListener("click",function(e){var n=m.length,i=e.target,s,o,u,a,f,l;if(n){s=e.clientX,o=e.clientY;var c=t.wijmouse.clickDistanceThreshold;u=i;while(u){for(a=0;a<n;a++){f=m[a],l=0;if(u===i&&Math.abs(f.x-s)<c&&Math.abs(f.y-o)<c||t.data(u,r)===f.touchID){e.preventDefault(),e.stopPropagation();return}}u=u.parentNode}}},!0),t.each("touchstart touchmove touchend orientationchange throttledresize wijtap wijtaphold wijswipe wijswipeleft wijswiperight wijscrollstart wijscrollstop".split(" "),function(e,n){t.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},t.attrFn&&(t.attrFn[n]=!0)});var $="ontouchend"in document,J="touchmove scroll",K=$?"touchstart":"mousedown",Q=$?"touchend":"mouseup",G=$?"touchmove":"mousemove",Y=$?"gesturestart":"gesturestart",Z=$?"gesturechange":"gesturechange",et=$?"gestureend":"gestureend";window.navigator.msPointerEnabled&&(K="MSPointerDown",Q="MSPointerUp",G="MSPointerMove",Y="MSGestureStart",Z="MSGestureChange",et="MSGestureEnd"),t.event.special.wijscrollstart={enabled:!0,setup:function(){function s(t,n){r=n,tt(e,r?"wijscrollstart":"wijscrollstop",t)}var e=this,n=t(e),r,i;n.bind(J,function(e){if(!t.event.special.wijscrollstart.enabled)return;r||s(e,!0),clearTimeout(i),i=setTimeout(function(){s(e,!1)},50)})}},t.event.special.wijtap={setup:function(){var e=this,n=t(e);n.bind("wijmousedown",function(r){function u(){clearTimeout(o)}function a(){u(),n.unbind("wijclick",f).unbind("wijmouseup",u),t(document).unbind("wijmousecancel",a)}function f(t){a(),i==t.target&&tt(e,"wijtap",t)}if(r.which&&r.which!==1)return!1;var i=r.target,s=r.originalEvent,o;n.bind("wijmouseup",u).bind("wijclick",f),t(document).bind("wijmousecancel",a),o=setTimeout(function(){tt(e,"wijtaphold",t.Event("wijtaphold",{target:i}))},750)})}},t.event.special.wijswipe={scrollSupressionThreshold:10,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var e=this,n=t(e);n.bind(K,function(e){function o(e){if(!i)return;var n=e.originalEvent.touches?e.originalEvent.touches[0]:e;s={time:(new Date).getTime(),coords:[n.pageX,n.pageY]},Math.abs(i.coords[0]-s.coords[0])>t.event.special.wijswipe.scrollSupressionThreshold&&e.preventDefault()}var r=e.originalEvent.touches?e.originalEvent.touches[0]:e,i={time:(new Date).getTime(),coords:[r.pageX,r.pageY],origin:t(e.target)},s;n.bind(G,o).one(Q,function(e){n.unbind(G,o),i&&s&&s.time-i.time<t.event.special.wijswipe.durationThreshold&&Math.abs(i.coords[0]-s.coords[0])>t.event.special.wijswipe.horizontalDistanceThreshold&&Math.abs(i.coords[1]-s.coords[1])<t.event.special.wijswipe.verticalDistanceThreshold&&i.origin.trigger("wijswipe").trigger(i.coords[0]>s.coords[0]?"wijswipeleft":"wijswiperight"),i=s=undefined})})}};var nt="altKey ctrlKey metaKey rotation scale shiftKey target velocityX velocityY translationX translationY".split(" ");t.event.special.wijgesturestart={setup:function(){var e=this,n=t(e);rt(e,"wijgesturestart"),n.bind(Y,function(e){it("wijgesturestart",e)})}},t.event.special.wijgesturechange={setup:function(){var e=this,n=t(e);rt(e,"wijgesturechange"),n.bind(Z,function(e){it("wijgesturechange",e)})}},t.event.special.wijgestureend={setup:function(){var e=this,n=t(e);rt(e,"wijgestureend"),n.bind(et,function(e){it("wijgestureend",e)})}},function(e,t){function h(){var e=i();e!==s&&(s=e,n.trigger("orientationchange"))}var n=e(t),r,i,s,o,u,a={0:!0,180:!0};if("orientation"in t&&"onorientationchange"in t){var f=t.innerWidth||e(t).width(),l=t.innerHeight||e(t).height(),c=50;o=f>l&&f-l>c,u=a[t.orientation];if(o&&u||!o&&!u)a={"-90":!0,90:!0}}e.event.special.orientationchange=r={setup:function(){if("orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled)return!1;s=i(),n.bind("throttledresize",h)},teardown:function(){if("orientation"in t&&"onorientationchange"in t&&e.mobile.orientationChangeEnabled)return!1;n.unbind("throttledresize",h)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=i(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=i=function(){var e=!0,n=document.documentElement;return"orientation"in t&&"onorientationchange"in t?e=a[t.orientation]:e=n&&n.clientWidth/n.clientHeight<1.1,e?"portrait":"landscape"}}(jQuery,window),function(){t.event.special.throttledresize={setup:function(){t(this).bind("resize",n)},teardown:function(){t(this).unbind("resize",n)}};var e=250,n=function(){s=(new Date).getTime(),o=s-r,o>=e?(r=s,t(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,e-o))},r=0,i,s,o}(),t.each({wijscrollstop:"wijscrollstart",wijtaphold:"wijtap",wijswipeleft:"wijswipe",wijswiperight:"wijswipe"},function(e,n){t.event.special[e]={setup:function(){t(this).bind(n,t.noop)}}})})(wijmo||(wijmo={}));;
$(document).ready(function(){function u(e,t,n){var r="-webkit-transform",i="translate3d(0,0,0)",s=e.css(r),o=!s||!s.match(/^\s*none\s*$/i);e.css(r,o?i:s+" "+i);try{return t.apply(this,n)}finally{e.css(r,s)}}function f(e,t,n,r){var i=!1,s,o,u=$.speed(t,n,r),a=this;if(!e)return!1;for(var f in e)s=e[f],f==="height"?s==="hide"?(this.css("display","none"),i=!0,u.complete()):s==="show"&&(this.css("display",""),i=!0,u.complete()):f==="width"?s==="hide"?(this.css("display","none"),i=!0,u.complete()):s==="show"&&(this.css("display",""),i=!0,u.complete()):f==="left"&&(o=this.css("left").replace("px","")*1,typeof s=="string"&&(s.indexOf("-=")===0?o-=s.replace("-=","")*1:s.indexOf("+=")===0&&(o+=s.replace("+=","")*1)),i=!0,this.css("-webkit-perspective",1e3),this.css("-webkit-backface-visibility","hidden"),h(this[0],o,u.duration,"linear",u.complete));return i}function l(e,t,n,r){o&&(n||(n="ease"),b(e,"opacity",t,n),p(e,0),e.addEventListener("webkitTransitionEnd",$.proxy(function(){w(e),e.style.display="none",p(e,1),r&&r()},this),!1))}function c(e,t,n,r){o&&(n||(n="ease"),b(e,"opacity",t,n),p(e,1),e.addEventListener("webkitTransitionEnd",$.proxy(function(){w(e),e.style.display==="none"&&(e.style.display=""),r&&r()},this),!1))}function h(e,t,n,r,i){o&&(y(e,n,r),d(e,t),e.___animationEndHandler=i,e.___internalEndHandler=$.proxy(E,{}),e.addEventListener("webkitTransitionEnd",e.___internalEndHandler,!1))}function p(e,t){var n;o&&(n=e.style||e,n.opacity=t)}function d(e,t){var n;o?(e.___translateX=t,n=e.style||e,n.webkitTransform="translateX("+t+"px)"):e.style.left=t+"px"}function v(e,t){var n;o?(e.___translateY=t,n=e.style||e,n.webkitTransform="translateY("+t+"px)"):e.style.top=t+"px"}function m(e){var t,n,r,i,s;if(!e)return 0;if(o){t=e.style||e,n=t.webkitTransform;if(typeof n=="string"){r=new RegExp("translate(3d|X|)\\(-*(\\d+)"),i=r.exec(n);if(i){s=parseFloat(i[1]);if(isFinite(s))return s}}}else{var s=parseInt($(e).css("left"));if(isFinite(s))return s}return 0}function g(e){var t,n,r,i,s;if(!e)return 0;if(o){t=e.style||e,n=t.webkitTransform;if(typeof n=="string"){r=new RegExp("translate(3d|X|)\\(.*,\\s*-*(\\d+)"),i=r.exec(n);if(i){s=parseFloat(i[1]);if(isFinite(s))return s}}}else{var s=parseInt(jQuery(e).css("top"));if(isFinite(s))return s}return 0}function y(e,t,n){n||(n="ease"),b(e,"-webkit-transform",t,n)}function b(e,t,n,r){if(o){var i=e.style;i.webkitTransitionProperty=t,i.webkitTransitionDuration=n+"ms",i.webkitTransitionTimingFunction=r}}function w(e){if(o){var t=e.style;t.webkitTransitionProperty="none";var n=e.___internalEndHandler;n&&(delete e.___internalEndHandler,e.removeEventListener("webkitTransitionEnd",n,!1))}}function E(e){try{var t,n;switch(e.type){case"webkitTransitionEnd":t=e.target,t&&(w(t),t.___animationEndHandler&&(n=t.___animationEndHandler,t.___animationEndHandler=null,n(e)))}}catch(r){window.console&&window.console.log&&window.console.log("[ew219290] error: "+(r.message?r.message:r)+", event: "+e)}return!0}var e=window.navigator.userAgent,t=e.match(new RegExp("android ((1\\.)|(2\\.([^345]+)))","i")),n=window.WebKitCSSMatrix?!t:!1,r=typeof e=="string"&&!!e.match(/applewebkit/),i="ontouchend"in document,s=document.createElement("div"),o;s.setAttribute("style","transition:top 1s ease;-webkit-transition:top 1s ease;-moz-transition:top 1s ease;-o-transition:top 1s ease;"),document.body.appendChild(s),o=!!(s.style.transition||s.style.webkitTransition||s.style.MozTransition||s.style.OTransitionDuration),s.parentNode.removeChild(s),s=null;var a=jQuery.fn.animate;jQuery.fn.animate=function(e,t,n,i){if(!r||!f.apply(this,arguments))return u.call(this,this,function(){return a.apply(this,arguments)},arguments)}});;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijtooltip",r="@wijtp@",i="wijmo-wijtooltip",s=i+"-arrow-",o=parseFloat,u=window,a=document,f=Math,l=f.max,c={},h=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n._tooltips=new Array,n.prototype._setOption=function(n,r){var i=this,s="_set_"+n,o=i.options[n];e.prototype._setOption.call(this,n,r),t.isPlainObject(r)&&(i.options[n]=t.extend({},o,r)),i[s]&&i[s](o)},n.prototype._set_cssClass=function(){var e=this,t=e.options,n=e._tooltipCache._$tooltip;if(!n)return;n.hasClass(t.cssClass)||n.addClass(t.cssClass)},n.prototype._set_content=function(e){var t=this;t._isAjaxCallback?(t._callbacked=!0,t.show(),t._callbacked=!1):t._setText()},n.prototype._create=function(){var e=this,t=e.options,i=e.element,s=i&&i.attr("id"),o="",u="",a=t.group||r,f=n._getTooltip(a);f?f.count++:(f=e._createTooltip(),f.count=0,n._tooltips[a]=f),u=t.cssClass?t.cssClass:"",f._$tooltip.hasClass(u)||f._$tooltip.addClass(u),t.position.of=e.element,e._bindLiveEvents(),e._tooltipCache=f,s!==""&&(o=f._$tooltip.attr("aria-describedby"),o=o===undefined?"":o+" ",f._$tooltip.attr("aria-describedby",o+s))},n.prototype.destroy=function(){var t=this,i=t.element,s=t.options.group||r;i.unbind(".tooltip"),i.attr("title",t._content),n._removeTooltip(s),e.prototype.destroy.call(this)},n.prototype.widget=function(){return this._tooltipCache._$tooltip},n.prototype.show=function(){var e=this,n=e._tooltipCache,r=n?n._$tooltip:null,i=e.options;if(!n||i.disabled)return;n._showAnimationTimer&&(clearTimeout(n._showAnimationTimer),n._showAnimationTimer=null),n._showAtAnimationTimer&&(clearTimeout(n._showAtAnimationTimer),n._showAtAnimationTimer=null),n._hideAnimationTimer&&(clearTimeout(n._hideAnimationTimer),n._hideAnimationTimer=null),r.stop(!0,!0);if(i.ajaxCallback&&t.isFunction(i.ajaxCallback)&&!e._callbacked){e._isAjaxCallback=!0,i.ajaxCallback.call(e.element);return}e._setText(),n._showAnimationTimer=setTimeout(function(){c=r.offset();if(i.mouseTrailing){e._setCalloutCss();return}e._setPosition(),e._showTooltip()},e.options.showDelay)},n.prototype.showAt=function(e){var t=this,n=t._tooltipCache,r=n?n._$tooltip:null,i=n?n._callout:null,s,o=0,u=0,a={},f,l,h,p,d,v;if(!n||!i)return;r.stop(!0,!0),n._showAtAnimationTimer&&(clearTimeout(n._showAtAnimationTimer),n._showAtAnimationTimer=null),n._hideAnimationTimer&&(clearTimeout(n._hideAnimationTimer),n._hideAnimationTimer=null),n._showAtAnimationTimer=setTimeout(function(){var n=r.is(":visible");t._setText(),c=r.offset(),r.offset({left:0,top:0}).show(),s=i.position(),o=s.left,u=s.top,l=t._getBorder(i),h=l.left||l.right,p=l.top||l.bottom,d=r.width(),v=r.height(),f=t._getCalloutShape(),a={rt:{left:e.x-d-h,top:e.y-u},rc:{left:e.x-d-h,top:e.y-v/2},rb:{left:e.x-d-h,top:e.y-u-p},lt:{left:e.x+h,top:e.y-u},lc:{left:e.x+h,top:e.y-v/2},lb:{left:e.x+h,top:e.y-u-p},tl:{left:e.x-o,top:e.y+p},tc:{left:e.x-d/2,top:e.y+p},tr:{left:e.x-o-h,top:e.y+p},bl:{left:e.x-o,top:e.y-v-p},bc:{left:e.x-d/2,top:e.y-v-p},br:{left:e.x-o-h,top:e.y-v-p},cc:{left:e.x-d/2,top:e.y-v/2}}[f],f=t._flipTooltip(a,f,l),t._setUnfilledCallout(f),r.offset(a),n||r.hide(),t._calloutShape=f,t._showTooltip()},t.options.showDelay)},n.prototype.hide=function(){var e=this,n=e._tooltipCache;if(!n)return;n._showAnimationTimer&&(clearTimeout(n._showAnimationTimer),n._showAnimationTimer=null),n._showAtAnimationTimer&&(clearTimeout(n._showAtAnimationTimer),n._showAtAnimationTimer=null),n._hideAnimationTimer&&(clearTimeout(n._hideAnimationTimer),n._hideAnimationTimer=null),n._hideAnimationTimer=setTimeout(t.proxy(e._hideTooltip,e),e.options.hideDelay)},n.prototype._createTooltip=function(){var e=this,n=e.options,r=new TooltipCache,i=t("<div></div>").addClass(n.wijCSS.tooltip).addClass(n.wijCSS.widget).addClass(n.wijCSS.content).addClass(n.wijCSS.cornerAll),s=t("<div></div>").addClass(n.wijCSS.tooltipContainer),o=t("<div></div>").addClass(n.wijCSS.content).addClass(n.wijCSS.tooltipPointer).append(t("<div></div>").addClass(n.wijCSS.tooltipPointerInner)),u=t("<div></div>").addClass(n.wijCSS.tooltipTitle).addClass(n.wijCSS.header).addClass(n.wijCSS.cornerAll),a=t("<a href='#'></a>").addClass(n.wijCSS.tooltipClose).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll);return a.append(t("<span></span>").addClass(n.wijCSS.icon).addClass(n.wijCSS.iconClose)).bind("click",t.proxy(e._onClickCloseBtn,e)),n.closeBehavior!=="sticky"&&a.hide(),n.showCallout||o.hide(),i.append(u).append(a).append(s).append(o).css("position","absolute").attr("role","tooltip").appendTo("body").hide(),r._$tooltip=i,r._container=s,r._callout=o,r._closeBtn=a,r._title=u,r},n.prototype._bindLiveEvents=function(){var e=this,n=e.options,r=e.element;e._content===undefined&&(e._content=r.attr("title"),r.attr("title","")),r.unbind(".tooltip"),n.mouseTrailing&&r.bind("mousemove.tooltip",function(t){if(n.disabled)return;var r=n.position.offset||"",i=r.split(" ");i.length===2?e.showAt({x:t.pageX+parseInt(i[0],10),y:t.pageY+parseInt(i[1],10)}):e.showAt({x:t.pageX,y:t.pageY})});switch(n.triggers){case"hover":r.bind("mouseover.tooltip",t.proxy(e.show,e)).bind("mouseout.tooltip",t.proxy(e._hideIfNeeded,e));break;case"click":r.bind("click.tooltip",t.proxy(e.show,e));break;case"focus":r.bind("focus.tooltip",t.proxy(e.show,e)).bind("blur.tooltip",t.proxy(e._hideIfNeeded,e));break;case"rightClick":r.bind("contextmenu.tooltip",function(t){e.show(),t.preventDefault()})}},n.prototype._hideIfNeeded=function(){var e=this,t=e.options,n=t.closeBehavior;if(n==="sticky"||t.modal||n==="none"||t.disabled)return;e.hide()},n.prototype._flipTooltip=function(e,t,n){var r=this,i=r._tooltipCache,s=i?i._$tooltip:null,o={width:s.width(),height:s.height()},u=r._flipCallout(e,o,t),a=u&&u.flip,f,l;return!i||!u||!a.h&&!a.v?u.calloutShape:(f=s.width(),l=s.height(),a.h==="l"?e.left-=f+n.right*2+1:a.h==="r"?e.left+=f+n.left*2+1:a.v==="t"?e.top-=l+n.bottom*2+1:a.v==="b"&&(e.top+=l+n.top*2+1),u.calloutShape)},n.prototype._flipCallout=function(e,n,r){var i=this,o=i.options,a=i._tooltipCache,f=a._$tooltip,l={h:!1,v:!1},c=t(u),h=(o.position.collision||"flip").split(" ");h.length===1&&(h[1]=h[0]);if(!a||h[0]!=="flip"&&h[1]!=="flip")return{flip:l,calloutShape:null};h[0]==="flip"&&(e.left<0||e.left+n.width>c.width()+c.scrollLeft())&&(l.h=!0),h[0]==="flip"&&(e.top<0||e.top+n.height>c.height()+c.scrollTop())&&(l.v=!0);if(o.showCallout){l.h&&(r.indexOf("l")>-1?(r=r.replace(/l/,"r"),l.h="l"):r.indexOf("r")>-1&&(r=r.replace(/r/,"l"),l.h="r")),l.v&&(r.indexOf("t")>-1?(r=r.replace(/t/,"b"),l.v="t"):r.indexOf("b")>-1&&(r=r.replace(/b/,"t"),l.v="b"));if(l.h||l.v)i._removeCalloutCss(),f.addClass(s+r)}return{flip:l,calloutShape:r}},n.prototype._set_position=function(e){var t=this,n=t.options,r=n.position;n.showCallout&&((e.my!==r.my||e.at!==r.at)&&t._setPosition(),t._setCalloutOffset(!0)),t._setText()},n.prototype._set_showCallout=function(){var e=this,t=e._tooltipCache,n=t?t._callout:null;if(!t||!n)return;e.options.showCallout?(e._setCalloutCss(),n.show()):n.hide()},n.prototype._set_closeBehavior=function(){var e=this,t=e._tooltipCache,n=t?t._closeBtn:null;n&&n[e.options.closeBehavior==="sticky"?"show":"hide"]()},n.prototype._set_triggers=function(){this._bindLiveEvents()},n.prototype._set_mouseTrailing=function(){this._bindLiveEvents()},n.prototype._getCalloutShape=function(){var e=this,n=e.options.position,r=function(e){return t.makeArray(t.map(e,function(e){return e.substr(0,1)}))},i=r(n.my.split(" ")),s=r(n.at.split(" ")),o=[];return i.length===2&&(o=i),i[0]===s[0]?(i[1]==="t"&&s[1]==="b"||i[1]==="b"&&s[1]==="t")&&o.reverse():s[0]==="c"&&o.reverse(),o[0]==="c"&&o.reverse(),o.join("")},n.prototype._setCalloutCss=function(){var e=this,n=e.options,r=e._tooltipCache,i=r?r._$tooltip:null,o="",u="",a=t.support.isTouchEnabled;if(!n.showCallout&&!a)return;return e._removeCalloutCss(),u=e._getCalloutShape(),o=s+u,i&&i.addClass(o),u},n.prototype._removeCalloutCss=function(){var e=this._tooltipCache,n;e&&(n=e._$tooltip,t.each(["tl","tc","tr","bl","bc","br","rt","rc","rb","lt","lc","lb","cc"],function(e,t){var r=s+t;if(n.hasClass(r))return n.removeClass(r),!1}))},n.prototype._getBorder=function(e){var n={};return t.each(["top","right","left","bottom"],function(t,r){n[r]=o(e.css("border-"+r+"-width"))}),n},n.prototype._setPosition=function(){var e=this,n=e.options,r=n.position,i=r.my,s=e._tooltipCache,u=s?s._$tooltip:null,a=u.is(":hidden"),f=e._setCalloutCss(),l=f?f.split(""):null,c=[0,0],h=s._callout,p,d,v,m,g,y={width:u.width(),height:u.height()},b,w,E=t.support.isTouchEnabled;a&&u.show(),u.css({left:0,top:0});if(n.showCallout){p=e._getBorder(h),v=o(h.css("left")),d=o(h.css("top")),m=o(h.css("right")),g=o(h.css("bottom"));switch(l[0]){case"l":c[0]=p.right;break;case"r":c[0]=-p.left;break;case"b":c[1]=g;break;case"t":c[1]=-d}switch(l[1]){case"t":c[1]=-d;break;case"b":c[1]=g;break;case"r":c[0]=m;break;case"l":c[0]=-v}}if(E&&E()){switch(l[0]){case"l":c[0]=c[0]+30;break;case"r":c[0]=c[0]-30;break;case"b":c[1]=c[1]-30;break;case"t":c[1]=c[1]+30}switch(l[1]){case"t":c[1]=c[1]+30;break;case"b":c[1]=c[1]-30;break;case"r":c[0]=c[0]-30;break;case"l":c[0]=c[0]+30}}r.my.indexOf(" ")>-1?i=r.my.split(" ")[0]+"+"+c[0]+" "+r.my.split(" ")[1]+"+"+c[1]:i=r.my+"+"+c[0]+" "+r.my+"+"+c[1],u.position({my:i,at:r.at,of:r.of,collision:"none none"}),b=e._flipCallout(u.offset(),y,f),w=b.flip;if(w.h||w.v)u.css({left:0,top:0}),u.position({my:i,at:r.at,of:r.of,collision:r.collision});n.showCallout&&e._setUnfilledCallout(f),e._calloutShape=f,a&&u.hide()},n.prototype._setCalloutOffset=function(e){var n=this,r=n.options,i=n._tooltipCache,s=i?i._$tooltip:null,o=i&&i._callout,u=n._calloutShape,a=!1,f=r.position.offset,l="",c=[],h=r.calloutAnimation;if(!o)return;if(!f||f.length===0)return;o.stop(!0,!0),t.each(["tr","tc","tl","bl","bc","br"],function(e,t){if(u===t)return a=!0,!1}),f&&(c=f.split(" "),c.length===2?l=a?c[0]:c[1]:c.length===1&&(l=c[0])),c&&c.length===2&&c[0]==="none"&&c[1]==="none"?o.css("left","").css("top",""):l==="none"?o.css(a?"left":"top",""):l!==""&&(e&&!e.disabled?a?o.animate({left:l},h.duration,h.easing):o.animate({top:l},h.duration,h.easing):o.css(a?"left":"top",l))},n.prototype._setUnfilledCallout=function(e){var t=this,n=t._tooltipCache,r=n?n._$tooltip:null,i=n&&n._callout,s=i&&i.children(),o=e.split(""),u=r?r.css("background-color"):"";if(!s)return;s.css({"border-left-color":"","border-top-color":"","border-bottom-color":"","border-right-color":""});if(!t.options.calloutFilled)switch(o[0]){case"l":s.css("border-right-color",u);break;case"t":s.css("border-bottom-color",u);break;case"r":s.css("border-left-color",u);break;case"b":s.css("border-top-color",u)}},n.prototype._showTooltip=function(){var e=this,r=e.options,i=e._tooltipCache,s=i?i._$tooltip:null,o,u,a;if(!i)return;if(e._trigger("showing",null,e)===!1)return;e._showModalLayer(),s.css("z-index",99999),t.fn.wijshow?(u={show:!0,context:s},o=t.extend({},r.animation,r.showAnimation),s.is(":visible")&&(a=s.offset(),s.offset(c),t.extend(u,{pos:a}),o.animated="tooltipSlide"),s.wijshow(o,n.animations,u,null,function(){e._trigger("shown")})):(s.show(),e._trigger("shown")),e._setCalloutOffset(!1)},n.prototype._hideTooltip=function(){var e=this,r=e.options,i=e._tooltipCache,s=i?i._$tooltip:null,o=t.extend({},r.animation,r.hideAnimation),u;if(!i)return;if(e._trigger("hiding",null,e)===!1)return;e._hideModalLayer(),t.fn.wijhide?(u={show:!1,context:s},s.wijhide(o,n.animations,u,null,function(){e._trigger("hidden"),s.css("z-index","")})):(s.hide(),e._trigger("hidden"),s.css("z-index",""))},n.prototype._getContent=function(e){var n={data:""},r;return t.isFunction(e)?(r=e.call(this.element,n),n.data!==""?n.data:r):window[e]&&t.isFunction(window[e])?(r=window[e].call(this.element,n),n.data!==""?n.data:r):e},n.prototype._setText=function(){var e=this,t=e.options,n=e._tooltipCache,r="",i="",s=n?n._title:null;if(!n)return;r=e._getContent(t.content),r=r===""?e._content:r,n._container.html(r),i=e._getContent(t.title),i!==""?s.html(i).show():s.hide()},n.prototype._showModalLayer=function(){var e=this,n=e.options,r=null;e.options.modal&&(r=t("<div>").addClass(n.wijCSS.overlay).css("z-index",99e3).width(e._getDocSize("Width")).height(e._getDocSize("Height")).appendTo("body"),t(window).bind("resize.wijtooltip",function(){r.width(e._getDocSize("Width")).height(e._getDocSize("Height"))}),e._tooltipCache._modalLayer=r)},n.prototype._hideModalLayer=function(){var e=this,n=e._tooltipCache._modalLayer;n&&(n.css("z-index","").remove(),t(window).unbind("resize.wijtooltip"))},n.prototype._getDocSize=function(e){var n,r,i="documentElement",s="body";return t.browser.msie&&parseFloat(t.browser.version)<9?(n=l(a[i]["scroll"+e],a[s]["scroll"+e]),r=l(a[i]["offset"+e],a[s]["offset"+e]),n<r?t(u)[e.toLowerCase()]()+"px":n+"px"):t(a)[e.toLowerCase()]()+"px"},n.prototype._onClickCloseBtn=function(e){this.hide(),e.preventDefault()},n.animations={fade:function(e,n){e=t.extend({duration:300,easing:"swing"},e,n),e.context.stop(!0,!0).animate(e.show?{opacity:"show"}:{opacity:"hide"},e)},tooltipSlide:function(e,n){e=t.extend({duration:300,easing:"swing"},e,n),e.context.stop(!0,!0).animate({left:e.pos.left,top:e.pos.top},e)}},n._getTooltip=function(t){return n._tooltips[t]},n._removeTooltip=function(t){var r=n._tooltips[t],i=r?r._$tooltip:null;r&&(r.count--,r.count<=0&&(i.remove(),n._tooltips[t]=null))},n}(e.wijmoWidget);e.wijtooltip=h;var p=function(){function e(){this.initSelector=":jqmData(role='wijtooltip')",this.wijCSS={tooltip:"wijmo-wijtooltip",tooltipContainer:"wijmo-wijtooltip-container",tooltipPointer:"wijmo-wijtooltip-pointer",tooltipPointerInner:"wijmo-wijtooltip-pointer-inner",tooltipTitle:"wijmo-wijtooltip-title",tooltipClose:"wijmo-wijtooltip-close"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-a",stateDefault:"ui-btn-up-a",stateHover:"ui-btn-down-a",stateActive:"ui-btn-down-a"},this.content="",this.title="",this.closeBehavior="auto",this.mouseTrailing=!1,this.triggers="hover",this.position={my:"left bottom",at:"right top",offset:null},this.showCallout=!0,this.animation={animated:"fade",duration:500,easing:null},this.showAnimation={},this.hideAnimation={},this.showDelay=150,this.hideDelay=150,this.calloutAnimation={duration:1e3,disabled:!1,easing:null},this.calloutFilled=!1,this.modal=!1,this.group=null,this.ajaxCallback=null,this.showing=null,this.shown=null,this.hiding=null,this.hidden=null,this.cssClass=""}return e}();h.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new p),t.wijmo.registerWidget(n,h.prototype)})(wijmo||(wijmo={}));var TooltipCache=function(){function e(){}return e}();;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijslider",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._valueMin=function(){return t.ui.slider.prototype._valueMin.apply(this,arguments)},n.prototype._refreshValue=function(){return t.ui.slider.prototype._refreshValue.apply(this,arguments)},n.prototype._create=function(){return t.ui.slider.prototype._create.apply(this,arguments)},n.prototype.values=function(e,n){return t.ui.slider.prototype.values.apply(this,arguments)},n.prototype.value=function(e){return t.ui.slider.prototype.value.apply(this,arguments)},n.prototype._slide=function(e,n,r){return t.ui.slider.prototype._slide.apply(this,arguments)},n.prototype._change=function(e,n){return t.ui.slider.prototype._change.apply(this,arguments)},n}(e.JQueryUIWidget);e.JQueryUISlider=r;var i=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._setOption=function(e,n){var r=this;return e==="values"?(n=r._pre_set_values(n),r.options[e]=n,r._setValuesOption()):t.ui.slider.prototype._setOption.apply(r,arguments),e==="disabled"?r._handleDisabledOption(n,r.element.parent()):e==="range"&&r._setRangeOption(n),this},n.prototype._setRangeOption=function(e){var t=this,n=t.options,r;e===!0&&(!n.values||n.values&&n.values.length===0?(r=t._valueMin(),n.values=[r,r]):n.values.length&&n.values.length!==2&&(r=n.values[0],n.values=[r,r]),t._refresh_handle(2)),t._re_createRange(),t._refreshValue()},n.prototype._setValuesOption=function(){var e=this,n=0,r;e._animateOff=!0,e._refreshValue(),t.isArray(e.options.values)&&(n=e.options.values.length);for(r=0;r<n;r++)e._change(null,r);e._animateOff=!1},n.prototype._re_createRange=function(){var e=this,n=e.options;e.range&&(e.range.remove(),t(".ui-slider-range",e.element).length>0&&t(".ui-slider-range",e.element).remove()),n.range&&(e.range=t("<div></div>").appendTo(e.element).addClass("ui-slider-range ui-widget-header"+(n.range==="min"||n.range==="max"?" ui-slider-range-"+n.range:"")))},n.prototype._pre_set_values=function(e){var t=this,n=t.options,r=1,i;return r=e&&e.length?e.length:1,n.range===!0&&(!e||e&&e.length===0?(i=t._valueMin(),e=[i,i]):e.length&&e.length!==2&&(i=e[0],e=[i,i]),r=2),t._refresh_handle(r),t._re_createRange(),e},n.prototype._refresh_handle=function(e){var t=this,n=t.handles.length,r="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",i=[],s;if(n!==e){if(e>n){for(s=n;s<e;s++)i.push(r);t.element.append(i.join(""))}else t.element.find(".ui-slider-handle").eq(e-1).nextAll().remove();t.handles=t.element.find(".ui-slider-handle")}},n.prototype._initState=function(){this._dragFillTarget=!1,this._dragFillStart=0,this._rangeValue=0,this._oldValue1=0,this._oldValue2=0,this._oldX=0,this._oldY=0},n.prototype._create=function(){var n=this,r=n.element,i=n.options,s,o,u,a,f,l,c,h,p,d,v;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),this._initState(),n._oriStyle=r.attr("style");if(r.is(":input")){i.orientation==="horizontal"?s=t("<div></div>").width(r.width()).appendTo(document.body):s=t("<div></div>").height(r.height()).appendTo(document.body),o=r.val();if(o!=="")try{u=o.split(";"),f=u.length;if(f>0){for(a=0;a<f;a++)u[a]=parseInt(u[a],10);f===1?i.value=u[0]:i.values=u}}catch(m){}r.data(n.widgetName,s.wijslider(i)).after(t(document.body).children("div:last")).hide();if(i.disabledState){var g=i.disabled;n.disable(),i.disabled=g}return}e.prototype._create.call(this),r.data("originalStyle",r.attr("style")),r.data("originalContent",r.html()),l=r.width(),c=r.height(),h=t("<div></div>"),i.orientation==="horizontal"?h.addClass("wijmo-wijslider-horizontal"):h.addClass("wijmo-wijslider-vertical"),h.width(l).height(c),p=t('<a class="wijmo-wijslider-decbutton"><span></span></a>'),d=t('<a class="wijmo-wijslider-incbutton"><span></span></a>'),r.wrap(h).before(p).after(d),n._container=r.parent(),n._attachClass(),v=r.find(".ui-slider-handle"),n._adjustSliderLayout(p,d,v);if(i.disabledState){var g=i.disabled;n.disable(),i.disabled=g}n.element.is(":hidden")&&n.element.wijAddVisibilityObserver&&n.element.wijAddVisibilityObserver(function(){n._refreshSlider(),n.element.wijRemoveVisibilityObserver&&n.element.wijRemoveVisibilityObserver()},"wijslider"),n._bindEvents()},n.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},n.prototype._createDisabledDiv=function(e){var n=this,r=e?e:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return t("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top})},n.prototype.refresh=function(){var e=this.element.data("wijslider"),t=this.element.data("wijmoWijslider");this.destroy(),this.element.data("wijslider",e),this.element.data("wijmoWijslider",t),this._create()},n.prototype._refreshSlider=function(){var e=this,t,n,r;n=e._container.find(".wijmo-wijslider-decbutton"),t=e._container.find(".wijmo-wijslider-incbutton"),r=e._container.find(".ui-slider-handle"),e._adjustSliderLayout(n,t,r),e._refreshValue()},n.prototype._adjustSliderLayout=function(e,t,n){var r=this,i=r.element,s=r.options,o,u,a,f,l,c,h,p,d,v,m,g;o=r._container.width(),u=r._container.height(),a=e.outerWidth(),f=e.outerHeight(),l=t.outerWidth(),c=t.outerHeight(),h=n.outerWidth(),p=n.outerHeight(),s.orientation==="horizontal"?(d=u/2-f/2,e.css("top",d).css("left",0),v=u/2-c/2,t.css("top",v).css("right",0),i.css("left",a+h/2-1).css("top",u/2-i.outerHeight()/2).width(o-a-l-h-2)):(m=o/2-a/2,e.css("left",m).css("top",0),g=o/2-l/2,t.css("left",g).css("bottom",0),i.css("left",o/2-i.outerWidth()/2).css("top",f+p/2+1).height(u-f-c-p-2))},n.prototype.destroy=function(){var n=this,r,i;r=this._getDecreBtn(),i=this._getIncreBtn(),r.unbind("."+n.widgetName),i.unbind("."+n.widgetName),e.prototype.destroy.call(this),t("a",n.element.parent()).remove(),n.element.unbind("."+n.widgetName),n.element.unwrap(),n._oriStyle===undefined?n.element.removeAttr("style"):n.element.attr("style",n._oriStyle),n.element.removeData(n.widgetName).removeData("originalStyle").removeData("originalContent"),n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},n.prototype._slide=function(t,n,r){var i=this,s=i.options,o=s.minRange,u=r,a;s.range===!0&&(a=i.values(),n===0&&a[1]-o<r?u=a[1]-o:n===1&&a[0]+o>r&&(u=a[0]+o)),e.prototype._slide.call(this,t,n,u)},n.prototype._getDecreBtn=function(){var e=this.element.parent().find(".wijmo-wijslider-decbutton");return e},n.prototype._getIncreBtn=function(){var e=this.element.parent().find(".wijmo-wijslider-incbutton");return e},n.prototype._attachClass=function(){this._getDecreBtn().addClass("ui-corner-all ui-state-default").attr("role","button"),this._getIncreBtn().addClass("ui-corner-all ui-state-default").attr("role","button"),this.element.parent().attr("role","slider").attr("aria-valuemin",this.options.min).attr("aria-valuenow","0").attr("aria-valuemax",this.options.max),this.options.orientation==="horizontal"?(this.element.parent().addClass("wijmo-wijslider-horizontal"),this._getDecreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-w"),this._getIncreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-e")):(this.element.parent().addClass("wijmo-wijslider-vertical"),this._getDecreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-n"),this._getIncreBtn().find("> span").addClass("ui-icon ui-icon-triangle-1-s"))},n.prototype._bindEvents=function(){var e=this,t,n,r;t=this._getDecreBtn(),n=this._getIncreBtn(),r=e.element,t.bind("click."+e.widgetName,e,e._decreBtnClick),n.bind("click."+e.widgetName,e,e._increBtnClick),t.bind("mouseover."+e.widgetName,e,e._decreBtnMouseOver),t.bind("mouseout."+e.widgetName,e,e._decreBtnMouseOut),t.bind("mousedown."+e.widgetName,e,e._decreBtnMouseDown),t.bind("mouseup."+e.widgetName,e,e._decreBtnMouseUp),n.bind("mouseover."+e.widgetName,e,e._increBtnMouseOver),n.bind("mouseout."+e.widgetName,e,e._increBtnMouseOut),n.bind("mousedown."+e.widgetName,e,e._increBtnMouseDown),n.bind("mouseup."+e.widgetName,e,e._increBtnMouseUp),r.bind("mouseup."+e.widgetName,e,e._elementMouseupEvent)},n.prototype._decreBtnMouseOver=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseOver",e,n),r=t._getDecreBtn(),r.addClass("ui-state-hover")},n.prototype._increBtnMouseOver=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseOver",e,n),r=t._getIncreBtn(),r.addClass("ui-state-hover")},n.prototype._decreBtnMouseOut=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseOut",e,n),r=t._getDecreBtn(),r.removeClass("ui-state-hover ui-state-active")},n.prototype._increBtnMouseOut=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseOut",e,n),r=t._getIncreBtn(),r.removeClass("ui-state-hover ui-state-active")},n.prototype._decreBtnMouseDown=function(e){var n=e.data,r,i;if(n.options.disabledState||n.options.disabled)return;r={buttonType:"decreButton"},n._trigger("buttonMouseDown",e,r),i=n._getDecreBtn(),i.addClass("ui-state-active"),t(document).bind("mouseup."+n.widgetName,{self:n,ele:i},n._documentMouseUp),n._intervalID!==null&&(window.clearInterval(n._intervalID),n._intervalID=null),n._intervalID=window.setInterval(function(){n._decreBtnHandle(n)},200)},n.prototype._documentMouseUp=function(e){var n=e.data.self,r=e.data.ele;if(n.options.disabledState||n.options.disabled)return;r.removeClass("ui-state-active"),n._intervalID!==null&&(window.clearInterval(n._intervalID),n._intervalID=null),t(document).unbind("mouseup."+n.widgetName,n._documentMouseUp)},n.prototype._increBtnMouseDown=function(e){var n=e.data,r,i;if(n.options.disabledState||n.options.disabled)return;r={buttonType:"increButton"},n._trigger("buttonMouseDown",e,r),i=n._getIncreBtn(),i.addClass("ui-state-active"),t(document).bind("mouseup."+n.widgetName,{self:n,ele:i},n._documentMouseUp),n._intervalID!==null&&(window.clearInterval(n._intervalID),n._intervalID=null),n._intervalID=window.setInterval(function(){n._increBtnHandle(n)},200)},n.prototype._decreBtnMouseUp=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"decreButton"},t._trigger("buttonMouseUp",e,n),r=t._getDecreBtn(),r.removeClass("ui-state-active"),window.clearInterval(t._intervalID)},n.prototype._increBtnMouseUp=function(e){var t=e.data,n,r;if(t.options.disabledState||t.options.disabled)return;n={buttonType:"increButton"},t._trigger("buttonMouseUp",e,n),r=t._getIncreBtn(),r.removeClass("ui-state-active"),window.clearInterval(t._intervalID)},n.prototype._decreBtnHandle=function(e){e.options.orientation==="horizontal"?e._decre():e._incre()},n.prototype._decreBtnClick=function(e){var t=e.data,n;if(t.options.disabledState||t.options.disabled)return;t._mouseSliding=!1,t._decreBtnHandle(t),n={buttonType:"decreButton",value:t.value()},t._trigger("buttonClick",e,n)},n.prototype._increBtnHandle=function(e){e.options.orientation==="horizontal"?e._incre():e._decre()},n.prototype._increBtnClick=function(e){var t=e.data,n;if(t.options.disabledState||t.options.disabled)return;t._mouseSliding=!1,t._increBtnHandle(t),n={buttonType:"increButton",value:t.value()},t._trigger("buttonClick",e,n)},n.prototype._decre=function(){var e=this,t=e.value(),n=e.options,r=n.min,i=n.step;n.values&&n.values.length?(t=e.values(0),t<=r?e.values(0,r):e.values(0,t-i)):(t=e.value(),t<=r?e.value(r):e.value(t-i)),e.element.parent().attr("aria-valuenow",e.value())},n.prototype._incre=function(){var e=this,t=e.value(),n=e.options,r=n.max,i=n.step,s;n.values&&n.values.length?(s=n.values.length===1?0:1,t=e.values(s),t>=r?e.values(s,r):e.values(s,t+i)):(t=e.value(),t>=r?e.value(r):e.value(t+i)),e.element.parent().attr("aria-valuenow",e.value())},n.prototype._elementMouseupEvent=function(e){var n=e.data;n.options.dragFill&&n.options.range&&(n._dragFillStart>0?n._dragFillStart=0:t.ui.slider.prototype._mouseCapture.apply(n,arguments))},n.prototype._mouseCapture=function(e){this.element.parent().attr("aria-valuenow",this.value());if(this.options.dragFill){if(e.target.className==="ui-slider-range ui-widget-header")return this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),!0;try{return t.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(n){}}else try{return t.ui.slider.prototype._mouseCapture.apply(this,arguments)}catch(n){}},n.prototype._mouseStart=function(e){if(this.options.dragFill){if(e.target&&e.target.className==="ui-slider-range ui-widget-header")return this._dragFillTarget=!0,this._rangeValue=this.values(1)-this.values(0),this._oldValue1=this.values(0),this._oldValue2=this.values(1),this._oldX=e.pageX,this._oldY=e.pageY,!0;this._dragFillTarget=!1}return!0},n.prototype._mouseDrag=function(e){var n,r,i,s,o,u;return this.options.dragFill?(n=e.pageX-this._oldX,r=this.element.outerWidth(),this.options.orientation==="vertical"&&(r=this.element.outerHeight(),n=-(e.pageY-this._oldY)),i=(this.options.max-this.options.min)/r*n,this._dragFillTarget?(this.options.orientation==="vertical"?t(document.documentElement).css("cursor","s-resize"):t(document.documentElement).css("cursor","w-resize"),this._dragFillStart>0&&(s=this._rangeValue,this.values(0,this._oldValue1+i),this.values(1,this._oldValue1+i+s),o=this.values(0),u=this.values(1),o+s>this.options.max&&this.values(0,this.options.max-s),u-s<this.options.min&&this.values(1,this.options.min+s)),this._dragFillStart++,!1):t.ui.slider.prototype._mouseDrag.apply(this,arguments)):t.ui.slider.prototype._mouseDrag.apply(this,arguments)},n.prototype._mouseStop=function(e){var n=t.ui.slider.prototype._mouseStop.apply(this,arguments);return this.options.dragFill&&(t(document.documentElement).css("cursor","default"),window.setTimeout(function(){this._dragFillTarget=!1,this._dragFillStart=0},500)),n},n}(r);e.wijslider=i,i.prototype.widgetEventPrefix="wijslider";var s=function(){function e(){this.buttonMouseOver=null,this.buttonMouseOut=null,this.buttonMouseDown=null,this.buttonMouseUp=null,this.buttonClick=null,this.dragFill=!0,this.minRange=0}return e}();t.ui&&t.ui.slider&&(i.prototype.options=t.extend(!0,{},t.ui.slider.prototype.options,new s),t.wijmo.registerWidget(n,t.ui.slider,i.prototype))})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijsplitter",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._setFullSplit=function(e){var t=this,n=t._fields,r=e?"100%":n.width,i=e?"100%":n.height;t.element.css("width",r).css("height",i)},n.prototype._setOption=function(e,n){var r=this,i=r.options,s,o=t.extend({},i[e]);if(e==="fullSplit")r._setFullSplit(n);else if(t.isPlainObject(i[e])){e==="panel1"&&n.collapsed!==undefined?r._setPanel1Collapsed(n.collapsed):e==="panel2"&&n.collapsed!==undefined&&r._setPanel2Collapsed(n.collapsed),i[e]=t.extend(!0,i[e],n);return}t.Widget.prototype._setOption.apply(r,arguments),o!==n&&(e==="orientation"?r.refresh():e==="collapsingPanel"?r.refresh():e==="fullSplit"?r.refresh(!0,!1):e==="splitterDistance"?(r.refresh(!1,!1),r._trigger("sized")):e==="showExpander"&&(s=r._fields.expander,s&&s.length&&s.css("display",n?"":"none"))),e==="disabled"&&r._handleDisabledOption(n,r.element)},n.prototype._create=function(){var e=this,n=e.element,r=e.options,i;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),r.splitterDistance==100&&(i=this.element.width()-r.panel2.minSize,r.panel1.minSize>r.splitterDistance?r.splitterDistance=r.panel1.minSize:i<r.splitterDistance&&(r.splitterDistance=i)),e._fields={width:n.width(),height:n.height()},r.fullSplit&&e._setFullSplit(!0),e._splitterify(),e._updateElementsCss(),e._updateElements(),e._bindEvents(),e._initResizer(),r.disabled&&e.disable(),e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){r.fullSplit&&(e.refresh(),e._updateElements(),e._initResizer())},"wijsplitter"),e._trigger("load",null,e)},n.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},n.prototype.destroy=function(){var e=this,n=e.options,r=e.element,i=e._fields,s=i.wrapper,o=i.expander,u=i.bar,a=i.panel1,f=i.panel2,l=i.originalStyle,c=e.widgetName,h=i.oriPnl1Content,p=i.oriPnl2Content,d=i.oriPnl1ContentStyle,v=i.oriPnl2ContentStyle,m=n.wijCSS,g=m.vSplitterCss,y=m.vSplitterCssPrefix,b=m.hSplitterCss,w=m.hSplitterCssPrefix,E=m.panelCss;t.fn.resizable&&a&&a.n.is(":ui-resizable")&&a.n.resizable("destroy"),h&&(h.removeClass(y+a.contentCss+" "+n.wijCSS.hSplitterCssPrefix+a.contentCss+" "+n.wijCSS.content),d===undefined?h.removeAttr("style"):h.attr("style",d),h.appendTo(r)),p&&(p.removeClass(y+f.contentCss+" "+n.wijCSS.hSplitterCssPrefix+f.contentCss+" "+n.wijCSS.content),v===undefined?p.removeAttr("style"):p.attr("style",v),p.appendTo(r)),a.n.unbind("."+c),o.unbind("."+c),u.unbind("."+c),t(window).unbind("."+c),s.remove(),r.removeClass(g+" "+b),l===undefined?r.removeAttr("style"):r.attr("style",l),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),e._fields=null},n.prototype.refresh=function(e,n){var r=this,i=r._fields,s=i.panel1;if(i._isResizing)return;(n||n===undefined)&&r._updateElementsCss(),r._updateElements();if(e||e===undefined){if(!t.fn.resizable)return;s&&s.n.is(":ui-resizable")&&s.n.resizable("destroy"),r._initResizer()}},n.prototype._createDisabledDiv=function(e){var n=this,r=e?e:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight(),u={"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top};return t.browser.msie&&t.extend(u,{"background-color":"#fff",opacity:.1}),t("<div></div>").addClass("ui-disabled").css(u)},n.prototype._splitterify=function(){var e=this,n=e.element,r=e.options,i=e._fields,s,o,u,a,f={n:undefined,content:n.find(">div:eq(0)")},l={n:undefined,content:n.find(">div:eq(1)")};i.originalStyle=n.attr("style"),s=t("<div></div>").appendTo(n),f.n=t("<div></div>").appendTo(s),f.content.length===0?f.content=t("<div></div>"):(i.oriPnl1Content=f.content,i.oriPnl1ContentStyle=f.content.attr("style")),f.content.appendTo(f.n),o=t("<div></div>").appendTo(s),r.barZIndex!==-1&&o.css("z-index",r.barZIndex),u=t("<div></div>").appendTo(o).attr("role","button"),a=t("<span></span>").appendTo(u),l.n=t("<div></div>").appendTo(s),l.content.length===0?l.content=t("<div></div>"):(i.oriPnl2Content=l.content,i.oriPnl2ContentStyle=l.content.attr("style")),l.content.appendTo(l.n),i.wrapper=s,i.panel1=f,i.panel2=l,i.bar=o,i.expander=u,i.icon=a},n.prototype._updateElementsCss=function(){var e=this,t=e.element,n=e.options,r=n.orientation==="vertical",i=e._fields,s=i.wrapper,o=n.collapsingPanel,u=n.collapsingPanel==="panel1"?"panel2":"panel1",a=i.bar,f=i.expander,l=i.icon,c=n.wijCSS,h=c.vSplitterCss,p=c.vSplitterCssPrefix,d=c.hSplitterCss,v=c.hSplitterCssPrefix,m=c.panelCss;t.removeClass(h+" "+d).addClass(r?h:d),s.attr("class",c.wrapperCss),i[o].n.removeClass(p+m[o].n+" "+v+m[o].n).addClass((r?p:v)+m[o].n),i[o].content.removeClass(p+m[o].content+" "+v+m[o].content+" "+c.content).addClass((r?p:v)+m[o].content+" "+c.content),a.attr("class",(r?p:v)+c.barCss+" "+c.header).css("width","").css("height",""),f.attr("class",c.cornerCssPrefix+(r?"bl "+p:"tr "+v)+c.expanderCss+" "+c.stateDefault).css("left","").css("top",""),l.attr("class",c.icon+" "+(r?c.iconArrowLeft:c.iconArrowUp)),i[u].n.removeClass(p+m[u].n+" "+v+m[u].n).addClass((r?p:v)+m[u].n),i[u].content.removeClass(p+m[u].content+" "+v+m[u].content+" "+c.content).addClass((r?p:v)+m[u].content+" "+c.content),e._updateExpanderCss()},n.prototype._updateExpanderCss=function(){var e=this,t=e.options,n=e._fields,r=n.expander,i=n.icon,s=t.wijCSS,o=s.cornerCssPrefix,u=t.orientation==="vertical",a=t.collapsingPanel!=="panel1",f=u?s.vSplitterCssPrefix:s.hSplitterCssPrefix,l=(u?1:0)*2+(a?1:0),c=["bl","tr","tr","bl"][l],h=["br","tl"][+a],p=[s.iconArrowDown,s.iconArrowUp,s.iconArrowRight,s.iconArrowLeft][l],d=["tr","bl","bl","tr"][l],v=["tl","br"][+a],m=[s.iconArrowUp,s.iconArrowDown,s.iconArrowLeft,s.iconArrowRight][l];r.removeClass(f+t.collapsingPanel+"-"+s.expandedCss+" "+f+t.collapsingPanel+"-"+s.collapsedCss+" "+o+c+" "+o+h+" "+o+d+" "+o+v),i.removeClass(p+" "+m),t.panel1.collapsed||t.panel2.collapsed?(r.addClass(o+c+" "+o+h+" "+f+t.collapsingPanel+"-"+s.collapsedCss),i.addClass(p)):(r.addClass(o+d+" "+o+v+" "+f+t.collapsingPanel+"-"+s.expandedCss),i.addClass(m))},n.prototype._AddVisiblity=function(e){e.wijTriggerVisibility&&e.wijTriggerVisibility()},n.prototype._updateElements=function(){var e=this,t=e.element,n=e.options,r=n.splitterDistance,i=n.collapsingPanel,s=n.collapsingPanel==="panel1"?"panel2":"panel1",o=e._fields,u=o.wrapper,a=o.panel1,f=o.panel2,l=o.bar,c=o.expander,h=t.width(),p=t.height(),d,v;u.height(p),e._setPanelsScrollMode(),n.orientation==="vertical"?(d=l.outerWidth(!0),r>h-d&&(r=h-d),u.width(h*2),n.panel1.collapsed?(i==="panel1"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel1"+"-"+n.wijCSS.collapsedCss),o.panel1.n.css("display","none"),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n),r=0):(i==="panel1"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel1"+"-"+n.wijCSS.expandedCss),o.panel1.n.css("display",""),this._AddVisiblity(o.panel1.n),o.panel2.n.css("display",n.panel2.collapsed?"none":"")),n.panel2.collapsed?(i==="panel2"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel2"+"-"+n.wijCSS.collapsedCss),o.panel2.n.css("display","none"),r=i==="panel1"?h-d:h):(i==="panel2"&&c.addClass(n.wijCSS.vSplitterCssPrefix+"panel2"+"-"+n.wijCSS.expandedCss),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n)),!n.panel1.collapsed&&!n.panel2.collapsed&&c.addClass(n.wijCSS.vSplitterCssPrefix+n.collapsingPanel+"-"+n.wijCSS.expandedCss),i==="panel1"?(o.panel1.n.height(p).width(r),o.panel2.n.height(p).width(h-r-d)):(o.panel1.n.height(p).width(r-d),o.panel2.n.height(p).width(h-r)),o.panel1.content.outerHeight(p,!0),l.outerHeight(p,!0),o.panel2.content.outerHeight(p,!0),c.css("cursor","pointer").css("top",p/2-c.outerHeight(!0)/2)):(v=l.outerHeight(!0),r>p-v&&(r=p-v),n.panel1.collapsed?(i==="panel1"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel1"+"-"+n.wijCSS.collapsedCss),o.panel1.n.css("display","none"),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n),r=0):(i==="panel1"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel1"+"-"+n.wijCSS.expandedCss),o.panel1.n.css("display",""),this._AddVisiblity(o.panel1.n),o.panel2.n.css("display",n.panel2.collapsed?"none":"")),n.panel2.collapsed?(i==="panel2"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel2"+"-"+n.wijCSS.collapsedCss),o.panel2.n.css("display","none"),r=i==="panel1"?p-v:p):(i==="panel2"&&c.addClass(n.wijCSS.hSplitterCssPrefix+"panel2"+"-"+n.wijCSS.expandedCss),o.panel2.n.css("display",""),this._AddVisiblity(o.panel2.n)),i==="panel1"?(o.panel1.n.width(h).height(r),o.panel2.n.width(h).height(p-r-v),o.panel1.content.outerHeight(r,!0),o.panel2.content.outerHeight(p-r-v,!0)):(o.panel1.n.width(h).height(r-v),o.panel2.n.width(h).height(p-r),o.panel1.content.outerHeight(r-v,!0),o.panel2.content.outerHeight(p-r,!0)),c.css("cursor","pointer").css("left",h/2-c.outerWidth(!0)/2)),c.css("display",n.showExpander?"":"none")},n.prototype._bindEvents=function(){var e=this,n=e.options,r=e._fields,i=r.bar,s=r.expander,o=e.widgetName;s.bind("mouseover."+o,function(e){if(n.disabled)return;s.addClass(n.wijCSS.stateHover)}).bind("mouseout."+o,function(e){if(n.disabled)return;s.removeClass(n.wijCSS.stateHover).removeClass(n.wijCSS.stateActive)}).bind("mousedown."+o,function(e){if(n.disabled)return;s.addClass(n.wijCSS.stateActive)}).bind("mouseup."+o,function(t){if(n.disabled)return;s.removeClass(n.wijCSS.stateActive),n.collapsingPanel==="panel1"?e._setPanel1Collapsed(!n.panel1.collapsed,t):e._setPanel2Collapsed(!n.panel2.collapsed,t)}),i.bind("mouseover."+o,function(e){if(n.disabled)return;i.addClass(n.wijCSS.stateHover)}).bind("mouseout."+o,function(e){if(n.disabled)return;i.removeClass(n.wijCSS.stateHover)}),r.panel1.n.bind("animating."+o,function(t){if(n.disabled)return;e._adjustLayout(e),e._trigger("sizing",t,null)}).bind("animated."+o,function(t){if(n.disabled)return;e._adjustLayout(e),e._trigger("sized",t,null)}),e.element.on("mouseover."+o,".ui-resizable-handle",function(e){if(n.disabled)return;i.addClass(n.wijCSS.stateHover)}).on("mouseout."+o,".ui-resizable-handle",function(e){if(n.disabled)return;i.removeClass(n.wijCSS.stateHover)}),t(window).bind("resize."+o,function(t){if(n.disabled)return;n.fullSplit&&e.element.is(":visible")&&(e._updateElements(),e._initResizer())})},n.prototype._setPanel1Collapsed=function(e,n){var r=this,i=r.options,s=i.panel1.collapsed,o=t(".ui-resizable-handle",r.element);if(s===e)return;if(i.collapsingPanel==="panel1"&&!r._trigger(s?"expand":"collapse",n,null))return;i.panel1.collapsed=e,e?(i.panel2.collapsed=!1,i.collapsingPanel==="panel2"&&o.hide()):o.show(),r._updateElements(),r._updateExpanderCss(),i.collapsingPanel==="panel1"&&r._trigger(e?"collapsed":"expanded",n,null)},n.prototype._setPanel2Collapsed=function(e,n){var r=this,i=r.options,s=i.panel2.collapsed,o=t(".ui-resizable-handle",r.element);if(s===e)return;if(i.collapsingPanel==="panel2"&&!r._trigger(s?"expand":"collapse",n,null))return;i.panel2.collapsed=e,e?(i.panel1.collapsed=!1,i.collapsingPanel==="panel1"&&o.hide()):o.show(),r._updateElements(),r._updateExpanderCss(),i.collapsingPanel==="panel2"&&r._trigger(e?"collapsed":"expanded",n,null)},n.prototype._initResizer=function(){var e=this,n=e.element,r=e.options,i=e._fields,s=i.bar,o=r.collapsingPanel,u=r.collapsingPanel==="panel1"?"panel2":"panel1",a=r.resizeSettings,f=a.animationOptions,l=f.disabled?0:f.duration,c=n.width(),h=n.height(),p,d,v,m,g,y,b;if(!t.fn.resizable)return;r.orientation==="vertical"?(p=s.outerWidth(!0),d=c-p-r[u].minSize,v=r[o].minSize,v<2&&(v=2),i.panel1.n.resizable({wijanimate:!0,minWidth:v,maxWidth:d,handles:"e",helper:r.wijCSS.vSplitterCssPrefix+r.wijCSS.resizeHelperCss,animateDuration:l,animateEasing:f.easing,ghost:a.ghost,start:function(){i._isResizing=!0},stop:function(){i._isResizing=!1}})):(m=s.outerHeight(!0),g=h-m-r[u].minSize,y=r[o].minSize,y<2&&(y=2),i.panel1.n.resizable({wijanimate:!0,minHeight:y,maxHeight:g,handles:"s",helper:r.wijCSS.hSplitterCssPrefix+r.wijCSS.resizeHelperCss,animateDuration:l,animateEasing:f.easing,ghost:a.ghost,start:function(){i._isResizing=!0},stop:function(){i._isResizing=!1}})),b=t(".ui-resizable-handle",n),r[u].collapsed?b.hide():b.show(),t.browser.msie&&parseInt(t.browser.version)<7&&r.orientation==="vertical"&&b.height(n.height())},n.prototype._adjustLayout=function(e){var t=e.options,n=e._fields,r=n.panel1,i=t.orientation==="vertical"?r.n.width():r.n.height();if(t.splitterDistance===i)return;t.splitterDistance=i,e._updateElements()},n.prototype._setPanelsScrollMode=function(){var e=this,n=e._fields,r=e.options,i=[r.panel1.scrollBars,r.panel2.scrollBars];t.each([n.panel1,n.panel2],function(e,t){i[e]==="auto"?t.content.css("overflow","auto"):i[e]==="both"?t.content.css("overflow","scroll"):i[e]==="none"?t.content.css("overflow","hidden"):i[e]==="horizontal"?t.content.css("overflow-x","scroll").css("overflow-y","hidden"):i[e]==="vertical"&&t.content.css("overflow-x","hidden").css("overflow-y","scroll")})},n}(e.wijmoWidget);e.wijsplitter=r;var i=function(){function e(){this.initSelector=":jqmData(role='wijsplitter')",this.sizing=null,this.sized=null,this.expand=null,this.collapse=null,this.expanded=null,this.collapsed=null,this.barZIndex=-1,this.showExpander=!0,this.splitterDistance=100,this.orientation="vertical",this.fullSplit=!1,this.resizeSettings={animationOptions:{duration:100,easing:"swing",disabled:!1},ghost:!1},this.panel1={minSize:1,collapsed:!1,scrollBars:"auto"},this.panel2={minSize:1,collapsed:!1,scrollBars:"auto"},this.collapsingPanel="panel1",this.wijCSS={cornerCssPrefix:"ui-corner-",arrowCssPrefix:"ui-icon-triangle-1-",panelCss:{panel1:{n:"panel1",content:"panel1-content"},panel2:{n:"panel2",content:"panel2-content"}},wrapperCss:"wijmo-wijsplitter-wrapper",hSplitterCss:"wijmo-wijsplitter-horizontal",vSplitterCss:"wijmo-wijsplitter-vertical",hSplitterCssPrefix:"wijmo-wijsplitter-h-",vSplitterCssPrefix:"wijmo-wijsplitter-v-",collapsedCss:"collapsed",expandedCss:"expanded",resizeHelperCss:"resize-helper",barCss:"bar",expanderCss:"expander"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c"}}return e}();r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new i),t.wijmo.registerWidget("wijsplitter",r.prototype),t.ui!=null&&t.ui.plugin!=null&&t.ui.plugin.add("resizable","wijanimate",{stop:function(e,n){var r=t(this).data("uiResizable"),i=r.options,s=r.element,o=r._proportionallyResizeElements,u=o.length&&/textarea/i.test(o[0].nodeName),a=u&&t.ui.hasScroll(o[0],"left")?0:r.sizeDiff.height,f=u?0:r.sizeDiff.width,l,c,h;s.css("width",r.originalSize.width).css("height",r.originalSize.height),l={width:r.size.width-f,height:r.size.height-a},c=parseInt(s.css("left"),10)+(r.position.left-r.originalPosition.left)||null,h=parseInt(s.css("top"),10)+(r.position.top-r.originalPosition.top)||null,s.animate(t.extend(l,h&&c?{top:h,left:c}:{}),{duration:i.animateDuration,easing:i.animateEasing,step:function(){var n={width:parseInt(s.css("width"),10),height:parseInt(s.css("height"),10),top:parseInt(s.css("top"),10),left:parseInt(s.css("left"),10)};o&&o.length&&t(o[0]).css({width:n.width,height:n.height}),r._updateCache(n),r._propagate("resize",e),s.trigger("animating")},complete:function(){s.trigger("animated")}})}})})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijmo-wijprogressbar",r="ui-progressbar",i=r+"-label",s=n+"-lb-",o="ui-corner-",u=o+"left",a=o+"right",f=o+"top",l=o+"bottom",c=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){return t.ui.progressbar.prototype._create.apply(this,arguments)},n.prototype._destroy=function(){return t.ui.progressbar.prototype._destroy.apply(this,arguments)},n.prototype._setOptions=function(){return t.ui.progressbar.prototype._setOptions.apply(this,arguments)},n.prototype._setOption=function(e,n){return t.ui.progressbar.prototype._setOption.apply(this,arguments)},n.prototype._constrainedValue=function(e){return t.ui.progressbar.prototype._constrainedValue.apply(this,arguments)},n.prototype.value=function(e){return t.ui.progressbar.prototype.value.apply(this,arguments)},n.prototype._percentage=function(){return t.ui.progressbar.prototype._percentage.apply(this,arguments)},n.prototype._refreshValue=function(e){return t.ui.progressbar.prototype._refreshValue.apply(this,arguments)},n}(e.JQueryUIWidget);e.JQueryUIProgress=c;var h=function(){function e(){this.labelAlign="center",this.maxValue=100,this.minValue=0,this.fillDirection="east",this.labelFormatString="{1}%",this.toolTipFormatString="{1}%",this.indicatorIncrement=1,this.indicatorImage="",this.animationDelay=0,this.animationOptions={disabled:!1,easing:null,duration:500},this.progressChanging=null,this.beforeProgressChanging=null,this.progressChanged=null}return e}(),p=function(e){function r(){e.apply(this,arguments)}return __extends(r,e),r.prototype._setOption=function(e,n){var r=this,i=r.options,s;switch(e){case"value":i[e]=parseInt(n,10),r._refreshValue();return;case"maxValue":i.max=n;case"minValue":s=parseInt(n,10),i[e]=s,r[e==="maxValue"?"max":"min"]=s,r._refreshValue(!0);return;case"labelFormatString":case"toolTipFormatString":i[e]=n,r._refreshValue(!0);return;case"fillDirection":case"labelAlign":case"indicatorImage":i[e]=n,r._updateElementsCss();return;default:}t.Widget.prototype._setOption.apply(r,arguments),e==="disabled"&&r._handleDisabledOption(n,r.element)},r.prototype._create=function(){var r=this,s=r.options,o=r.element;r.directions={east:"left",west:"right",north:"bottom",south:"top"},r.min=s.minValue,r.max=s.max=s.maxValue,o.addClass(n),e.prototype._create.call(this),r.label=t("<span>").addClass(i).appendTo(o),r._updateElementsCss(),r._isInit=!0,s.disabled&&r.disable(),r._refreshValue()},r.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},r.prototype._createDisabledDiv=function(e){var n=this,r=e?e:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight(),u={"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top};return t.browser.msie&&t.extend(u,{"background-color":"#fff",opacity:.1}),t("<div></div>").addClass("ui-disabled").css(u)},r.prototype._triggerEvent=function(e,t,n,r){if(!r)return;return this._trigger(e,null,{oldValue:t,newValue:n})===!1},r.prototype._refreshValue=function(e){var n=this,r=n.options,i,s=r.animationOptions,o=r.indicatorIncrement,u=n.element,a,f,l;if(!n._isInit)return;l=u.attr("aria-valuenow"),a=n.value(),f=(a-n.min)/(n.max-n.min)*100,i=parseInt(l)!=a;if(n._triggerEvent("beforeProgressChanging",l,a,i))return;!s.disabled&&s.duration>0?setTimeout(function(){t.wijmo.wijprogressbar.animations.progress({content:n.valueDiv,complete:function(){o!==1&&(n._refreshProgress(f,a,i),r.labelAlign==="running"&&n._updateRunningLabelCss(f)),n._triggerEvent("progressChanged",l,a,i),n._lastStep=f},step:function(t){n._performAnimating(t,e,i)},progressValue:a*100},s)},r.animationDelay):(n._refreshProgress(Math.round(f)),r.labelAlign==="running"&&n._updateRunningLabelCss(f),n._lastStep=f,n._triggerEvent("progressChanged",l,a,i))},r.prototype._refreshProgress=function(e,n,r){var i=this,s=i.options,o=s.fillDirection,c=i.element;n===undefined&&(n=t.wijmo.wijprogressbar.mul(e,i.max-i.min)/100+i.min);if(i._triggerEvent("progressChanging",c.attr("aria-valuenow"),n,r))return;i._isHorizontal()?i.valueDiv.toggleClass(o==="east"?a:u,n===i.max).width(e+"%"):i.valueDiv.toggleClass(o==="south"?l:f,n===i.max).height(e+"%"),i.label.html(i._getFormatString(s.labelFormatString,e,n)),c.attr("aria-valuenow",n).attr("title",i._getFormatString(s.toolTipFormatString,e,n))},r.prototype._isHorizontal=function(){var e=this.options.fillDirection;return e==="west"||e==="east"},r.prototype._getRotateTextOffset=function(e){var t,n;return e.css("width","auto"),t=e.outerWidth(),n=e.outerHeight(),e.css("width",""),Math.max(t-n-4,0)},r.prototype._updateElementsCss=function(){var e=this,t=e.options,r=e.element,i=t.fillDirection;r.removeClass(n+"-west "+n+"-east "+n+"-north "+n+"-south").addClass(n+"-"+i),e._updateProgressCss(),e._updateLabelCss()},r.prototype._updateLabelCss=function(){var e=this,n=e.options,r=e.element,i=n.labelAlign,o=e.label,u=e._lastStep,a=r.height();o.removeClass(s+"west "+s+"east "+s+"south "+s+"north "+s+"center "+s+"running").addClass(s+i).css({left:"",right:"",top:"",bottom:"",width:"","text-align":"","line-height":""}),i!=="north"&&i!=="south"&&(i!=="running"||!!e._isHorizontal())&&o.css("line-height",a+"px"),i==="running"?e._updateRunningLabelCss(u):!e._isHorizontal()&&!t.browser.msie&&(i==="north"?o.css("width","100%").css("text-align","right"):i==="south"&&o.css("width","100%").css("text-align","left"))},r.prototype._updateRunningLabelCss=function(e){var n=this,r=n.options,i=r.fillDirection,s=n.element,o=n.label,u=n.valueDiv,a=n._isHorizontal(),f,l,c,h;f=s[a?"width":"height"](),l=o[a?"outerWidth":"outerHeight"](),c=u[a?"outerWidth":"outerHeight"](),!a&&!t.browser.msie&&(l+=n._getRotateTextOffset(o)),h=f===c?f-l:e*f/100-l+l*(f-c)/f,o.css(n.directions[i],h)},r.prototype._updateProgressCss=function(){var e=this,t=e.options,n=t.fillDirection,r=t.indicatorImage,i=e.valueDiv,s=e._lastStep;r!==""&&i.css("background","transparent url("+r+") repeat fixed"),i.removeClass(u+" "+a+" "+f+" "+l).addClass(o+e.directions[n]),typeof s=="number"?e._isHorizontal()?i.css("width",s+"%").css("height",""):i.css("height",s+"%").css("width",""):i.css({width:"",height:""})},r.prototype._performAnimating=function(e,n,r){var i=this,s=i.options,o=s.indicatorIncrement,u=e/100,a=t.wijmo.wijprogressbar.div(u-i.min,i.max-i.min)*100,f=0,l,c,h=2;if(o){o!==1?a=Math.floor(a/o)*o:(a=Math.round(a),h=0),i.pointNumber=f;if(i._lastStep===a&&!n)return}i._refreshProgress(Number(a.toFixed(h)),Number(u.toFixed(h)),r),s.labelAlign==="running"&&i._updateRunningLabelCss(a)},r.prototype._getFormatString=function(e,t,n){var r=this,i=r.max-n,s=100-t,o=/\{0\}/g;return e=e.replace(o,n.toString()),o=/\{ProgressValue\}/g,e=e.replace(o,n.toString()),o=/\{1\}/g,e=e.replace(o,t.toString()),o=/\{PercentProgress\}/g,e=e.replace(o,t.toString()),o=/\{2\}/g,e=e.replace(o,i.toString()),o=/\{RemainingProgress\}/g,e=e.replace(o,i.toString()),o=/\{3\}/g,e=e.replace(o,s.toString()),o=/\{PercentageRemaining\}/g,e=e.replace(o,s.toString()),o=/\{4\}/g,e=e.replace(o,r.min),o=/\{Min\}/g,e=e.replace(o,r.min),o=/\{5\}/g,e=e.replace(o,r.max),o=/\{Max\}/g,e=e.replace(o,r.max),e},r.prototype.destroy=function(){var e=this,r=e.element;r.attr("title","").removeClass(n+" "+n+"-east "+n+"-west "+n+"-north "+n+"-south"),e.label&&e.label.remove(),e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),t.ui.progressbar.prototype.destroy.apply(this,arguments)},r}(c);e.wijprogressbar=p,t.ui&&t.ui.progressbar&&(p.prototype.options=t.extend(!0,{},t.ui.progressbar.prototype.options,new h),t.wijmo.registerWidget("wijprogressbar",t.ui.progressbar,p.prototype),t.extend(t.wijmo.wijprogressbar,{animations:{progress:function(e,n){e=t.extend({easing:"swing",duration:1e3},e,n),e.content.stop(!0,!0).animate({pgvalue:e.progressValue},e)}},add:function(e,t){var n=0,r=0,i;try{n=e.toString().split(".")[1].length}catch(s){}try{r=t.toString().split(".")[1].length}catch(o){}return i=Math.pow(10,Math.max(n,r)),(e*i+t*i)/i},mul:function(e,t){var n=0,r=e.toString(),i=t.toString();try{n+=r.split(".")[1].length}catch(s){}try{n+=i.split(".")[1].length}catch(o){}return Number(r.replace(".",""))*Number(i.replace(".",""))/Math.pow(10,n)},div:function(e,t){var n=0,r=0,i,s;try{n=e.toString().split(".")[1].length}catch(o){}try{r=t.toString().split(".")[1].length}catch(u){}return i=Number(e.toString().replace(".","")),s=Number(t.toString().replace(".","")),i/s*Math.pow(10,r-n)}}))})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijdialog",r="ui-state-hover",i="wijmo-wijdialog-defaultdockingzone",s=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){return t.ui.dialog.prototype._create.apply(this,arguments)},n.prototype._init=function(){return t.ui.dialog.prototype._init.apply(this,arguments)},n.prototype._destroy=function(){return t.ui.dialog.prototype._destroy.apply(this,arguments)},n.prototype._appendTo=function(){return t.ui.dialog.prototype._appendTo.apply(this,arguments)},n.prototype._setOptions=function(){return t.ui.dialog.prototype._setOptions.apply(this,arguments)},n.prototype._setOption=function(e,n){return t.ui.dialog.prototype._setOption.apply(this,arguments)},n.prototype.widget=function(){return t.ui.dialog.prototype.widget.apply(this,arguments)},n.prototype.close=function(){return t.ui.dialog.prototype.close.apply(this,arguments)},n.prototype.isOpen=function(){return t.ui.dialog.prototype.isOpen.apply(this,arguments)},n.prototype.moveToTop=function(){return t.ui.dialog.prototype.moveToTop.apply(this,arguments)},n.prototype._moveToTop=function(){return t.ui.dialog.prototype._moveToTop.apply(this,arguments)},n.prototype.open=function(){return t.ui.dialog.prototype.open.apply(this,arguments)},n.prototype._focusTabbable=function(){return t.ui.dialog.prototype._focusTabbable.apply(this,arguments)},n.prototype._keepFocus=function(){return t.ui.dialog.prototype._keepFocus.apply(this,arguments)},n.prototype._createWrapper=function(){return t.ui.dialog.prototype._createWrapper.apply(this,arguments)},n.prototype._createTitlebar=function(){return t.ui.dialog.prototype._createTitlebar.apply(this,arguments)},n.prototype._title=function(){return t.ui.dialog.prototype._title.apply(this,arguments)},n.prototype._createButtonPane=function(){return t.ui.dialog.prototype._createButtonPane.apply(this,arguments)},n.prototype._createButtons=function(){return t.ui.dialog.prototype._createButtons.apply(this,arguments)},n.prototype._makeDraggable=function(){return t.ui.dialog.prototype._makeDraggable.apply(this,arguments)},n.prototype._makeResizable=function(){return t.ui.dialog.prototype._makeResizable.apply(this,arguments)},n.prototype._minHeight=function(){return t.ui.dialog.prototype._minHeight.apply(this,arguments)},n.prototype._position=function(){return t.ui.dialog.prototype._position.apply(this,arguments)},n.prototype._size=function(){return t.ui.dialog.prototype._size.apply(this,arguments)},n.prototype._blockFrames=function(){return t.ui.dialog.prototype._blockFrames.apply(this,arguments)},n.prototype._unblockFrames=function(){return t.ui.dialog.prototype._unblockFrames.apply(this,arguments)},n.prototype._createOverlay=function(){if(!this.options.modal)return;var e=this;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){if(!t(e.target).closest(".ui-dialog").length&&!t(e.target).closest(".ui-datepicker").length){e.preventDefault();var n=t(".ui-dialog:visible:last .ui-dialog-content"),r;n.data("wijmoWijdialog")?r=n.data("wijmoWijdialog"):r=n.data("wijmoC1dialog"),r&&r._focusTabbable()}})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front ui-dialog-overlay").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++},n.prototype._destroyOverlay=function(){return t.ui.dialog.prototype._destroyOverlay.apply(this,arguments)},n}(e.JQueryUIWidget);e.JQueryUIDialog=s;var o=function(){function e(){this.zIndex=1e3,this.initSelector="",this.captionButtons={},this.collapsingAnimation=null,this.expandingAnimation=null,this.contentUrl="",this.minimizeZoneElementId="",this.buttonCreating=null,this.stateChanged=null,this.blur=null}return e}(),u=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){var e=this,n=e.options;t.ui.dialog.maxZ=t.ui.dialog.maxZ||100,t.isArray(n.buttons)&&t.each(n.buttons,function(e,t){var n=t.click;n&&typeof n=="string"&&window[n]&&(t.click=window[n])}),e.form=e.element.closest("form[id]"),t.ui.dialog.prototype._create.apply(e,arguments),e.uiDialog.addClass("wijmo-wijdialog"),e._initWijWindow(),e._bindWindowResize(),e._attachDraggableResizableEvent(),e._originalPosition=n.position,e.uiDialog.css({zIndex:n.zIndex}),e.isPin=!1,e.form.length&&e.uiDialog.appendTo(e.form)},n.prototype._makeDraggable=function(){t.ui.dialog.prototype._makeDraggable.apply(this,arguments),this.uiDialog.draggable("option","cancel",".wijmo-wijdialog-captionbutton")},n.prototype._handleDisabledOption=function(e,n){var r=this;e?(r.disabledDiv||(r.disabledDiv=r._createDisabledDiv()),r.disabledDiv.appendTo("body"),t.browser.msie&&r.uiDialog.draggable("disable")):r.disabledDiv&&(r.disabledDiv.remove(),r.disabledDiv=null,t.browser.msie&&r.uiDialog.draggable("enable"))},n.prototype._createDisabledDiv=function(){var e=this,n,r=e.uiDialog,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return n=t("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top}),t.browser.msie&&(n.css("background-color","white"),t.browser.version==="9.0"&&n.css("opacity","0.1")),n},n.prototype.destroy=function(){var e=this;e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),t.ui.dialog.prototype._destroy.apply(e,arguments),e.element.unbind(".wijdialog").removeData("wijdialog")},n.prototype._attachDraggableResizableEvent=function(){var e=this,t=e.uiDialog,n=e.options;n.draggable&&t.draggable&&t.bind("dragstop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("dragstart",function(t,n){e._createIframeMask()}),n.resizable&&t.resizable&&t.bind("resizestop",function(t,n){e._saveNormalState(),e._destoryIframeMask()}).bind("resizestart",function(t,n){e._createIframeMask()})},n.prototype._createIframeMask=function(){var e=this;e.innerFrame&&(e.mask=t("<div style='width:100%;height:100%;position:absolute;top:0px;left:0px;z-index:"+(t.ui.dialog.maxZ+1)+"'></div>").appendTo(e.uiDialog))},n.prototype._destoryIframeMask=function(){var e=this;e.innerFrame&&e.mask&&(e.mask.remove(),e.mask=undefined)},n.prototype._initWijWindow=function(){var e=this,n=!0;e._createCaptionButtons(),e._checkUrl(),e.uiDialog.bind("mousedown",function(n){var r=n.target;t.contains(e.element[0],r)||e.uiDialog.focus()}).bind("mouseenter",function(e){n=!0}).bind("mouseleave",function(e){n=!1}).bind("focusout",function(t){n||e._trigger("blur",t,{el:e.element})})},n.prototype._moveToTop=function(e,n){var r=this,i=r.options,s;return i.modal&&!n||!i.stack&&!i.modal?r._trigger("focus",e):(i.zIndex>t.ui.dialog.maxZ&&(t.ui.dialog.maxZ=i.zIndex),r.overlay&&(t.ui.dialog.maxZ+=1,r.overlay.css("z-index",t.ui.dialog.maxZ)),s={scrollTop:r.element.scrollTop(),scrollLeft:r.element.scrollLeft()},t.ui.dialog.maxZ+=1,r.uiDialog.css("z-index",t.ui.dialog.maxZ),r.element.attr(s),r._trigger("focus",e),r)},n.prototype._checkUrl=function(){var e=this,n=e.options,r=n.contentUrl,i=t('<iframe style="width:100%;height:99%;" frameborder="0"></iframe>');typeof r=="string"&&r.length>0&&(e.element.addClass("wijmo-wijdialog-hasframe"),e.element.append(i),e.innerFrame=i),e.contentWrapper=e.element},n.prototype._setOption=function(e,n){var r=this;t.ui.dialog.prototype._setOption.apply(r,arguments),e==="disabled"?r._handleDisabledOption(n,r.element):e==="contentUrl"?r.innerFrame?r.innerFrame.attr("src",n):r._checkUrl():(e="captionButtons")&&r._createCaptionButtons()},n.prototype._createCaptionButtons=function(){var e=[],n=this,r=n.options,i,s={pin:{visible:!0,click:n.pin,iconClassOn:"ui-icon-pin-w",iconClassOff:"ui-icon-pin-s"},refresh:{visible:!0,click:n.refresh,iconClassOn:"ui-icon-refresh"},toggle:{visible:!0,click:n.toggle,iconClassOn:"ui-icon-carat-1-n",iconClassOff:"ui-icon-carat-1-s"},minimize:{visible:!0,click:n.minimize,iconClassOn:"ui-icon-minus"},maximize:{visible:!0,click:n.maximize,iconClassOn:"ui-icon-extlink"},close:{visible:!0,text:r.closeText,click:n.close,iconClassOn:"ui-icon-close"}},o=r.captionButtons,u=n.uiDialogTitlebar;u.children(".ui-dialog-titlebar-close, .wijmo-wijdialog-captionbutton").remove(),t.each(s,function(n,r){o&&o[n]&&t.extend(r,o[n]),e.push({button:n,info:r})}),n._trigger("buttonCreating",null,e);for(i=0;i<e.length;i++)n._createCaptionButton(e[i],u)},n.prototype._createCaptionButton=function(e,n,i){var s=this,o,u="wijmo-wijdialog-titlebar-"+e.button,a=n.children("."+u),f=e.info,l=t("<span></span>");if(f.visible){if(a.size()===0){l.addClass("ui-icon "+f.iconClassOn).text(f.text||e.button),o=t('<a href="#"></a>').append(l).addClass(u+" ui-corner-all wijmo-wijdialog-captionbutton").attr("role","button").hover(function(){o.addClass(r)},function(){o.removeClass(r)}).click(function(e){return l.hasClass(f.iconClassOff)?l.removeClass(f.iconClassOff):l.addClass(f.iconClassOff),t.isFunction(f.click)&&f.click.apply(s,arguments),!1});if(i)return o;o.appendTo(n)}s[e.button+"Button"]=o}else a.remove()},n.prototype.pin=function(){var e=this.isPin,t=this.pinButton.children("span");e?t.removeClass("ui-icon-pin-s"):t.length&&(t.hasClass("ui-icon-pin-s")||t.addClass("ui-icon-pin-s")),this._enableDisableDragger(!e),this.isPin=!e},n.prototype.refresh=function(){var e=this.innerFrame;e!==undefined&&e.attr("src",e.attr("src"))},n.prototype.toggle=function(){var e=this,t=e.toggleButton.children("span");e.minimized||(e.collapsed===undefined||!e.collapsed?(e.collapsed=!0,t.hasClass("ui-icon-carat-1-s")||t.addClass("ui-icon-carat-1-s"),e._collapseDialogContent(!0)):(e.collapsed=!1,t.hasClass("ui-icon-carat-1-s")&&t.removeClass("ui-icon-carat-1-s"),e._expandDialogContent(!0)))},n.prototype._expandDialogContent=function(e){var n=this,r=n.options,i=r.expandingAnimation;n.uiDialog.height("auto"),e&&i!==null?n.contentWrapper.show(i.animated,i.options,i.duration,function(e){n.uiDialog.css("height",n._toggleHeight),t.isFunction(i.callback)&&i.callback(e),r.resizable&&n._enableDisableResizer(!1)}):(n.contentWrapper.show(),r.resizable&&n._enableDisableResizer(!1),n.uiDialog.css("height",n.toggleHeight))},n.prototype._collapseDialogContent=function(e){var t=this,n=t.options,r=n.collapsingAnimation;n.resizable&&t._enableDisableResizer(!0),t._toggleHeight=t.uiDialog[0].style.height,t.uiDialog.height("auto"),e&&r!==null?t.contentWrapper.hide(r.animated,r.options,r.duration):t.contentWrapper.hide(),t._enableDisableDragger(t.isPin)},n.prototype._enableDisableResizer=function(e){var t=this.uiDialog;if(!this.options.resizable)return;t.resizable({disabled:e}),e&&t.removeClass("ui-state-disabled")},n.prototype._enableDisableDragger=function(e){var t=this.uiDialog;if(!this.options.draggable)return;t.draggable({disabled:e}),e&&t.removeClass("ui-state-disabled")},n.prototype.minimize=function(){var e=this,n=e.uiDialog,r=e.options,s=null,o=t("<div></div>"),u=t("<div></div>"),a,f,l,c,h={width:undefined,height:undefined},p,d={width:undefined,height:undefined},v="uiDialog",m;e.minimized||(c=e.uiDialog.position(),h.width=e.uiDialog.width(),h.height=e.uiDialog.height(),m=e.getState(),e.maximized?(e.maximized=!1,e.restoreButton.remove(),t(window).unbind(".onWinResize")):(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState()),e._enableDisableResizer(!0),e.collapsed&&e._collapseDialogContent(!1),o.appendTo(document.body).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.contentWrapper.hide(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.hide(),n.height("auto"),n.width("auto"),e._doButtonAction(e.minimizeButton,"hide"),e._restoreButton(!0,e.minimizeButton,"After"),e._doButtonAction(e.pinButton,"hide"),e._doButtonAction(e.refreshButton,"hide"),e._doButtonAction(e.toggleButton,"hide"),e._doButtonAction(e.maximizeButton,"show"),t.browser.webkit&&t(".wijmo-wijdialog-captionbutton",e.uiDialog).css("float","left"),e.innerFrame&&(v="copy",e[v]=e.uiDialog.clone(),e[v].empty(),e.uiDialogTitlebar.appendTo(e[v])),r.minimizeZoneElementId.length>0&&(s=t("#"+r.minimizeZoneElementId)),s!==null&&s.size()>0?s.append(e[v]):(a=t("."+i),a.size()===0&&(a=t('<div class="'+i+'"></div>'),t(document.body).append(a)),a.append(e[v]).css("z-index",n.css("z-index"))),e[v].css("position","static"),e[v].css("float","left"),t.browser.msie&&t.browser.version==="6.0"&&(f=t(document).scrollTop(),l=document.documentElement.clientHeight-a.height()+f,a.css({position:"absolute",left:"0px",top:l})),u.appendTo(document.body).css({top:e[v].offset().top,left:e[v].offset().left,height:e[v].innerHeight(),width:e[v].innerWidth(),position:"absolute"}),e.uiDialog.hide(),e.innerFrame&&e[v].hide(),o.effect("transfer",{to:u,className:"ui-widget-content"},100,function(){o.remove(),u.remove(),e[v].show(),e.minimized=!0,p=e.uiDialog.position(),d.width=e.uiDialog.width(),d.height=e.uiDialog.height(),e._enableDisableDragger(!0),e._trigger("resize",null,{originalPosition:c,originalSize:h,position:p,size:d}),e._trigger("stateChanged",null,{originalState:m,state:"minimized"})}))},n.prototype._doButtonAction=function(e,t){e!==undefined&&(e.removeClass(r),e[t]())},n.prototype.maximize=function(){var e=this,n=t(window),r,i={width:undefined,height:undefined},s,o={width:undefined,height:undefined},u;e.maximized||(e._enableDisableDragger(!1),r=e.uiDialog.position(),i.width=e.uiDialog.width(),i.height=e.uiDialog.height(),e.minimized?e.restore():(e.collapsed&&e._expandDialogContent(!1),e._saveNormalState(),u="normal"),e.maximized=!0,e.maximizeButton!==undefined&&(e.maximizeButton.hide(),e._restoreButton(!0,e.maximizeButton,"Before")),t.browser.webkit&&t(".wijmo-wijdialog-captionbutton").css("float",""),e._onWinResize(e,n),e.collapsed&&e._collapseDialogContent(!1),e.collapsed||e._enableDisableDragger(!0),e._enableDisableResizer(!0),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),u==="normal"&&e._trigger("stateChanged",null,{originalState:"normal",state:"maximized"}))},n.prototype._bindWindowResize=function(){var e=this,n=t(window),r,i,s;n.resize(function(){e.maximized&&e._onWinResize(e,n)}),t.browser.msie&&t.browser.version==="6.0"&&n.bind("scroll.wijdialog resize.wijdialog",function(){e.minimized&&(i=t(document).scrollTop(),s=e.uiDialog.parent(),r=document.documentElement.clientHeight-s.height()+i,s.css({top:r}))})},n.prototype._saveNormalState=function(){var e=this,t=e.uiDialog,n=e.element;e.maximized||(e.normalWidth=t.css("width"),e.normalLeft=t.css("left"),e.normalTop=t.css("top"),e.normalHeight=t.css("height"),e.normalInnerHeight=n.css("height"),e.normalInnerWidth=n.css("width"),e.normalInnerMinWidth=n.css("min-width"),e.normalInnerMinHeight=n.css("min-height"))},n.prototype._onWinResize=function(e,t){e.uiDialog.css("top",t.scrollTop()),e.uiDialog.css("left",t.scrollLeft()),e.uiDialog.setOutWidth(t.width()),e.uiDialog.setOutHeight(t.height()),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height(),e._size(),e.collapsed&&(e.uiDialog.height("auto"),e.contentWrapper.hide())},n.prototype._restoreButton=function(e,t,n){var r=this,i={button:"restore",info:{visible:e,click:r.restore,iconClassOn:"ui-icon-newwin"}},s=r._createCaptionButton(i,r.uiDialogTitlebar,!0);e&&(s["insert"+n](t),r.restoreButton=s)},n.prototype._appendToBody=function(e){this.innerFrame?(this.uiDialogTitlebar.prependTo(e),e.show()):e.appendTo(document.body)},n.prototype.restore=function(){var e=this,n=e.uiDialog,r,i={width:undefined,height:undefined},s,o={width:undefined,height:undefined},u=t("<div></div>"),a=t("<div></div>"),f="uiDialog",l;e.minimized?(e.minimized=!1,e.innerFrame&&(f="copy",e[f]||(f="uiDialog")),r=e[f].position(),i.width=e[f].width(),i.height=e[f].height(),u.appendTo(document.body).css({top:e[f].offset().top,left:e[f].offset().left,height:e[f].innerHeight(),width:e[f].innerWidth(),position:"absolute"}),n.css("position","absolute"),n.css("float",""),e._appendToBody(n),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.uiDialogButtonPane.length&&e.uiDialogButtonPane.show(),a.appendTo(document.body).css({top:e.uiDialog.offset().top,left:e.uiDialog.offset().left,height:e.uiDialog.innerHeight(),width:e.uiDialog.innerWidth(),position:"absolute"}),e.uiDialog.hide(),u.effect("transfer",{to:a,className:"ui-widget-content"},150,function(){e.uiDialog.show(),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),u.remove(),a.remove(),e.copy&&e.copy.remove(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=e.getState(),e._trigger("stateChanged",null,{originalState:"minimized",state:l})}),e.collapsed&&e._collapseDialogContent(),e._doButtonAction(e.minimizeButton,"show"),e._doButtonAction(e.restoreButton,"remove"),e._doButtonAction(e.pinButton,"show"),e._doButtonAction(e.refreshButton,"show"),e._doButtonAction(e.toggleButton,"show"),t.browser.webkit&&t(".wijmo-wijdialog-captionbutton").css("float","")):e.maximized&&(e.maximized=!1,r=e.uiDialog.position(),i.width=e.uiDialog.width(),i.height=e.uiDialog.height(),t(window).unbind(".onWinResize"),e.collapsed&&e._expandDialogContent(),e._enableDisableResizer(!1),e.isPin||e._enableDisableDragger(!1),e._restoreToNormal(),e.contentWrapper.show(),e.collapsed&&e._collapseDialogContent(),e.maximizeButton!==undefined&&(e.maximizeButton.show(),e._restoreButton(!1,e.maximizeButton,"before")),s=e.uiDialog.position(),o.width=e.uiDialog.width(),o.height=e.uiDialog.height(),e._trigger("resize",null,{originalPosition:r,originalSize:i,position:s,size:o}),l=e.getState(),e._trigger("stateChanged",null,{originalState:"maximized",state:l}))},n.prototype.getState=function(){var e=this;return e.minimized?"minimized":e.maximized?"maximized":"normal"},n.prototype.reset=function(){var e=this;e.normalWidth=e.normalLeft=e.normalTop=e.normalHeight=e.normalInnerHeight=e.normalInnerWidth=e.normalInnerMinWidth=e.normalInnerMinHeight=undefined,e._setOption("position",e._originalPosition)},n.prototype.open=function(){var e=this,n=e.options;(n.hide==="drop"||n.hide==="bounce")&&t.browser.msie&&e.uiDialog.css("filter","auto"),e.innerFrame?(e.innerFrame.attr("src",n.contentUrl),e.minimized?(e.uiDialogTitlebar.show(),e._isOpen=!0):t.ui.dialog.prototype.open.apply(e,arguments)):(e.minimized?(e.uiDialog.show(),e._isOpen=!0):t.ui.dialog.prototype.open.apply(e,arguments),e.uiDialog.wijTriggerVisibility()),e.collapsed&&e._collapseDialogContent(),n.disabled&&(e.disabledDiv?e.disabledDiv.show():e.disable())},n.prototype.close=function(){var e=this,n=e.options;t.ui.dialog.prototype.close.apply(e,arguments)&&(e.innerFrame&&(e.innerFrame.attr("src",""),e.minimized&&e.uiDialogTitlebar.hide()),e.disabledDiv&&n.disabled&&e.disabledDiv.hide())},n.prototype._restoreToNormal=function(){var e=this,t=e.uiDialog,n=e.element;t.css("width",e.normalWidth),t.css("left",e.normalLeft),t.css("top",e.normalTop),t.css("height",e.normalHeight),n.css("height",e.normalInnerHeight),n.css("width",e.normalInnerWidth),n.css("min-width",e.normalInnerMinWidth),n.css("min-height",e.normalInnerMinHeight),e.options.width=e.uiDialog.width(),e.options.height=e.uiDialog.height()},n}(s);e.wijdialog=u,t.ui&&t.ui.dialog&&(t.extend(t.ui.dialog.overlay,{create:function(e){this.instances.length===0&&(setTimeout(function(){t.ui.dialog.overlay.instances.length&&t(document).bind(t.ui.dialog.overlay.events,function(n){if(t(n.target).zIndex()<t.ui.dialog.overlay.maxZ&&!t.contains(e.element[0],n.target))return!1})},1),t(document).bind("keydown.dialog-overlay",function(n){e.options.closeOnEscape&&!n.isDefaultPrevented()&&n.keyCode&&n.keyCode===t.ui.keyCode.ESCAPE&&(e.close(n),n.preventDefault())}),t(window).bind("resize.dialog-overlay",t.ui.dialog.overlay.resize));var n=(this.oldInstances.pop()||t("<div></div>").addClass("ui-widget-overlay")).appendTo(document.body).css({width:this.width(),height:this.height()});return t.fn.bgiframe&&n.bgiframe(),this.instances.push(n),n},height:function(){var e,n;return t.browser.msie?(e=Math.max(document.documentElement.scrollHeight,document.body.scrollHeight),n=Math.max(document.documentElement.offsetHeight,document.body.offsetHeight),e<n?t(window).height()+"px":e+"px"):t(document).height()+"px"},width:function(){var e,n;return t.browser.msie?(e=Math.max(document.documentElement.scrollWidth,document.body.scrollWidth),n=Math.max(document.documentElement.offsetWidth,document.body.offsetWidth),e<n?t(window).width()+"px":e+"px"):t(document).width()+"px"}}),u.prototype.options=t.extend(!0,{},t.ui.dialog.prototype.options,new o),u.prototype.disable=function(){return this._setOption("disabled",!0)},u.prototype.enable=function(){return this._setOption("disabled",!1)},t.wijmo.registerWidget(n,t.ui.dialog,u.prototype))})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijaccordion",r=function(e){function n(){e.apply(this,arguments),this.widgetEventPrefix="wijaccordion"}return __extends(n,e),n.prototype._setOption=function(e,n){var r=this.options;if(r[e]!==n)switch(e){case"selectedIndex":this.activate(n);break;case"disabled":n?this.element.addClass(r.wijCSS.stateDisabled):this.element.removeClass(r.wijCSS.stateDisabled);break;case"event":this._unbindLiveEvents(),this.options.event=n,this._bindLiveEvents();break;case"header":this._handleHeaderChange(n,r.header);break;case"animated":break;case"expandDirection":this._onDirectionChange(n,!0,r.expandDirection);break;default:}t.wijmo.widget.prototype._setOption.apply(this,arguments)},n.prototype._handleHeaderChange=function(e,t){var n=this.element.find(t);n.removeClass("wijmo-wijaccordion-header "+this.options.wijCSS.stateActive+" "+this._triangleIconOpened).siblings(".wijmo-wijaccordion-content").removeClass("wijmo-wijaccordion-content "+this.options.wijCSS.content+" wijmo-wijaccordion-content-active"),this._initHeaders(e)},n.prototype._initHeaders=function(e){typeof e=="undefined"&&(e=null);var t=this.options,e=e?e:t.header,n=this.element.find(e);n.each(jQuery.proxy(this._initHeader,this))},n.prototype._initHeader=function(e,n){var r=this.options,i=this.element.data("rightToLeft"),s=t(n),o=t(s.next()[0]);i&&(s.remove(),s.insertAfter(o)),s.addClass("wijmo-wijaccordion-header").attr("role","tab"),o.attr("role","tabpanel"),s.find("> a").length===0&&s.wrapInner('<a href="#"></a>'),s.find("> .ui-icon").length===0&&t('<span class="ui-icon"></span>').insertBefore(t("> a",s)[0]),e===r.selectedIndex?(s.addClass(this.options.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").addClass(this._triangleIconOpened),o.addClass("wijmo-wijaccordion-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()):(s.addClass(r.wijCSS.stateDefault+" ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").addClass(this._triangleIconClosed),o.hide()),o.addClass("wijmo-wijaccordion-content "+this.options.wijCSS.content);for(;;){if(s.parent().hasClass("wijmo-wijaccordion"))break;s.unwrap()}},n.prototype._create=function(){var e=this.options;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),this.element.addClass("wijmo-wijaccordion "+e.wijCSS.widget+" wijmo-wijaccordion-icons "+"ui-helper-clearfix"),e.disabled&&this.element.addClass(e.wijCSS.stateDisabled),this._onDirectionChange(e.expandDirection,!1),this._initHeaders(),this.element.attr("role","tablist"),t.wijmo.widget.prototype._create.apply(this,arguments)},n.prototype._init=function(){this._bindLiveEvents()},n.prototype.destroy=function(){var e=this.options;this._unbindLiveEvents(),this.element.removeClass("wijmo-wijaccordion "+e.wijCSS.widget+" wijmo-wijaccordion-icons").removeAttr("role"),t.wijmo.widget.prototype.destroy.apply(this,arguments)},n.prototype._getHeaders=function(){var e=this.options,n=this.element.data("rightToLeft"),r=[],i,s,o=this.element.find(e.header);if(!(o.length>0&&!t(o[0]).hasClass("wijmo-wijaccordion-header")&&t(o[0]).hasClass("wijmo-wijaccordion-content")))return o;for(i=0;i<o.length;i+=1)s=n?t(o[i]).next(".wijmo-wijaccordion-header"):t(o[i]).prev(".wijmo-wijaccordion-header"),s.length>0&&r.push(s[0]);return t(r)},n.prototype.activate=function(e){var n,r=this.options,i=this._getHeaders(),s,o=this.element.data("rightToLeft"),u,a,f,l,c,h,p,d,v,m;s=t(jQuery.grep(i,function(e){return t(e).hasClass(r.wijCSS.stateActive)})),typeof e=="number"?n=t(i[e]):typeof e=="string"?(e=parseInt(e,0),n=t(i[e])):(n=t(e),e=i.index(e));if(n.hasClass(r.wijCSS.stateDisabled))return!1;if(n.hasClass(r.wijCSS.stateActive))if(r.requireOpenedPane){if(s.length===n.length&&s.index()===n.index())return!1}else s=n,n=t(null);else r.requireOpenedPane||(s=t(null));u=i.index(n),a=i.index(s),f=o?n.prev(".wijmo-wijaccordion-content"):n.next(".wijmo-wijaccordion-content"),l=o?s.prev(".wijmo-wijaccordion-content"):s.next(".wijmo-wijaccordion-content");if(s.length===0&&n.length===0)return!1;if(!this._trigger("beforeSelectedIndexChanged",null,{newIndex:u,prevIndex:a}))return!1;s.removeClass(r.wijCSS.stateActive).removeClass(this._headerCornerOpened).addClass(r.wijCSS.stateDefault+" ui-corner-all").attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),n.removeClass(r.wijCSS.stateDefault+" ui-corner-all").addClass(r.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),r.animated?(c={toShow:f,toHide:l,complete:jQuery.proxy(function(){l.removeClass("wijmo-wijaccordion-content-active"),f.addClass("wijmo-wijaccordion-content-active").wijTriggerVisibility(),l.css("display",""),f.css("display",""),t.fn.wijlinechart&&(l.find(".wijmo-wijlinechart").wijlinechart("redraw"),f.find(".wijmo-wijlinechart").wijlinechart("redraw")),this._trigger("selectedIndexChanged",null,{newIndex:u,prevIndex:a})},this),horizontal:this.element.hasClass("ui-helper-horizontal"),rightToLeft:this.element.data("rightToLeft"),down:u>a,autoHeight:r.autoHeight||r.fillSpace},h=r.animated,p=r.duration,t.isFunction(h)&&(r.animated=h(c)),t.isFunction(p)&&(r.duration=p(c)),d=t.wijmo.wijaccordion.animations,v=r.duration,m=r.animated,m&&!d[m]&&!t.easing[m]&&(m="slide"),d[m]||(d[m]=function(e){this.slide(e,{easing:m,duration:v||700})}),d[m](c)):(s.length>0&&l.hide().removeClass("wijmo-wijaccordion-content-active"),n.length>0&&f.show().addClass("wijmo-wijaccordion-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility(),t.fn.wijlinechart&&(l.find(".wijmo-wijlinechart").wijlinechart("redraw"),f.find(".wijmo-wijlinechart").wijlinechart("redraw")),this._trigger("selectedIndexChanged",null,{newIndex:u,prevIndex:a})),this.options.selectedIndex=u},n.prototype._bindLiveEvents=function(){var e=this;this.element.on(this.options.event+".wijaccordion",".wijmo-wijaccordion-header",jQuery.proxy(this._onHeaderClick,this)).on("keydown.wijaccordion",".wijmo-wijaccordion-header",jQuery.proxy(this._onHeaderKeyDown,this)).on("mouseenter.wijaccordion",".wijmo-wijaccordion-header",function(){t(this).addClass("ui-state-hover")}).on("mouseleave.wijaccordion",".wijmo-wijaccordion-header",function(){t(this).removeClass("ui-state-hover")}).on("focus.wijaccordion",".wijmo-wijaccordion-header",function(){t(this).addClass(e.options.wijCSS.stateFocus)}).on("blur.wijaccordion",".wijmo-wijaccordion-header",function(){t(this).removeClass(e.options.wijCSS.stateFocus)})},n.prototype._unbindLiveEvents=function(){this.element.off(".wijaccordion",".wijmo-wijaccordion-header")},n.prototype._onHeaderClick=function(e){return this.options.disabled||this.activate(e.currentTarget),!1},n.prototype._onHeaderKeyDown=function(e){if(this.options.disabled||e.altKey||e.ctrlKey)return;if(!t.ui)return;var n=t.ui.keyCode,r=this.element.find(".wijmo-wijaccordion-header."+this.options.wijCSS.stateFocus),i,s=this._getHeaders();if(r.length>0){i=t(".wijmo-wijaccordion-header",this.element).index(r);switch(e.keyCode){case n.RIGHT:case n.DOWN:if(s[i+1])return s[i+1].focus(),!1;break;case n.LEFT:case n.UP:if(s[i-1])return s[i-1].focus(),!1;break;case n.SPACE:case n.ENTER:this.activate(e.currentTarget),e.preventDefault()}}return!0},n.prototype._onDirectionChange=function(e,n,r){typeof r=="undefined"&&(r=null);var i,s,o,u,a,f,l=this.options;n&&(s=this.element.find(".wijmo-wijaccordion-header."+this._headerCornerOpened),s.removeClass(this._headerCornerOpened),o=this.element.find(".wijmo-wijaccordion-content."+this._contentCornerOpened),o.removeClass(this._contentCornerOpened),u=this.element.find("."+this._triangleIconOpened),a=this.element.find("."+this._triangleIconClosed),u.removeClass(this._triangleIconOpened),a.removeClass(this._triangleIconClosed)),r!==null&&this.element.removeClass("wijmo-wijaccordion-"+r);switch(e){case"top":this._headerCornerOpened="ui-corner-bottom",this._contentCornerOpened="ui-corner-top",this._triangleIconOpened=l.wijCSS.iconArrowUp,this._triangleIconClosed=l.wijCSS.iconArrowRight,i=!0,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-top");break;case"right":this._headerCornerOpened="ui-corner-left",this._contentCornerOpened="ui-corner-right",this._triangleIconOpened=l.wijCSS.iconArrowRight,this._triangleIconClosed=l.wijCSS.iconArrowDown,i=!1,this.element.addClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-right");break;case"left":this._headerCornerOpened="ui-corner-right",this._contentCornerOpened="ui-corner-left",this._triangleIconOpened=l.wijCSS.iconArrowLeft,this._triangleIconClosed=l.wijCSS.iconArrowDown,i=!0,this.element.addClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-left");break;default:this._headerCornerOpened="ui-corner-top",this._contentCornerOpened="ui-corner-bottom",this._triangleIconOpened=l.wijCSS.iconArrowDown,this._triangleIconClosed=l.wijCSS.iconArrowRight,i=!1,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("wijmo-wijaccordion-bottom")}f=this.element.data("rightToLeft"),this.element.data("rightToLeft",i),n&&(u.addClass(this._triangleIconOpened),a.addClass(this._triangleIconClosed),s.addClass(this._headerCornerOpened),o.addClass(this._contentCornerOpened)),n&&i!==f&&this.element.children(".wijmo-wijaccordion-header").each(function(e,n){var r=t(this),s;i?(s=r.next(".wijmo-wijaccordion-content"),r.remove(),r.insertAfter(s)):(s=r.prev(".wijmo-wijaccordion-content"),r.remove(),r.insertBefore(s))})},n}(e.wijmoWidget);e.wijaccordion=r;var i=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-c"},this.initSelector=":jqmData(role='wijaccordion')",this.animated="slide",this.duration=null,this.event="click",this.disabled=!1,this.expandDirection="bottom",this.header="> li > :first-child,> :not(li):even",this.requireOpenedPane=!0,this.selectedIndex=0}return e}();r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new i),t.wijmo.registerWidget(n,r.prototype),t.extend(t.wijmo.wijaccordion,{animations:{slide:function(e,n){e=t.extend({easing:"swing",duration:300},e,n);var r,i;e.horizontal?(r={width:"show"},i={width:"hide"}):(r={height:"show"},i={height:"hide"});if(!e.toHide.size()){e.toShow.stop(!0,!0).animate(r,e);return}if(!e.toShow.size()){e.toHide.stop(!0,!0).animate(i,e);return}var s=e.toShow.css("overflow"),o=0,u={},a={},f,l=e.horizontal?["width","paddingLeft","paddingRight"]:["height","paddingTop","paddingBottom"],c,h=e.toShow;e.horizontal?(c=h[0].style.height,h.height(parseInt(h.parent().height(),10)-parseInt(h.css("paddingTop"),10)-parseInt(h.css("paddingBottom"),10)-(parseInt(h.css("borderTopWidth"),10)||0)-(parseInt(h.css("borderBottomWidth"),10)||0))):(c=h[0].style.width,h.width(parseInt(h.parent().width(),10)-parseInt(h.css("paddingLeft"),10)-parseInt(h.css("paddingRight"),10)-(parseInt(h.css("borderLeftWidth"),10)||0)-(parseInt(h.css("borderRightWidth"),10)||0))),t.each(l,function(n,r){a[r]="hide";var i=(""+t.css(e.toShow[0],r)).match(/^([\d+-.]+)(.*)$/);u[r]={value:i?i[1]:"0",unit:i?i[2]||"px":"px"}}),e.horizontal?f={width:0,overflow:"hidden"}:f={height:0,overflow:"hidden"},e.toShow.css(f).stop(!0,!0).show(),e.toHide.filter(":hidden").each(e.complete).end().filter(":visible").stop(!0,!0).animate(a,{step:function(t,n){var r;if(n.prop===e.horizontal?"width":"height")o=n.end-n.start===0?0:(n.now-n.start)/(n.end-n.start);r=o*u[n.prop].value,r<0&&(r=0),e.toShow[0].style[n.prop]=r+u[n.prop].unit},duration:e.duration,easing:e.easing,complete:function(){e.autoHeight||e.toShow.css(e.horizontal?"width":"height",""),e.toShow.css(e.horizontal?"height":"width",c),e.toShow.css({overflow:s}),e.complete()}})},bounceslide:function(e){this.slide(e,{easing:e.down?"easeOutBounce":"swing",duration:e.down?1e3:200})}}})})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n};$.fn.extend({getBounds:function(){return $.extend({},$(this).offset(),{width:$(this).outerWidth(!0),height:$(this).outerHeight(!0)})},setBounds:function(e){return $(this).css({left:e.left,top:e.top}).width(e.width).height(e.height),this},getMaxZIndex:function(){var e=($(this).css("z-index")=="auto"?0:$(this).css("z-index"))*1;return $(this).siblings().each(function(t,n){e=Math.max(e,($(n).css("z-index")=="auto"?0:$(n).css("z-index"))*1)}),e}});var wijmo;(function(e){var t=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype._init=function(){if(!!this.options.ensureOutermost){var e=$("form");e.length===0&&(e=$(document.body)),this.element.appendTo(e)}this.element.data("visible.wijpopup",!1),this.element.css("position","absolute"),this.element.position({of:$(document.body)}),this.element.hide()},t.prototype._setOption=function(t,n){e.prototype._setOption.call(this,t,n);if(t==="autoHide"){var r=this.isVisible();this.hide(),r&&this.show()}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.isVisible()&&this.hide();if($.browser.msie&&parseInt($.browser.version)<7){var t=this.element.data("backframe.wijpopup");t||t.remove()}var n=this;this.element.unbind(".wijpopup"),$.each(["visible","backframe","animating","width"],function(e,t){n.element.removeData(t+".wijpopup")})},t.prototype.isVisible=function(){return!!this.element.data("visible.wijpopup")&&this.element.is(":visible")},t.prototype.isAnimating=function(){return!!this.element.data("animating.wijpopup")},t.prototype.show=function(e){var t=this;this._setPosition(e);if(this.isVisible())return;if(this._trigger("showing")===!1)return;this.options.autoHide&&window.setTimeout(function(){$(document).bind("mouseup.wijpopup",$.proxy(t._onDocMouseUp,t))},0);var n=this.options.showEffect||"show",r=this.options.showDuration||300,i=this.options.showOptions||{};this.element.data("animating.wijpopup",!0),$.effects&&$.effects.effect[n]?this.element.show(n,i,r,$.proxy(this._showCompleted,this)):this.element[n](n==="show"?null:r,$.proxy(this._showCompleted,this)),(!n||!r||n==="show"||r<=0)&&this._showCompleted()},t.prototype._showCompleted=function(){this.element.removeData("animating.wijpopup"),this.element.data("visible.wijpopup",!0),this._trigger("shown")},t.prototype.showAt=function(e,t){this.show({my:"left+"+e+" top+"+t,at:"left top",of:document.body})},t.prototype.hide=function(){if(!this.isVisible())return;if(this._trigger("hiding")===!1)return;$(document).unbind("mouseup.wijpopup");var e=this.options.hideEffect||"hide",t=this.options.hideDuration||300,n=this.options.hideOptions||{};this.element.data("animating.wijpopup",!0),$.effects&&$.effects.effect[e]?this.element.hide(e,n,t,$.proxy(this._hideCompleted,this)):this.element[e](e==="hide"?null:t,$.proxy(this._hideCompleted,this)),(!e||!t||e==="hide"||t<=0)&&this._hideCompleted()},t.prototype._hideCompleted=function(){this.element.data("width.wijpopup")!==undefined&&(this.element.width(this.element.data("width.wijpopup")),this.element.removeData("width.wijpopup")),this.element.unbind("move.wijpopup"),this.element.removeData("animating.wijpopup");if($.browser.msie&&parseInt($.browser.version)<7){var e=this.element.data("backframe.wijpopup");e&&e.hide()}this._trigger("hidden")},t.prototype._onDocMouseUp=function(e){var t=e.target?e.target:e.srcElement;this.isVisible()&&!!this.options.autoHide&&t!=this.element.get(0)&&$(t).parents().index(this.element)<0&&this.hide()},t.prototype._onMove=function(e){var t=this.element.data("backframe.wijpopup");t&&(this.element.before(t),t.css({top:this.element.css("top"),left:this.element.css("left")}))},t.prototype._addBackgroundIFrame=function(){if($.browser.msie&&parseInt($.browser.version)<7){var e=this.element.data("backframe.wijpopup");e||(e=jQuery("<iframe/>").css({position:"absolute",display:"none",filter:"progid:DXImageTransform.Microsoft.Alpha(style=0,opacity=0)"}).attr({src:"javascript:'<html></html>';",scrolling:"no",frameborder:"0","tabIndex ":-1}),this.element.before(e),this.element.data("backframe.wijpopup",e),this.element.bind("move.wijpopup",$.proxy(this._onMove,this))),e.setBounds(this.element.getBounds()),e.css({display:"block",left:this.element.css("left"),top:this.element.css("top"),"z-index":this.element.css("z-index")-1})}},t.prototype._setZIndex=function(e){this.element.css("z-index",e);var t=this.element.data("backframe.wijpopup");t&&t.css("z-index",this.element.css("z-index")-1)},t.prototype._setPosition=function(e){var t=this.element.is(":visible");this.element.show(),this.element.position($.extend({},this.options.position,e?e:{})),t||this.element.hide(),this._addBackgroundIFrame();var n=1e3;this.options.position.of&&(n=Math.max(n,$(this.options.position.of).getMaxZIndex())),this._setZIndex(n+10),this._trigger("posChanged")},t}(e.JQueryUIWidget);e.wijpopup=t;var n=function(){function e(){this.ensureOutermost=!1,this.showEffect="show",this.showOptions={},this.showDuration=300,this.hideEffect="hide",this.hideOptions={},this.hideDuration=100,this.autoHide=!1,this.position={at:"left bottom",my:"left top"},this.showing=null,this.shown=null,this.hiding=null,this.hidden=null,this.posChanged=null}return e}();t.prototype.options=$.extend(!0,{},e.wijmoWidget.prototype.options,new n),$.wijmo.registerWidget("wijpopup",t.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.initSelector=":jqmData(role='wijsuperpanel')",this.allowResize=!1,this.autoRefresh=!1,this.animationOptions={queue:!1,disabled:!1,duration:250,easing:undefined},this.hScrollerActivating=null,this.hScroller={scrollBarPosition:"bottom",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.keyboardSupport=!1,this.keyDownInterval=100,this.mouseWheelSupport=!0,this.bubbleScrollingEvent=!0,this.resizableOptions={handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},this.resized=null,this.dragStop=null,this.painted=null,this.scrolling=null,this.scroll=null,this.scrolled=null,this.showRounder=!0,this.vScrollerActivating=null,this.vScroller={scrollBarPosition:"right",scrollBarVisibility:"auto",scrollMode:"scrollBar",scrollValue:null,scrollMax:100,scrollMin:0,scrollLargeChange:null,scrollSmallChange:null,scrollMinDragLength:6,increaseButtonPosition:null,decreaseButtonPosition:null,hoverEdgeSpan:20,firstStepChangeFix:0},this.customScrolling=!1,this.listenContentScroll=!1}return e}(),r=function(e){function t(){e.apply(this,arguments)}return __extends(t,e),t.prototype.destroy=function(){},t.prototype.needToScroll=function(e){},t.prototype.scrollChildIntoView=function(e){},t.prototype.hScrollTo=function(e){},t.prototype.vScrollTo=function(e){},t.prototype.scrollPxToValue=function(e,t){},t.prototype.scrollTo=function(e,t){},t.prototype.refresh=function(){},t.prototype.paintPanel=function(e){},t.prototype.getContentElement=function(){},t}(e.wijmoWidget);e.wijsuperpanel=r;var i;if(!t.support.isTouchEnabled||!t.support.isTouchEnabled()){var s="wijmo-wijsuperpanel-handle",o="wijmo-wijsuperpanel-hbarcontainer",u="wijmo-wijsuperpanel-vbarcontainer",a="",f="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper'><div class='wijmo-wijsuperpanel-templateouterwrapper'></div></div></div>",l="<div class='wijmo-wijsuperpanel-hbarcontainer {header}'><div class='wijmo-wijsuperpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconVGripSolid}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonleft {stateDefault} {cornerBL}'><span class='{icon} {iconArrowLeft}'></span></div><div class='wijmo-wijsuperpanel-hbar-buttonright {stateDefault} {cornerBR}'><span class='{icon} {iconArrowRight}'></span></div></div>",c="<div class='wijmo-wijsuperpanel-vbarcontainer {header}'><div class='wijmo-wijsuperpanel-handle {stateDefault} {cornerAll}'><span class='{icon} {iconHGripSolid}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttontop {stateDefault} {cornerTR}'><span class='{icon} {iconArrowUp}'></span></div><div class='wijmo-wijsuperpanel-vbar-buttonbottom {stateDefault} {cornerBR}'><span class='{icon} {iconArrowDown}'></span></div></div>",h="<div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonleft'><span class='{icon} {iconCaratLeft}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonright'><span class='{icon} {iconCaratRight}'></span></div>",p="<div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttontop'><span class='{icon} {iconCaratUp}'></span></div><div class='{stateDefault} wijmo-wijsuperpanel-button wijmo-wijsuperpanel-buttonbottom'><span class='{icon} {iconCaratDown}'> </span></div>";r.prototype=t.extend(!0,{},t.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,n){var r=this,i=r.options,s=r._fields(),o=s.hbarDrag,u=s.vbarDrag,a=s.resizer;e==="animationOptions"?n=t.extend(i.animationOptions,n):e==="hScroller"?(n.scrollLargeChange!==undefined&&n.scrollLargeChange!==null&&(r._autoHLarge=!1),n=t.extend(i.hScroller,n),r.refresh()):e==="vScroller"?(n.scrollLargeChange!==undefined&&n.scrollLargeChange!==null&&(r._autoVLarge=!1),n=t.extend(i.vScroller,n),r.refresh()):e==="resizableOptions"&&(n=t.extend(r.resizableOptions,n)),t.Widget.prototype._setOption.apply(r,arguments),t.isPlainObject(n)&&(r.options[e]=n);switch(e){case"allowResize":r._initResizer();break;case"disabled":n?(o!==undefined&&o.draggable("disable"),u!==undefined&&u.draggable("disable"),a!==undefined&&a.resizable("disable")):(o!==undefined&&o.draggable("enable"),u!==undefined&&u.draggable("enable"),a!==undefined&&a.resizable("enable"));break;case"mouseWheelSupport":case"keyboardSupport":r._bindElementEvents(r,s,r.element,i)}return r},_create:function(){var e=this,n=e.options;n.vScroller.dir="v",n.hScroller.dir="h",e._initMarkup(),window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),e.paintPanel(),e._initResizer(),e.options.disabled&&e.disable(),e._detectAutoRefresh(),n.listenContentScroll&&e._listenContentScroll(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver(),e.refresh()},"wijsuperpanel")},_initMarkup:function(){var e=this.options.wijCSS,t=/\{(\w+?)\}/ig,n=function(t,n){return e[n]};a=e.stateActive,l=l.replace(t,n),c=c.replace(t,n),h=h.replace(t,n),p=p.replace(t,n)},_detectAutoRefresh:function(){var e=this,n=t.wijmo.wijsuperpanel.panels;n===undefined&&(n=[],t.wijmo.wijsuperpanel.panels=n),n.push(e),e.options.autoRefresh&&(t.wijmo.wijsuperpanel.setAutoRefreshInterval||(t.wijmo.wijsuperpanel.setAutoRefreshInterval=e._setAutoRefreshInterval,t.wijmo.wijsuperpanel.setAutoRefreshInterval()))},_setAutoRefreshInterval:function(){var e=t.wijmo.wijsuperpanel.autoRereshInterval,n=t.wijmo.wijsuperpanel.panels,r=window.setInterval(function(){window.clearInterval(r);var e=n.length,i=!1,s,o,u,a,f,l;for(s=0;s<e;s++)o=n[s],u=o.element[0],a=o.options.autoRefresh,a&&(i=!0),f=o.getContentElement(),l=o._paintedMark,o.options.autoRefresh&&f.is(":visible")&&(l===undefined||l.width!==f[0].offsetWidth||l.height!==f[0].offsetHeight||l.mainWidth!==u.offsetWidth||l.mainHeight!==u.offsetHeight)&&o.paintPanel();i&&window.setTimeout(t.wijmo.wijsuperpanel.setAutoRefreshInterval,0)},e===undefined?500:e)},destroy:function(){var e=this,n=e._fields(),r=e.element,i,s,o=e.options.wijCSS;t.wijmo.wijsuperpanel.panels=t.grep(t.wijmo.wijsuperpanel.panels,function(t){return t!==e},!1);if(!n.initialized)return;e._radiusKey&&e.element.css(e._radiusKey,""),n.intervalID!==undefined&&(window.clearInterval(n.intervalID),n.intervalID=undefined),n.resizer!==undefined&&n.resizer.resizable("destroy"),n.hbarContainer!==undefined&&(n.hbarDrag.remove(),n.hbarContainer.unbind("."+e.widgetName)),n.vbarContainer!==undefined&&(n.vbarDrag.remove(),n.vbarContainer.unbind("."+e.widgetName)),r.unbind("."+e.widgetName),n.contentWrapper.unbind("."+e.widgetName),i=n.stateContainer.find(">.wijmo-wijsuperpanel-button"),i.unbind("."+e.widgetName),s=n.templateWrapper,s.contents().each(function(e,t){r.append(t)}),n.stateContainer.remove(),n.tabindex&&r.removeAttr("tabindex"),r.removeClass(["wijmo-wijsuperpanel",o.widget,o.content,o.cornerAll].join(" ")),t.Widget.prototype.destroy.apply(e,arguments)},_fields:function(){var e=this,t=e.element,n=e.widgetName+"-fields",r=e._fieldsStore;return r===undefined&&(r={},t.data(n,r),e._fieldsStore=r),r},_hasMode:function(e,n){var r=e.scrollMode.split(",");return r=t.map(r,function(e){return t.trim(e).toLowerCase()}),t.inArray(n.toLowerCase(),r)>-1},_bindElementEvents:function(e,t,n,r){var i=e._hasMode(r.hScroller,"edge"),s=e._hasMode(r.vScroller,"edge"),o=e.widgetName;i||s?e._mousemoveBind===undefined&&(e._mousemoveBind=!0,n.bind("mousemove."+o,e,e._contentMouseMove),n.bind("mouseleave."+o,null,function(){e._clearInterval()})):(n.unbind("mousemove",e._contentMouseMove),e._mousemoveBind=undefined),r.mouseWheelSupport?e._mouseWheelBind===undefined&&(e._mouseWheelBind=!0,n.bind("mousewheel."+o,e,e._panelMouseWheel)):(e.element.unbind("mousewheel",e._panelMouseWheel),e._mouseWheelBind=undefined),r.keyboardSupport?e._keyboardBind===undefined&&(e._keyboardBind=!0,n.bind("keydown."+o,e,e._panelKeyDown)):(n.unbind("keydown",e._panelKeyDown),e._keyboardBind=undefined)},_dragStop:function(e,t,n){var r={dragHandle:n};t._trigger("dragStop",e,r)},_contentMouseMove:function(e){var n=e.data,r=n.options,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y;if(r.disabled)return;i=r.hScroller,s=r.vScroller,o=t(e.currentTarget),u=n._fields(),a=n._hasMode(i,"edge"),f=n._hasMode(s,"edge"),n._clearInterval(),l={X:e.pageX,Y:e.pageY},c=o.offset(),h=c.left,p=c.top,h=l.X-h,p=l.Y-p,d=i.hoverEdgeSpan,v=s.hoverEdgeSpan,m=o.innerHeight(),g=o.innerWidth(),y="",a&&(h<d&&(y="left"),h>g-d&&(y="right")),f&&(p<v&&(y="top"),p>m-v&&(y="bottom")),n._setScrollingInterval(u,y,n,!1)},_setScrollingInterval:function(e,t,n,r){var i=n.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){n._doScrolling(t,n,r)},i.keyDownInterval))},_scrollButtonMouseOver:function(e){var n=e.data,r=n.options,i;if(r.disabled)return;i=t(e.currentTarget),i.hasClass(r.wijCSS.stateDisabled)||(i.bind("mouseout."+n.widgetName,n,n._buttonMouseOut).bind("mousedown."+n.widgetName,n,n._buttonMouseDown).bind("mouseup."+n.widgetName,n,n._buttonMouseUp).addClass(r.wijCSS.stateHover),n._buttonScroll(i,n,"buttonshover"))},_buttonScroll:function(e,t,n){var r="",i=t.options,s=t._fields(),o=t._hasMode(i.hScroller,n),u=t._hasMode(i.vScroller,n);e.hasClass("wijmo-wijsuperpanel-buttonleft")&&o?r="left":e.hasClass("wijmo-wijsuperpanel-buttonright")&&o?r="right":e.hasClass("wijmo-wijsuperpanel-buttontop")&&u?r="top":e.hasClass("wijmo-wijsuperpanel-buttonbottom")&&u&&(r="bottom"),r.length>0&&(t._clearInterval(),t._doScrolling(r,t,!0),t._setScrollingInterval(s,r,t,!0))},_listenContentScroll:function(){var e=this,t=e.options,n=e._fields(),r=n.hbarContainer,i=n.hbarDrag,s=n.vbarContainer,o=n.vbarDrag,u=n.templateWrapper,a=n.contentWrapper,f=a.width(),l=a.height(),c=u&&u.offset(),h=c&&c.left,p=c&&c.top,d=n.contentWidth,v=n.contentHeight;a.bind("scroll",function(n){var c=u.position(),h=c.left,p=c.top;a.scrollTop(0).scrollLeft(0),u.css({left:h,top:p}),h<=0&&h>f-d&&(t.hScroller.scrollValue=e.scrollPxToValue(-h,"h"),e._scrollDrag("h",r,i,!0)),p<=0&&p>l-v&&(t.vScroller.scrollValue=e.scrollPxToValue(-p,"v"),e._scrollDrag("v",s,o,!0))})},_buttonMouseDown:function(e){var n=e.data,r,i=n.options.wijCSS;if(n.options.disabled)return;r=t(e.currentTarget),r.hasClass(i.stateDisabled)||(r.addClass(i.stateActive),n._buttonScroll(r,n,"buttons"))},_buttonMouseUp:function(e){var n=e.data,r=t(e.currentTarget);r.removeClass(n.options.wijCSS.stateActive),n._clearInterval()},_buttonMouseOut:function(e){var n=e.data,r=n.options.wijCSS,i=t(e.currentTarget);i.unbind("mouseout",n._buttonMouseOut).unbind("mousedown",n._buttonMouseDown).unbind("mouseup",n._buttonMouseUp).removeClass(r.stateHover).removeClass(r.stateActive),n._clearInterval()},getKeyCodeEnum:function(){if(t.ui&&t.ui.keyCode)return t.ui.keyCode;if(t.mobile&&t.mobile.keyCode)return t.mobile.keyCode;throw"keyCode object is not found"},_panelKeyDown:function(e){var t=e.data,n=t.options,r,i,s=t.getKeyCodeEnum();if(!n.keyboardSupport||n.disabled)return;r=e.shiftKey,i=e.keyCode,i===s.LEFT?t._doScrolling("left",t,r):i===s.RIGHT?t._doScrolling("right",t,r):i===s.UP?t._doScrolling("top",t,r):i===s.DOWN&&t._doScrolling("bottom",t,r),e.stopPropagation(),e.preventDefault()},_draggingInternal:function(e,t,n,r){var i=n.dir,s=i==="h",o=s?"left":"top",u=e.position[o]-t._getScrollContainerPadding(o),a=t._getTrackLen(i)-r[s?"outerWidth":"outerHeight"](!0),f=u/a,l=n.scrollMax-n.scrollLargeChange+1,c=f*l,h,p,d;c<n.scrollMin&&(c=n.scrollMin),c>l&&(c=l),h={oldValue:n.scrollValue,newValue:c,dir:i};if(!t._scrolling(!0,t,h))return;t.customScroll&&(d=Math.abs(t.customScroll),p=t.scrollPxToValue(d,n.dir)),n.scrollValue=p||c,t.customScroll=undefined,t._setDragAndContentPosition(!0,!1,i,"dragging")},_dragging:function(e,n,r){var i=r.options,s=t(e.target),u=s.parent();u.hasClass(o)?r._draggingInternal(n,r,i.hScroller,s):r._draggingInternal(n,r,i.vScroller,s)},_panelMouseWheel:function(e,n){var r=e.data,i=r.options,s,u,a,f,l,c;if(!i.mouseWheelSupport||i.disabled)return;s=t(e.srcElement||e.originalEvent.target),u="",a=s.closest("."+o,r.element).size()>0,f=i.hScroller,l=i.vScroller,n>0?u=a?"left":"top":u=a?"right":"bottom",u.length>0&&r._doScrolling(u,r),c=!1,u==="left"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-f.scrollMin)<.001),u==="right"&&(c=!r.hNeedScrollBar||Math.abs(f.scrollValue-(f.scrollMax-r._getHScrollBarLargeChange()+1))<.001),u==="top"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-l.scrollMin)<.001),u==="bottom"&&(c=!r.vNeedScrollBar||Math.abs(l.scrollValue-(l.scrollMax-r._getVScrollBarLargeChange()+1))<.001);if(!c||!i.bubbleScrollingEvent||u==="left"||u==="right")e.stopPropagation(),e.preventDefault()},_documentMouseUp:function(e){var n=e.data.self,r=n.options,i=e.data.ele;i.removeClass(r.wijCSS.stateActive),n._clearInterval(),t(document).unbind("mouseup",n._documentMouseUp)},_scrollerMouseOver:function(e){var n=e.data,r=n.options,i,s,a;if(r.disabled)return;i=t(e.srcElement||e.originalEvent.target),s=null,a=!1;if(i.hasClass(r.wijCSS.stateDefault))s=i,a=!0;else if(i.parent().hasClass(r.wijCSS.stateDefault))s=i.parent(),a=!0;else if(i.hasClass(u)||i.hasClass(o))s=i;s&&(a&&s.addClass(r.wijCSS.stateHover),s.bind("mouseout."+n.widgetName,n,n._elementMouseOut),s.bind("mousedown."+n.widgetName,n,n._elementMouseDown),s.bind("mouseup."+n.widgetName,n,n._elementMouseUp))},_elementMouseUp:function(e){var n=t(e.currentTarget);n.removeClass(a)},_elementMouseDown:function(e){var n=t(e.currentTarget),r=e.data,i,f,l,c,h,p,d,v;if(r.options.disabled||e.which!==1)return;i="",f=!1,l=!1;if(n.hasClass("wijmo-wijsuperpanel-vbar-buttontop"))i="top",l=!0;else if(n.hasClass("wijmo-wijsuperpanel-vbar-buttonbottom"))i="bottom",l=!0;else if(n.hasClass("wijmo-wijsuperpanel-hbar-buttonleft"))i="left",l=!0;else if(n.hasClass("wijmo-wijsuperpanel-hbar-buttonright"))i="right",l=!0;else{if(n.hasClass(s)){n.addClass(a);return}n.hasClass(o)?(c=n.find("."+s),h=c.offset(),e.pageX<h.left?i="left":i="right",f=!0):n.hasClass(u)&&(p=n.find("."+s),d=p.offset(),e.pageY<d.top?i="top":i="bottom",f=!0)}r._clearInterval(),r._doScrolling(i,r,f),v=r._fields(),r._setScrollingInterval(v,i,r,f),l&&n.addClass(a),t(document).bind("mouseup."+r.widgetName,{self:r,ele:n},r._documentMouseUp)},doScrolling:function(e,t){this._doScrolling(e,this,t)},_setScrollerValue:function(e,t,n,r,i,s,o){var u=t.scrollMin,a=s?r:n,f=t.scrollValue,l,c,h,p,d,v;f||(f=u),l=0;if(i){c=t.scrollMax-r+1;if(Math.abs(f-c)<.001)return o._clearInterval(),!1;h=t.firstStepChangeFix,l=f+a,!s&&Math.abs(f-u)<1e-4&&!isNaN(h)&&(l+=h),l>c&&(l=c)}else{if(Math.abs(f-u)<.001)return o._clearInterval(),!1;l=f-a,l<0&&(l=u)}return p={oldValue:t.scrollValue,newValue:l,direction:e,dir:t.dir},o._scrolling(!0,o,p)?(o.customScroll&&(v=Math.abs(o.customScroll),d=o.scrollPxToValue(v,t.dir)),t.scrollValue=d||l,o.customScroll=undefined,!0):!1},_doScrolling:function(e,t,n){var r=t.options,i=r.vScroller,s=r.hScroller,o=t._getVScrollBarSmallChange(),u=t._getVScrollBarLargeChange(),a=t._getHScrollBarLargeChange(),f=t._getHScrollBarSmallChange();if(e==="top"||e==="bottom"){if(!t._setScrollerValue(e,i,o,u,e==="bottom",n,t))return;e="v"}else if(e==="left"||e==="right"){if(!t._setScrollerValue(e,s,f,a,e==="right",n,t))return;e="h"}t._setDragAndContentPosition(!0,!0,e)},_disableButtonIfNeeded:function(e){var t=e._fields(),n,r,i,s,o,u,a,f,l,c,h,p,d;t.intervalID>0&&window.clearInterval(t.intervalID),n=e.options,r=t.buttonLeft,i=t.buttonRight,s=t.buttonTop,o=t.buttonBottom,r!==undefined&&(u=e._getHScrollBarLargeChange(),a=n.hScroller.scrollMax-u+1,f=n.hScroller.scrollValue,l=n.hScroller.scrollMin,f===undefined&&(f=l),Math.abs(f-l)<.001||!t.hScrolling?r.addClass(n.wijCSS.stateDisabled):r.removeClass(n.wijCSS.stateDisabled),Math.abs(f-a)<.001||!t.hScrolling?i.addClass(n.wijCSS.stateDisabled):i.removeClass(n.wijCSS.stateDisabled)),s!==undefined&&(c=e._getVScrollBarLargeChange(),h=n.vScroller.scrollMax-c+1,p=n.vScroller.scrollValue,d=n.vScroller.scrollMin,p===undefined&&(p=d),Math.abs(p-d)<.001||!t.vScrolling?s.addClass(n.wijCSS.stateDisabled):s.removeClass(n.wijCSS.stateDisabled),Math.abs(p-h)<.001||!t.vScrolling?o.addClass(n.wijCSS.stateDisabled):o.removeClass(n.wijCSS.stateDisabled))},_clearInterval:function(){var e=this._fields(),t=e.internalFuncID;t>0&&(window.clearInterval(t),e.internalFuncID=-1)},_elementMouseOut:function(e){var n=t(e.currentTarget),r=e.data;n.unbind("mouseout",r._elementMouseOut),n.unbind("mousedown",r._elementMouseDown),n.unbind("mouseup",r._elementMouseUp),n.removeClass(r.options.wijCSS.stateHover)},_getScrollOffset:function(e){var n=t(e),r,i,s,o,u,a,f,l,c,h,p={left:null,top:null};return n.length===0?p:(r=this._fields(),i=r.contentWrapper,s=r.templateWrapper,o=n.offset(),u=s.offset(),o.leftWidth=o.left+n.outerWidth(),o.topHeight=o.top+n.outerHeight(),a=i.offset(),a.leftWidth=a.left+i.outerWidth(),a.topHeight=a.top+i.outerHeight(),c=o.left-u.left,o.left<a.left?p.left=c:o.leftWidth>a.leftWidth&&(h=o.leftWidth-u.left-i.innerWidth(),c<h?p.left=c:p.left=h),f=o.top-u.top,o.top<a.top?p.top=f:o.topHeight>a.topHeight&&(l=o.topHeight-u.top-i.innerHeight(),f<l?p.top=f:p.top=l),p)},_scrollDrag:function(e,t,n,r){var i=this,s=i.options,o=e==="v",u=o?s.vScroller:s.hScroller,a=u.scrollMin,f=u.scrollMax,l=u.scrollValue===undefined?a:u.scrollValue-a,c=i._getLargeChange(e),h=f-a-c+1,p=-1,d,v,m;l>h&&(l=h),t!==undefined&&(d=i._getTrackLen(e),v=n[o?"outerHeight":"outerWidth"](),m=i._getScrollContainerPadding(o?"top":"left"),p=l/h*(d-v)+m),p>=0&&n.css(o?"top":"left",p+"px"),i._scrollEnd(r,i,e)},needToScroll:function(e){var t=this._getScrollOffset(e);return t.top!==null||t.left!==null},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),n=t.left,r=t.top;n!==null&&this.hScrollTo(n),r!==null&&this.vScrollTo(r)},hScrollTo:function(e){var t=this.options;t.hScroller.scrollValue=this.scrollPxToValue(e,"h"),this._setDragAndContentPosition(!0,!0,"h","nonestop")},vScrollTo:function(e){var t=this.options;t.vScroller.scrollValue=this.scrollPxToValue(e,"v"),this._setDragAndContentPosition(!0,!0,"v","nonestop")},scrollPxToValue:function(e,t){var n=this.options,r=t==="h"?"outerWidth":"outerHeight",i=t==="h"?"contentWidth":"contentHeight",s=t==="h"?"hScroller":"vScroller",o=this._fields(),u=o.contentWrapper,a=o[i],f=u[r](),l=n[s].scrollMin,c=n[s].scrollMax,h=c-l,p=t==="h"?this._getHScrollBarLargeChange():this._getVScrollBarLargeChange(),d=h-p+1,v=d*(e/(a-f));return v<l&&(v=l),v>d&&(v=d),v},scrollTo:function(e,t){this.hScrollTo(e),this.vScrollTo(t)},refresh:function(){this.paintPanel()},paintPanel:function(e){var n=this,r=n.element,i,s,o,u;return r.is(":visible")?(i=typeof document.activeElement!="unknown"?document.activeElement:undefined,s=n.options,o=n._fields(),o.initialized||n._initialize(o,r,n),n._resetLargeChange(n,o,s),n._bindElementEvents(n,o,r,s),u=o.templateWrapper,u.css({"float":"left",left:"0px",top:"0px",width:"auto",height:"auto"}),u.hide(),u.show(),o.contentWidth=u.width(),o.contentHeight=u.height(),u.css("float",""),n._setRounder(n,r),n._setInnerElementsSize(o,r),n._testScroll(n,o,s)===!1?!1:(n._initScrollBars(n,o,s),n._initScrollButtons(n,o,s),n._trigger("painted"),n._paintedMark={date:new Date,mainWidth:r[0].offsetWidth,mainHeight:r[0].offsetHeight,width:o.contentWidth,height:o.contentWidth},i!==undefined&&!e&&t(i).focus(),!0)):!1},_resetLargeChange:function(e,t,n){var r;e._autoVLarge&&(n.vScroller.scrollLargeChange=null),e._autoHLarge&&(n.hScroller.scrollLargeChange=null),t.vTrackLen=undefined,t.hTrackLen=undefined,t.vbarContainer&&(r=t.vbarContainer.children("."+s+":eq(0)"),r.detach(),t.vbarContainer.remove(),t.vbarContainer=undefined),t.hbarContainer&&(r=t.hbarContainer.children("."+s+":eq(0)"),r.detach(),t.hbarContainer.remove(),t.hbarContainer=undefined)},_initialize:function(e,t,n){var r=n.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",r.widget,r.content].join(" ")),e.oldHeight=t.css("height");var i=t.css("overflow");t.css("overflow",""),t.height(t.height()),t.css("overflow",i),n._createAdditionalDom(n,e,t)},getContentElement:function(){return this._fields().templateWrapper},_setButtonPosition:function(e,n,r,i,s,o,u){var a=i==="h",f="mouseover."+e.widgetName,l=a?"buttonLeft":"buttonTop",c=a?"buttonRight":"buttonBottom",d=o[l],v=o[c],m,g,y;e._hasMode(r,"buttons")||e._hasMode(r,"buttonshover")?(m=a?h:p,d===undefined&&(g=t(m).appendTo(u),g.bind(f,e,e._scrollButtonMouseOver),o[l]=d=u.children(a?".wijmo-wijsuperpanel-buttonleft":".wijmo-wijsuperpanel-buttontop"),o[c]=v=u.children(a?".wijmo-wijsuperpanel-buttonright":".wijmo-wijsuperpanel-buttonbottom")),y={my:a?"left":"top",of:s,at:a?"left":"top",collision:"none"},t.extend(y,r.decreaseButtonPosition),d.position(y),y={my:a?"right":"bottom",of:s,at:a?"right":"bottom",collision:"none"},t.extend(y,r.increaseButtonPosition),v.position(y)):d!==undefined&&(d.remove(),v.remove(),o[l]=o[c]=undefined)},_initScrollButtons:function(e,t,n){var r=t.contentWrapper,i=t.stateContainer;e._setButtonPosition(e,n,n.hScroller,"h",r,t,i),e._setButtonPosition(e,n,n.vScroller,"v",r,t,i)},_getVScrollBarSmallChange:function(){var e=this.options,t;return e.vScroller.scrollSmallChange||(t=this._getVScrollBarLargeChange(),e.vScroller.scrollSmallChange=t/2),e.vScroller.scrollSmallChange},_getVScrollBarLargeChange:function(){return this._getLargeChange("v")},_getLargeChange:function(e){var t=this,n=t.options,r=t._fields(),i=e==="v",s=i?n.vScroller:n.hScroller,o=i?"innerHeight":"innerWidth",u=i?"contentHeight":"contentWidth",a=i?"_autoVLarge":"_autoHLarge",f,l,c,h,p,d,v,m;return s.scrollLargeChange?s.scrollLargeChange:(f=s.scrollMax,l=s.scrollMin,c=f-l,h=r.contentWrapper,p=h[o](),d=r[u],v=p/(d-p),m=(c+1)*v/(1+v),isNaN(m)&&(m=0),s.scrollLargeChange=m,t[a]=!0,s.scrollLargeChange)},_getHScrollBarSmallChange:function(){var e=this.options,t;return e.hScroller.scrollSmallChange||(t=this._getHScrollBarLargeChange(),e.hScroller.scrollSmallChange=t/2),e.hScroller.scrollSmallChange},_getHScrollBarLargeChange:function(){return this._getLargeChange("h")},_initScrollBars:function(e,n,r){var i=r.hScroller,s=i.scrollMax,o=i.scrollMin,u=s-o,a=r.vScroller,f=a.scrollMax,l=a.scrollMin,c=f-l,h=n.hbarDrag,p=n.vbarDrag,d,v,m,g,y,b,w,E,S,x;e.hNeedScrollBar&&h.is(":visible")&&(d=e._getHScrollBarLargeChange(),v=e._getTrackLen("h"),m=e._getDragLength(u,d,v,r.hScroller.scrollMinDragLength),h.width(m),g=h.outerWidth(!0)-h.width(),h.width(m-g),y=h.children("span"),y.css("margin-left",(h.width()-y[0].offsetWidth)/2),v<=h.outerWidth(!0)?h.hide():h.show(),e._isDragging==1&&(t(document).trigger("mouseup"),e._isDragging=!1)),e.vNeedScrollBar&&p.is(":visible")&&(b=e._getVScrollBarLargeChange(),w=e._getTrackLen("v"),E=e._getDragLength(c,b,w,r.vScroller.scrollMinDragLength),p.height(E),S=p.outerHeight(!0)-p.height(),p.height(E-S),x=p.children("span"),x.css("margin-top",(p.height()-x[0].offsetHeight)/2),w<=p.outerHeight(!0)?p.hide():p.show(),e._isDragging==1&&(t(document).trigger("mouseup"),e._isDragging=!1)),e._setDragAndContentPosition(!1,!1,"both")},_getTrackLen:function(e){var t=this,n=t._fields(),r=e+"TrackLen",i,s,o,u;return n[r]!==undefined?n[r]:(i=n.hbarContainer,s=n.vbarContainer,o=0,u=0,e==="h"&&(u=t._getScrollContainerPadding("h"),o=i.innerWidth()),e==="v"&&(u=t._getScrollContainerPadding("v"),o=s.innerHeight()),n[r]=o-u,n[r])},_getScrollContainerPadding:function(e){var t=this,n=t._fields(),r=0,i,s;if(e==="h")r=t._getScrollContainerPadding("left")+t._getScrollContainerPadding("right");else if(e==="v")r=t._getScrollContainerPadding("top")+t._getScrollContainerPadding("bottom");else{e==="left"||e==="right"?i=n.hbarContainer:i=n.vbarContainer,s=e+"Padding";if(n[s]!==undefined)return r=n[s],r;i&&i.css&&(r=parseFloat(i.css("padding-"+e))),n[s]=r}return r},_triggerScroll:function(e,t,n){var r={position:e,dir:t,animationOptions:n};this._trigger("scroll",null,r)},_contentDragAnimate:function(e,n,r,i,s,o,u){var a=this,f=a.options,l=e==="v",c=l?f.vScroller:f.hScroller,h=l?"outerHeight":"outerWidth",p=l?"innerHeight":"innerWidth",d=l?"contentHeight":"contentWidth",v=l?"top":"left",m=c.scrollMin,g=c.scrollMax,y=g-m,b=c.scrollValue===undefined?m:c.scrollValue-m,w=a._getLargeChange(e),E=y-w+1,S=a._fields(),x=S.contentWrapper,T=S.templateWrapper,N,C,k,L,A,O,M,_,D,P,H,B;b>E&&(b=E),N=(S[d]-x[p]())*(b/E),Math.abs(N)<.001&&(N=0),N=Math.round(N),C=-1,r!==undefined&&(n&&i.is(":animated")&&s!=="nonestop"&&i.stop(!0,!1),k=a._getTrackLen(e),L=i[h](!0),A=k-L,O=a._getScrollContainerPadding(v),C=b/E*A+O),n&&f.animationOptions&&!f.animationOptions.disabled?(C>=0&&u!=="dragging"&&(M=t.extend({},f.animationOptions),M.complete=undefined,l?_={top:C}:_={left:C},i.animate(_,M)),D=t.extend({},f.animationOptions),P=f.animationOptions.complete,D.complete=function(){a._scrollEnd(o,a,e),t.isFunction(P)&&P(arguments)},n&&T.is(":animated")&&s!=="nonestop"&&T.stop(!0,!1),l?H={top:-N}:H={left:-N},f.customScrolling?a._scrollEnd(o,a,e,b):T.animate(H,D),a._triggerScroll(N,e,D)):c.scrollBarVisibility!=="hidden"&&(B=l?"top":"left",C>=0&&u!=="dragging"&&(i[0].style[B]=C+"px"),f.customScrolling||(T[0].style[B]=-N+"px"),a._triggerScroll(N,e),a._scrollEnd(o,a,e,b))},_setDragAndContentPosition:function(e,t,n,r,i){var s=this,o=s._fields(),u=o.hbarContainer,a=o.hbarDrag,f=o.vbarContainer,l=o.vbarDrag;(n==="both"||n==="h")&&o.hScrolling&&s._contentDragAnimate("h",t,u,a,r,e,i),(n==="both"||n==="v")&&o.vScrolling&&s._contentDragAnimate("v",t,f,l,r,e,i),o.intervalID>0&&window.clearInterval(o.intervalID),o.intervalID=window.setInterval(function(){s._disableButtonIfNeeded(s)},500)},_scrolling:function(e,t,n){var r=!0;return e&&(n.beforePosition=t.getContentElement().position(),t._beforePosition=n.beforePosition,r=t._trigger("scrolling",null,n),t.customScroll=n.customScroll),r},_scrollEnd:function(e,t,n,r){e&&window.setTimeout(function(){var e=t.getContentElement(),i,s;if(!e.is(":visible"))return;i=t.getContentElement().position(),s={dir:n,beforePosition:t._beforePosition,afterPosition:i},isNaN(r)||(s.newValue=r),t._trigger("scrolled",null,s)},0)},_getDragLength:function(e,t,n,r){var i=e/t,s=n/i,o=r;return s<o?s=o:s+1>=n&&(s=n-1),Math.round(s)},_needScrollbar:function(e,t){var n=this._hasMode(e,"scrollbar"),r=e.scrollBarVisibility,i=n&&(r==="visible"||r==="auto"&&t);return i},_bindBarEvent:function(e,n,r){var i=this;e.bind("mouseover."+i.widgetName,i,i._scrollerMouseOver);if(!t.fn.draggable)return;n.draggable({axis:r==="h"?"x":"y",start:function(e,t){i._isDragging=!0},drag:function(e,t){i._dragging(e,t,i)},containment:"parent",stop:function(e){i._dragStop(e,i,r),t(e.target).removeClass(a),i._isDragging=!1}})},_createBarIfNeeded:function(e,n,r,i,o){if(e){var u=this,a,f=u._fields(),l=r+"barContainer",c=r+"barDrag",h=r==="h",p=o[h?"innerHeight":"innerWidth"](),d=f[l]=t(i),v,m;n.append(d),v=d[0][h?"offsetHeight":"offsetWidth"],p-=v,a={direction:h?"horizontal":"vertical",targetBarLen:v,contentLength:p};if(u._trigger(h?"hScrollerActivating":"vScrollerActivating",null,a)===!1)return!1;m=f[c]=d.find("."+s),u._bindBarEvent(d,m,r),o[h?"height":"width"](p)}},_setScrollbarPosition:function(e,t,n,r,i,s,o,u,a,f,l){var c=f==="h",h,p,d,v,m,g,y,b,w,E=t.options.wijCSS;s?(h=r[0][c?"offsetHeight":"offsetWidth"],p=t._getScrollContainerPadding(f),d=c?"top":"left",v=c?{top:"0px",bottom:"auto",left:"auto",right:"auto"}:{left:"0px",right:"auto",top:"auto",bottom:"auto"},m=c?{top:h+"px",left:null}:{left:h+"px"},g=c?{top:"auto",right:"auto",left:"auto",bottom:"0px"}:{left:"auto",right:"0px",top:"auto",bottom:"auto"},y=c?{top:"",left:null}:{left:""},b=n[c?"innerWidth":"innerHeight"](),u===d?(r.css(v),n.css(m),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(E.cornerBL).addClass(E.cornerTL),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(E.cornerBR).addClass(E.cornerTR),r.removeClass(E.cornerBottom).addClass(E.cornerTop)):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(E.cornerTR).addClass(E.cornerTL),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(E.cornerBR).addClass(E.cornerBL),r.removeClass(E.cornerRight).addClass(E.cornerLeft))):(r.css(g),n.css(y),c?(r.children(".wijmo-wijsuperpanel-hbar-buttonleft").removeClass(E.cornerTL).addClass(E.cornerBL),r.children(".wijmo-wijsuperpanel-hbar-buttonright").removeClass(E.cornerBL).addClass(E.cornerBR),r.removeClass(E.cornerTop).addClass(E.cornerBottom)):(r.children(".wijmo-wijsuperpanel-vbar-buttontop").removeClass(E.cornerTL).addClass(E.cornerTR),r.children(".wijmo-wijsuperpanel-vbar-buttonbottom").removeClass(E.cornerBL).addClass(E.cornerBR),r.removeClass(E.cornerLeft).addClass(E.cornerRight))),w=0,o&&(w=i[0][c?"offsetWidth":"offsetHeight"],a==="left"?r.css("right","0px"):a==="right"?r.css("left","0px"):a==="top"?r.css("bottom","0px"):a==="bottom"&&r.css("top","0px")),!c&&o&&(w=0),r[c?"width":"height"](b-p),t._enableDisableScrollBar(f,r,!l)):e.css(c?"left":"top","")},_testScroll:function(e,t,n){var r=t.templateWrapper,i=t.contentWrapper,s=t.stateContainer,o=i.innerWidth(),u=i.innerHeight(),a=t.contentWidth,f=t.contentHeight,h,p,d,v,m,g;t.hScrolling=a>o,t.vScrolling=f>u,h=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(h,s,"h",l,i)===!1)return!1;h&&!t.vScrolling&&(r.css("float","left"),t.contentHeight=r.height(),t.vScrolling=t.contentHeight>u-t.hbarContainer[0].offsetHeight,r.css("float","")),p=e.vNeedScrollBar=e._needScrollbar(n.vScroller,t.vScrolling);if(e._createBarIfNeeded(p,s,"v",c,i)===!1)return!1;if(p&&!t.hScrolling){r.css("float","left"),t.contentWidth=r.width(),t.hScrolling=t.contentWidth>o-t.vbarContainer[0].offsetWidth,r.css("float","");if(t.hScrolling&&!h){h=e.hNeedScrollBar=e._needScrollbar(n.hScroller,t.hScrolling);if(e._createBarIfNeeded(h,s,"h",l,i)===!1)return!1}}d=t.hbarContainer,v=t.vbarContainer,m=n.hScroller.scrollBarPosition,g=n.vScroller.scrollBarPosition,e._setScrollbarPosition(r,e,i,d,v,h,p,m,g,"h",t.hScrolling),e._setScrollbarPosition(r,e,i,v,d,p,h,g,m,"v",t.vScrolling)},_enableDisableScrollBar:function(e,t,n){var r=this.options;e==="v"?(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-vbarcontainer-disabled"),t.find("."+r.wijCSS.stateDefault)[n?"addClass":"removeClass"](r.wijCSS.stateDisabled)):e==="h"&&(t[n?"addClass":"removeClass"]("wijmo-wijsuperpanel-hbarcontainer-disabled"),t.find("."+r.wijCSS.stateDefault)[n?"addClass":"removeClass"](r.wijCSS.stateDisabled)),t.children("."+s)[n?"hide":"show"]()},_initResizer:function(){var e=this,n=e.options,r=e._fields(),i=r.resizer,s,o;if(!t.fn.resizable)return;!i&&n.allowResize&&(s=n.resizableOptions,o=s.stop,s.stop=function(n){e._resizeStop(n,e),t.isFunction(o)&&o(n)},r.resizer=i=e.element.resizable(s)),!n.allowResize&&r.resizer&&(i.resizable("destroy"),r.resizer=null)},_resizeStop:function(e,t){this.options.autoRefresh||t.paintPanel(!0),t._trigger("resized")},_createAdditionalDom:function(e,n,r){r.attr("tabindex")||(r.attr("tabindex","-1"),n.tabindex=!0);var i=n.stateContainer=t(f),s;n.contentWrapper=i.children(),s=n.templateWrapper=n.contentWrapper.children(),r.contents().each(function(e,r){var i=t(r);if(i.hasClass("wijmo-wijsuperpanel-header")){n.header=i;return}if(i.hasClass("wijmo-wijsuperpanel-footer")){n.footer=i;return}s[0].appendChild(r)}),n.header!==undefined&&r.prepend(n.header),r[0].appendChild(i[0]),n.footer!==undefined&&n.footer.insertAfter(i)},_setRounder:function(e,n){if(this.options.showRounder){n.addClass(this.options.wijCSS.cornerAll);if(e._rounderAdded)return;if(t.browser.msie)return;var r,i,s,o;r=i="",t.browser.webkit?(i="WebkitBorderTopLeftRadius",r="WebkitBorderRadius"):t.browser.mozilla?(i="MozBorderRadiusBottomleft",r="MozBorderRadius"):(i="border-top-left-radius",r="border-radius"),s=n.css(i),o=parseInt(s,10),n.css(r,o+1),e._rounderAdded=!0,e._radiusKey=r}else n.removeClass(this.options.wijCSS.cornerAll)},_setInnerElementsSize:function(e,t){var n=e.stateContainer,r=e.contentWrapper,i=0,s,o,u,a;e.header!==undefined&&(i+=e.header.outerHeight()),e.footer!==undefined&&(i+=e.footer.outerHeight()),s=n[0].style,o=t.innerHeight()-i,u=t.innerWidth(),s.display="none",s.height=o+"px",s.width=u+"px",a=r[0].style,a.height=o+"px",a.width=u+"px",s.display=""}}),r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new n),t.wijmo.registerWidget("wijsuperpanel",r.prototype)}else{var s="wijmo-wijsuperpanel-handle",f="<div class='wijmo-wijsuperpanel-statecontainer'><div class='wijmo-wijsuperpanel-contentwrapper-touch'></div></div>";r.prototype=t.extend(!0,{},t.Widget.prototype,{widgetEventPrefix:"wijsuperpanel",_setOption:function(e,n){var r=this,i=r.options,s=r._fields();if(e==="animationOptions"||e==="resizableOptions")n=t.extend(i[e],n);else if(e==="hScroller"||e==="vScroller")n=t.extend(i[e],n),r.refresh();t.Widget.prototype._setOption.apply(r,arguments);switch(e){case"allowResize":r._initResizer();break;case"disabled":r._handleDisabledOption(n,r.element);break;case"mouseWheelSupport":case"keyboardSupport":r._bindElementEvents(r,s,r.element,i)}},_create:function(){var e=this,t=e.options;t.vScroller.dir="v",t.hScroller.dir="h",e._createDom(),e.options.disabled&&e.disable(),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijsuperpanel")},_handleDisabledOption:function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},_createDisabledDiv:function(e){var n=this,r=e?e:n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return t("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top})},_createDom:function(){var e=this,t=e.element;e.paintPanel(),e._initResizer(),e._bindElementEvents()},_applyOverflow:function(e){var t={},n=this.options,r=n.hScroller.scrollBarVisibility,i=n.vScroller.scrollBarVisibility;t["overflow-x"]=r,t["overflow-y"]=i,e.css(t)},_createAdditionalDom:function(e,n,r){r.attr("tabindex")||(r.attr("tabindex","-1"),n.tabindex=!0);var i=n.stateContainer=t(f),s;e._applyOverflow(n.stateContainer),n.contentWrapper=i.children(),r.contents().each(function(e,r){var i=t(r);if(i.hasClass("wijmo-wijsuperpanel-header")){n.header=i;return}if(i.hasClass("wijmo-wijsuperpanel-footer")){n.footer=i;return}n.contentWrapper[0].appendChild(r)}),n.header!==undefined&&r.prepend(n.header),r[0].appendChild(i[0]),n.footer!==undefined&&n.footer.insertAfter(i),e._resetDom()},_bindElementEvents:function(){var e=this,t=e.element,n=e.options,r=e.widgetName;t.bind("scroll",function(t){e._triggerScroll()}),n.keyboardSupport?e._keyboardBind===undefined&&(e._keyboardBind=!0,t.bind("keydown."+r,e,e._panelKeyDown)):(t.unbind("keydown."+r,e._panelKeyDown),e._keyboardBind=undefined),n.mouseWheelSupport||t.bind("mousewheel",function(e){return e.stopPropagation(),!1})},_setScrollingInterval:function(e,t,n,r){var i=n.options;t.length>0&&(e.internalFuncID=window.setInterval(function(){n._doScrolling(t,n,r)},i.keyDownInterval))},_triggerScroll:function(e,t){var n={position:e,dir:t};this._trigger("scroll",null,n)},_panelKeyDown:function(e){var t=e.data,n=t.options,r,i,s=t.getKeyCodeEnum();if(!n.keyboardSupport||n.disabled)return;r=e.shiftKey,i=e.keyCode,i===s.LEFT?t._doScrolling("left",t,r):i===s.RIGHT?t._doScrolling("right",t,r):i===s.UP?t._doScrolling("top",t,r):i===s.DOWN&&t._doScrolling("bottom",t,r),e.stopPropagation(),e.preventDefault()},_doScrolling:function(e,t,n){var r,i,s,o=t._fields(),u=o.stateContainer[0],a={},f;if(e==="top"||e==="bottom")i="v",s="scrollTop";else if(e==="left"||e==="right")i="h",s="scrollLeft";n?r=t._getLargeChange(i):r=t._getSmallChange(i),f=u[s],e==="top"||e==="left"?a[s]=f-r:a[s]=f+r,t._animateTo(a)},_getLargeChange:function(e){var t=this,n=t._fields(),r,i=e=="h"?n.clientWidth:n.clientHeight;return i?r=i:r=n.stateContainer[e=="h"?"width":"height"](),r},_getSmallChange:function(){return this._getLargeChange()/2},_setRounder:function(e,n){var r=this.options.wijCSS.cornerAll;if(this.options.showRounder){n.addClass(r);if(e._rounderAdded)return;if(t.browser.msie)return;var i,s,o,u;i=s="",t.browser.webkit?(s="WebkitBorderTopLeftRadius",i="WebkitBorderRadius"):t.browser.mozilla?(s="MozBorderRadiusBottomleft",i="MozBorderRadius"):(s="border-top-left-radius",i="border-radius"),o=n.css(s),u=parseInt(o,10),n.css(i,u+1),e._rounderAdded=!0,e._radiusKey=i}else n.removeClass(r)},_initResizer:function(){var e=this,n=e.options,r=e._fields(),i=r.resizer,s,o;if(!t.fn.resizable)return;!i&&n.allowResize&&(s=n.resizableOptions,o=s.stop,s.stop=function(n){e._resetDom(),e._trigger("resized"),t.isFunction(o)&&o(n)},r.resizer=i=e.element.resizable(s)),!n.allowResize&&r.resizer&&(i.resizable("destroy"),r.resizer=null)},_resetDom:function(){var e=this,t=e.options,n=e.element,r=e._fields(),i=n.width(),s=n.height();r.stateContainer.length&&(r.stateContainer.css({width:i,height:s}),r.clientWidth=r.stateContainer[0].clientWidth,r.clientHeight=r.stateContainer[0].clientHeight)},_fields:function(){var e=this,t=e.element,n=e.widgetName+"-fields",r=e._fieldsStore;return r===undefined&&(r={},t.data(n,r),e._fieldsStore=r),r},_getScrollOffset:function(e){var n=t(e),r,i,s,o,u,a,f,l,c,h={left:null,top:null};return n.length===0?h:(r=this._fields(),i=r.contentWrapper,s=n.offset(),s.leftWidth=s.left+n.outerWidth(),s.topHeight=s.top+n.outerHeight(),u=i.offset(),u.leftWidth=u.left+r.clientWidth,u.topHeight=u.top+r.clientHeight,l=s.left-u.left,s.left<u.left?h.left=l:s.leftWidth>u.leftWidth&&(c=s.leftWidth-u.left-r.clientWidth,l<c?h.left=l:h.left=c),a=s.top-u.top,s.top<u.top?h.top=a:s.topHeight>u.topHeight&&(f=s.topHeight-u.top-r.clientHeight,a<f?h.top=a:h.top=f),h)},_initialize:function(e,t,n){var r=n.options.wijCSS;e.initialized=!0,t.addClass(["wijmo-wijsuperpanel",r.widget,r.content].join(" ")),n._setRounder(n,t),n._createAdditionalDom(n,e,t),n._trigger("painted")},_animateTo:function(e){var t=this,n=t.element,r=t.options,i=r.animationOptions,s=t._fields();s.stateContainer.animate(e,i)},destroy:function(){var e=this,n=e.element,r=e.options,i=e._fields(),s,o=r.wijCSS;e.disabledDiv&&(e.disabledDiv.remove(),e.disabledDiv=null),i.resizer!==undefined&&i.resizer.resizable("destroy"),n.unbind("."+e.widgetName),n.removeClass(["wijmo-wijsuperpanel",o.widget,o.content,o.cornerAll].join(" ")),s=i.contentWrapper,s.contents().each(function(e,t){n.append(t)}),i.stateContainer.remove(),t.Widget.prototype.destroy.apply(e,arguments)},doScrolling:function(e,t){this._doScrolling(e,t)},paintPanel:function(e){var t=this,n=t.element,r=t._fields();r.initialized||this._initialize(r,n,t)},needToScroll:function(e){var t=this._getScrollOffset(e);return t.top!==null||t.left!==null},scrollChildIntoView:function(e){var t=this._getScrollOffset(e),n=t.left,r=t.top;this.scrollTo(n,r)},getContentElement:function(){return this._fields().contentWrapper},hScrollTo:function(e){this._animateTo({scrollLeft:e})},vScrollTo:function(e){this._animateTo({scrollTop:e})},refresh:function(){var e=this,t=e._fields();e._applyOverflow(t.stateContainer),e._resetDom()},scrollTo:function(e,t){this._animateTo({scrollTop:t,scrollLeft:e})},scrollPxToValue:function(e,t){return e}}),r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,{wijMobileCSS:{header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},initSelector:":jqmData(role='wijsuperpanel')",allowResize:!1,animationOptions:{queue:!1,disabled:!1,duration:250,easing:undefined},hScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,firstStepChangeFix:0,scrollMin:0,hoverEdgeSpan:20},keyboardSupport:!1,keyDownInterval:100,mouseWheelSupport:!0,resizableOptions:{handles:"all",helper:"ui-widget-content wijmo-wijsuperpanel-helper"},resized:null,painted:null,scroll:null,showRounder:!0,vScroller:{scrollBarVisibility:"auto",scrollValue:null,scrollMax:100,scrollMin:0,firstStepChangeFix:0,hoverEdgeSpan:20}}),t.wijmo.registerWidget("wijsuperpanel",r.prototype)}})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijtextbox",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){var e=this,n=e.element,r=e.options.wijCSS,i={input:!0,textarea:!0},s={text:!0,password:!0,email:!0,url:!0},o=n.get(0).nodeName.toLowerCase();window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t));if(!i.hasOwnProperty(o))return;if(o==="input"&&e.element.attr("type")&&!s.hasOwnProperty(e.element.attr("type").toLowerCase()))return;n.addClass(r.wijtextbox).addClass(r.widget).addClass(r.stateDefault).addClass(r.cornerAll),e.element.bind("mouseover."+e.widgetName,function(){n.addClass(r.stateHover)}).bind("mouseout."+e.widgetName,function(){n.removeClass(r.stateHover)}).bind("mousedown."+e.widgetName,function(){n.addClass(r.stateActive)}).bind("mouseup."+e.widgetName,function(){n.removeClass(r.stateActive)}).bind("focus."+e.widgetName,function(){n.addClass(r.stateFocus)}).bind("blur."+e.widgetName,function(){n.removeClass(r.stateFocus)}),n.is(":disabled")?(e._setOption("disabled",!0),n.addClass(r.stateDisabled)):(e._setOption("disabled",!1),n.removeClass(r.stateDisabled))},n.prototype.destroy=function(){var t=this,n=t.options.wijCSS;t.element.removeClass(n.widget).removeClass(n.stateDefault).removeClass(n.cornerAll).removeClass(n.stateHover).removeClass(n.stateActive).removeClass(n.wijtextbox).unbind("."+t.widgetName),e.prototype.destroy.call(this)},n}(e.wijmoWidget);e.wijtextbox=r;var i=function(){function e(){this.initSelector=":jqmData(role='wijtextbox')",this.wijCSS={wijtextbox:"wijmo-wijtextbox"}}return e}();r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new i),t.wijmo.registerWidget(n,r.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijdropdown",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._setOption=function(t,n){var r=this,i=r.options.wijCSS;e.prototype._setOption.call(this,t,n),t==="disabled"&&(r._labelWrap.toggleClass(i.stateDisabled,n),r._label.toggleClass(i.stateDisabled,n),r.element.attr("disabled",n?"disabled":""))},n.prototype._create=function(){var e=this,n=e.element;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t));if(n.get(0).tagName.toLowerCase()!=="select")return;n.is(":visible")?(e._activeItem=null,e._createSelect(),e._bindEvents(),e.needInit=!1):e.needInit=!0,e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijdropdown")},n.prototype._createSelect=function(){var e=this,n=e.options,r=e.options.wijCSS,i=e.element,s=i.width(),o=s,u=i.wrap("<div></div>").parent().addClass(r.helperHidden),a=u.wrap("<div></div>").parent().attr("role","select").addClass(r.wijdropdown).addClass(r.widget).addClass(r.stateDefault).addClass(r.cornerAll).addClass(r.helperClearFix),f=t("<label></label>").addClass(r.wijdropdownLabel).addClass(r.cornerAll).attr("id",i.get(0).id+"_select").attr("name",i.attr("name")||""),l=t("<div></div>").addClass(r.wijdropdownTrigger).addClass(r.stateDefault).addClass(r.cornerRight),c=t('<a href="#"></a>'),h=t("<div>").addClass(r.wijmodropdown),p=t("<ul></ul>").addClass(r.wijdropdownList).addClass(r.content).addClass(r.widget).addClass(r.cornerAll).addClass(r.helperReset).appendTo(h);t("<span></span>").addClass(r.icon).addClass(r.iconArrowDown).appendTo(l),s=Math.max(s,a.width()),i.get(0).tabIndex!==""&&c.attr("tabindex",i.attr("tabindex")),i.get(0).disabled!==!1&&(e.options.disabled=!0),e.options.disabled&&(c.addClass(r.stateDisabled),f.addClass(r.stateDisabled)),c.append(f),a.append(u).append(c).append(l),n.ensureDropDownOnBody?h.wrap(t("<div></div>").addClass(r.wijdropdown)).parent().appendTo("body").css("position","absolute"):a.append(h),o+=parseInt(f.css("padding-left").replace(/px/,""),10),o+=parseInt(f.css("padding-right").replace(/px/,""),10),o-=16,a.width(o),e._buildList(p,h,o),e._rightTrigger=l,e._label=f,e._listContainer=h,e._list=p,e._value=i.val(),e._selectedIndex=t("option",i).index(i.find("option:selected")),e._selectWrap=u,e._labelWrap=c,e._container=a,a.attr("title",i.attr("title")),i.removeAttr("title")},n.prototype._buildList=function(e,n,r){var i=this,s=i.options.wijCSS,o=i.element,u;n.show(),o.children().each(function(n,r){var o=t(r),u,a,f;return o.is("option")?e.append(i._buildItem(o)):(u=t("<li></li>").addClass(s.wijdropdownOptgroup),a=t("<span>"+o.attr("label")+"</span>").addClass(s.wijdropdownOptgroupHeader).addClass(s.priorityPrimary),f=t("<ul></ul>").addClass(s.helperReset).addClass(s.wijdropdownItems),o.children("option").each(function(){return f.append(i._buildItem(t(this))),this}),u.append(a).append(f),e.append(u)),this}),n.height(""),u=n.height(),u=e.outerHeight()<u?e.outerHeight():u,n.css({height:u,width:r}),t.browser.msie&&/^[8]\.[0-9]+/.test(t.browser.version)?e.setOutWidth(r-19):e.setOutWidth(r-18),n.data("wijmoWijsuperpanel")?(n.wijsuperpanel("paintPanel"),i.superpanel=n.data("wijmoWijsuperpanel")):i.superpanel=n.wijsuperpanel().data("wijmoWijsuperpanel"),t.fn.bgiframe&&i.superpanel.element.bgiframe(),i.superpanel.vNeedScrollBar||(t.browser.msie&&/^[8]\.[0-9]+/.test(t.browser.version)?e.setOutWidth(r-1):e.setOutWidth(r),i.superpanel.refresh()),n.hide()},n.prototype._handelEvents=function(e){var t=this,n=t.options.wijCSS,r="."+t.widgetName,i=t.element;e.bind("click"+r,function(n){if(t.options.disabled)return;t._listContainer.is(":hidden")?t._show():t._hide(),i.click(),e.get(0)===t._label.get(0)?n.preventDefault():t._labelWrap.focus()}).bind("mouseover"+r,function(){if(t.options.disabled)return;t._label.addClass(n.stateHover),t._rightTrigger.addClass(n.stateHover),i.trigger("mouseover")}).bind("mouseout"+r,function(){if(t.options.disabled)return;t._label.removeClass(n.stateHover),t._rightTrigger.removeClass(n.stateHover),i.trigger("mouseout")}).bind("mousedown"+r,function(){if(t.options.disabled)return;t._label.addClass(n.stateActive),t._rightTrigger.addClass(n.stateActive),i.trigger("mousedown")}).bind("mouseup"+r,function(){if(t.options.disabled)return;t._label.removeClass(n.stateActive),t._rightTrigger.removeClass(n.stateActive),i.trigger("mouseup")})},n.prototype._bindEvents=function(){var e=this,n=e.options.wijCSS,r="."+e.widgetName,i=e._label,s=e._rightTrigger,o=e._labelWrap,u=e._listContainer,a=e.element,f=!1,l;e._handelEvents(e._label),e._handelEvents(e._rightTrigger),t(window).bind("resize",function(t){e._setListContainerPosition()}),t(document).bind("mouseup"+r,function(t){if(u.is(":hidden")){i.removeClass(n.stateFocus),s.removeClass(n.stateFocus);return}l=u.offset();if(t.target===i.get(0)||t.target===s.get(0)||t.target===s.children().get(0))return;if(t.pageX<l.left||t.pageX>l.left+u.width()||t.pageY<l.top||t.pageY>l.top+u.height())i.removeClass(n.stateFocus),s.removeClass(n.stateFocus),e._hide()}),u.bind("click"+r,function(r){var i=t(r.target);i.closest("li."+n.wijdropdownItem,t(this).get(0)).length>0&&(e._setValue(),u.css("z-index",""),t.browser.msie&&/^[6,7].[0-9]+/.test(t.browser.version)&&u.parent().css("z-index",""),u.hide(),e._setValueToEle()),a.click()}),o.bind("keydown"+r,function(n){if(e.options.disabled)return;var r=t.ui.keyCode;switch(n.which){case r.UP:case r.LEFT:e._previous(),e._setValue(),e._setValueToEle();break;case r.DOWN:case r.RIGHT:e._next(),e._setValue(),e._setValueToEle();break;case r.PAGE_DOWN:e._nextPage(),e._setValue(),e._setValueToEle();break;case r.PAGE_UP:e._previousPage(),e._setValue(),e._setValueToEle();break;case r.ENTER:case r.NUMPAD_ENTER:e._setValue(),e._listContainer.hide(),e._setValueToEle()}n.which!==r.TAB&&n.preventDefault(),a.trigger("keydown")}).bind("focus"+r,function(){if(e.options.disabled)return;i.addClass(n.stateFocus),s.addClass(n.stateFocus),a.focus()}).bind("blur"+r,function(){if(e.options.disabled)return;i.removeClass(n.stateFocus),s.removeClass(n.stateFocus),a.trigger("blur")}).bind("keypress"+r,function(){if(e.options.disabled)return;a.trigger("keypress")}).bind("keyup"+r,function(){if(e.options.disabled)return;a.trigger("keyup")}),f=/chrome/.test(navigator.userAgent.toLowerCase());if(f||t.browser.safari)o.bind("click"+r,function(){o.focus()}),s.bind("mouseout"+r,function(){if(e.options.disabled)return;i.removeClass(n.stateFocus),s.removeClass(n.stateFocus)})},n.prototype._setListContainerPosition=function(){var e=this,t=e.options,n;if(!t.ensureDropDownOnBody)return;n=e._container.offset(),e._listContainer.parent().offset({left:n.left,top:n.top+e._container.outerHeight()})},n.prototype._init=function(){var e=this;e._initActiveItem(),e._activeItem&&e._label.text(e._activeItem.text())},n.prototype._buildItem=function(e){var n=e.val(),r=e.text(),i=this,s=i.options.wijCSS,o;return r===""&&(r="&nbsp;"),o=t("<li></li>").addClass(s.wijdropdownItem).addClass(s.cornerAll).append(t("<span>"+r+"</span>")).mousemove(function(e){var n=t(e.target).closest("."+s.wijdropdownItem);n!==this.last&&i._activate(t(this)),this.last=t(e.target).closest("."+s.wijdropdownItem)}).attr("role","option"),o.data("value",n),o},n.prototype._show=function(){var e=this,n=e._listContainer,r=e.options.showingAnimation;e._setListContainerPosition(),n.css("z-index","100000"),t.browser.msie&&/^[6,7]\.[0-9]+/.test(t.browser.version)&&n.parent().css("z-index","99999"),r?n.show(r.effect,r.options,r.speed,function(){e._initActiveItem()}):n.show()},n.prototype._hide=function(){var e=this,n=e._listContainer,r=e.options.hidingAnimation;if(n.is(":hidden"))return;r?n.hide(r.effect,r.options,r.speed,function(){t.isFunction(r.callback)&&r.callback.apply(e,arguments),t.browser.msie&&/^[6,7]\.[0-9]+/.test(t.browser.version)&&n.parent().css("z-index",""),n.css("z-index","")}):(t.browser.msie&&t.browser.version==="6.0"&&n.parent().css("z-index",""),n.css("z-index",""),n.hide())},n.prototype._setValue=function(){var e=this,n=e.options.wijCSS,r=e._listContainer,i,s;e._activeItem&&(e._label.text(e._activeItem.text()),e._value=e._activeItem.data("value"),e._selectedIndex=t("li."+n.wijdropdownItem,r).index(e._activeItem),e.superpanel.vNeedScrollBar&&(i=e._activeItem.offset().top,s=e._activeItem.outerHeight(),r.offset().top>i?r.wijsuperpanel("scrollTo",0,i-e._list.offset().top):r.offset().top<i+s-r.innerHeight()&&r.wijsuperpanel("scrollTo",0,i+s-r.height()-e._list.offset().top)))},n.prototype._setValueToEle=function(){var e=this,n=e.element,r=n.find(":selected"),i=t("option",n).index(r),s=e._selectedIndex;i!==s&&(t.browser.mozilla&&n.val(e._value),r.removeAttr("selected"),n.find("option:eq("+s+")").prop("selected",!0),n.trigger("change"))},n.prototype._initActiveItem=function(){var e=this,n=e.options.wijCSS;if(e._value!==undefined){if(e._selectedIndex===-1){e._activate(e._list.find("li."+n.wijdropdownItem).eq(0));return}e._list.find("li."+n.wijdropdownItem).each(function(n){if(n===e._selectedIndex)return e._activate(t(this)),!1})}},n.prototype._activate=function(e){var t=this,n=t.options.wijCSS;t._deactivate(),t._activeItem=e,t._activeItem.addClass(n.stateHover).attr("aria-selected",!0)},n.prototype._deactivate=function(){var e=this,t=e.options.wijCSS;e._activeItem&&e._activeItem.removeClass(t.stateHover).attr("aria-selected",!1)},n.prototype._next=function(){this._move("next","first")},n.prototype._previous=function(){this._move("prev","last")},n.prototype._nextPage=function(){this._movePage("first")},n.prototype._previousPage=function(){this._movePage("last")},n.prototype.refresh=function(){var e=this,n=e.options.wijCSS,r=e.element,i;if(e.needInit)e.element.is(":visible")&&(e._activeItem=null,e._createSelect(),e._bindEvents(),e._init(),e.needInit=!1);else{if(!e._list)return;e._listContainer.show(),e._selectWrap.removeClass(n.helperHidden),i=e.element.width(),i+=parseInt(e._label.css("padding-left").replace(/px/,""),10),i+=parseInt(e._label.css("padding-right").replace(/px/,""),10),i-=16,e._container.width(i),e._selectWrap.addClass(n.helperHidden),e._list.empty(),e._buildList(e._list,e._listContainer,i),e._value=e.element.val(),e._selectedIndex=t("option",r).index(r.find("option:selected")),e._initActiveItem(),e._activeItem&&e._label.text(e._activeItem.text())}},n.prototype._move=function(e,t){var n=this,r=n.options.wijCSS,i,s;if(!n._activeItem){n._activate(n._list.find("."+r.wijdropdownItem+":"+t));return}i=n._activeItem[e]().eq(0),i.length?s=n._getNextItem(i,e,t):n._activeItem.closest("."+r.wijdropdownOptgroup).length&&(s=n._getNextItem(n._activeItem.closest("."+r.wijdropdownOptgroup)[e](),e,t)),s&&s.length?n._activate(s):n._activate(n._list.find("."+r.wijdropdownItem+":"+t))},n.prototype._movePage=function(e){var n=this,r=n.options.wijCSS,i,s,o,u=e==="first"?"last":"first";n.superpanel.vNeedScrollBar?(i=n._activeItem.offset().top,s=n.options.height,o=n._list.find("."+r.wijdropdownItem).filter(function(){var n=t(this).offset().top-i+(e==="first"?-s:s)+t(this).height(),r=t(this).height();return n<r&&n>-r}),o.length||(o=n._list.find("."+r.wijdropdownItem+":"+u)),n._activate(o)):n._activate(n._list.find("."+r.wijdropdownItem+":"+(n._activeItem?u:e)))},n.prototype._getNextItem=function(e,t,n){var r=this.options.wijCSS;if(e.length){if(!e.is("."+r.wijdropdownOptgroup))return e;if(!!e.find(">ul>li."+r.wijdropdownItem).length)return e.find(">ul>li."+r.wijdropdownItem+":"+n).eq(0);this._getNextItem(e[t]().eq(0))}},n.prototype.destroy=function(){var t=this,n=t.options.wijCSS;this.element.attr("title",this._container.attr("title")),this.element.closest("."+n.wijdropdown).find(">div."+n.wijdropdownTrigger+",>div."+n.wijmodropdown+",>a").remove(),this._listContainer.remove(),this.element.unwrap().unwrap().removeData("maxZIndex"),e.prototype.destroy.call(this)},n}(e.wijmoWidget);e.wijdropdown=r;var i=function(){function e(){this.initSelector=":jqmData(role='wijdropdown')",this.wijCSS={wijmodropdown:"wijmo-dropdown",wijdropdown:"wijmo-wijdropdown",wijdropdownLabel:"wijmo-dropdown-label",wijdropdownTrigger:"wijmo-dropdown-trigger",wijdropdownList:"wijmo-dropdown-list",wijdropdownOptgroup:"wijmo-dropdown-optgroup",wijdropdownOptgroupHeader:"wijmo-optgroup-header",wijdropdownItems:"wijmo-dropdown-items",wijdropdownItem:"wijmo-dropdown-item"},this.zIndex=1e3,this.showingAnimation={effect:"blind"},this.hidingAnimation={effect:"blind"},this.ensureDropDownOnBody=!1}return e}();r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new i),t.wijmo.registerWidget(n,r.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijcheckbox",r=0,i=function(e){function n(){e.apply(this,arguments),this._csspre="wijcheckbox"}return __extends(n,e),n.prototype._init=function(){var e=this,n=e.element,i=e.options,s,o,u,a,f;n.is(":checkbox")&&(n.attr("id")||(n.attr("id",e._csspre+r),r+=1),n.parent().is("label")?(s=n.parent().wrap(t("<div></div>").addClass(i.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(i.wijCSS.wijcheckbox).addClass(i.wijCSS.widget),o=n.parent(),o.attr("for",n.attr("id")),s.find("."+i.wijCSS.wijcheckboxInputwrapper).append(n),s.append(o)):s=n.wrap(t("<div></div>").addClass(i.wijCSS.wijcheckboxInputwrapper)).parent().wrap("<div></div>").parent().addClass(i.wijCSS.wijcheckbox).addClass(i.wijCSS.widget),u=t("label[for='"+n.attr("id")+"']"),u.length>0&&(s.append(u),u.attr("labelsign","C1")),n.is(":disabled")&&e._setOption("disabled",!0),a=t("<div></div>").addClass(i.wijCSS.wijcheckboxBox).addClass(i.wijCSS.widget).addClass(i.disabled?i.wijCSS.stateDisabled:i.wijCSS.stateDefault).addClass(i.wijCSS.cornerAll).append(t("<span></span>").addClass(i.wijCSS.wijcheckboxIcon)),f=a.children("."+i.wijCSS.wijcheckboxIcon),s.append(a),n.data("iconElement",f),n.data("boxElement",a),n.data("checkboxElement",s),a.removeClass(i.wijCSS.wijcheckboxRelative).attr("role","checkbox").bind("mouseover",function(){n.mouseover(null)}).bind("mouseout",function(){n.mouseout(null)}),(u.length===0||u.html()==="")&&a.addClass(i.wijCSS.wijcheckboxRelative),n.bind("click.checkbox",function(t){if(i.disabled)return;e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.checkbox",function(){if(i.disabled)return;a.removeClass(i.wijCSS.stateDefault).addClass(i.wijCSS.stateFocus)}).bind("blur.checkbox",function(){if(i.disabled)return;a.removeClass(i.wijCSS.stateFocus).not("."+i.wijCSS.stateHover).addClass(i.wijCSS.stateDefault)}).bind("keydown.checkbox",function(t){if(t.keyCode===32){if(i.disabled)return;e.refresh(null)}}),a.bind("click.checkbox",function(t){if(i.disabled)return;n.get(0).checked=!n.get(0).checked,n.change(),n.focus(),e.refresh(t),e._trigger("changed",null,{checked:e.options.checked})}),e._initCheckState(),e.refresh(null),s.bind("mouseover.checkbox",function(e){if(i.disabled)return;a.removeClass(i.wijCSS.stateDefault).addClass(i.wijCSS.stateHover)}).bind("mouseout.checkbox",function(e){if(i.disabled)return;a.removeClass(i.wijCSS.stateHover).not("."+i.wijCSS.stateFocus).addClass(i.wijCSS.stateDefault)}),s.attr("title",n.attr("title")))},n.prototype._create=function(){window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t))},n.prototype._setOption=function(t,n){var r=this,i=r.options.checked;e.prototype._setOption.call(this,t,n),t==="checked"&&(r.element.get(0).checked=n,r.refresh(null),i!==n&&r._trigger("changed",null,{checked:n}))},n.prototype._initCheckState=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&(e.element.get(0).checked=t.checked)},n.prototype.refresh=function(e){var t=this,n=t.options;n.checked=t.element.get(0).checked,t.element.data("iconElement").toggleClass(n.wijCSS.icon+" "+n.wijCSS.iconCheck,t.element.get(0).checked),t.element.data("boxElement").toggleClass(n.wijCSS.stateActive,t.element.get(0).checked).attr("aria-checked",t.element.get(0).checked),t.element.data("checkboxElement").toggleClass(n.wijCSS.stateChecked,t.element.get(0).checked),e&&e.stopPropagation()},n.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijcheckboxBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},n}(e.wijmoWidget);e.wijcheckbox=i;var s=function(){function e(){this.initSelector=":jqmData(role='wijcheckbox')",this.wijCSS={wijcheckbox:"wijmo-checkbox",wijcheckboxBox:"wijmo-checkbox-box",wijcheckboxIcon:"wijmo-checkbox-icon",wijcheckboxInputwrapper:"wijmo-checkbox-inputwrapper",wijcheckboxRelative:"wijmo-checkbox-relative"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-b"},this.checked=null,this.changed=null}return e}();i.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new s),t.wijmo.registerWidget(n,i.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijradio",r="wijmo-wijradio",i=0,s=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){var e=this,n=e.element,r=e.options.wijCSS,s,o,u,a,f,l;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),n.is(":radio")&&(n.attr("id")||(n.attr("id","wijmo-radio-"+i),i+=1),n.parent().is("label")?(o=n.parent().wrap(t("<div></div>").addClass(r.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijradio).addClass(r.widget),u=n.parent(),u.attr("for",n.attr("id")),o.find("."+r.wijradioInputwrapper).append(n),o.append(u)):o=n.wrap(t("<div></div>").addClass(r.wijradioInputwrapper)).parent().wrap("<div></div>").parent().addClass(r.wijradio).addClass(r.widget),a=t("label[for='"+n.attr("id")+"']"),a.length>0&&(o.append(a),a.attr("labelsign","wij")),n.is(":disabled")&&e._setOption("disabled",!0),f=t("<div></div>").addClass(r.wijradioBox).addClass(r.widget).addClass(e.options.disabled?r.stateDisabled:r.stateDefault).addClass(r.cornerAll).append(t("<span></span>").addClass(r.wijradioIcon)),l=f.children("."+r.wijradioIcon),o.append(f),l.addClass(r.icon).addClass(r.iconRadioOn),n.data("iconElement",l),n.data("boxElement",f),n.data("radiobuttonElement",o),f.removeClass(r.wijradioRelative).attr("role","radio").bind("mouseover",function(){n.mouseover(null)}).bind("mouseout",function(){n.mouseout(null)}),(a.length===0||a.html()==="")&&f.addClass(r.wijradioRelative),e._setDefaul(),n.bind("click.radio",function(){if(e.options.disabled)return;s=e.options.checked,e._refresh(),s!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}).bind("focus.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateDefault).addClass(r.stateFocus)}).bind("blur.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateFocus).not("."+r.stateHover).addClass(r.stateDefault)}),o.click(function(){if(e.options.disabled)return;if(a.length===0||a.html()==="")s=e.options.checked,n.attr("checked",!0),e._refresh(),n.change(),s!==e.element.is(":checked")&&e._trigger("changed",null,{checked:e.options.checked})}),o.bind("mouseover.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateDefault).addClass(r.stateHover)}).bind("mouseout.radio",function(){if(e.options.disabled)return;f.removeClass(r.stateHover).not("."+r.stateFocus).addClass(r.stateDefault)}),o.attr("title",n.attr("title")))},n.prototype._setOption=function(t,n){var r=this,i=r.options.checked;e.prototype._setOption.call(this,t,n),t==="checked"&&(r.element.attr("checked",n),r._refresh(),i!==n&&r._trigger("changed",null,{checked:n}))},n.prototype._setDefaul=function(){var e=this,t=e.options;t.checked!==undefined&&t.checked!==null&&this.element.attr("checked",t.checked),this.element.attr("checked")&&(this.element.parents("."+t.wijCSS.wijradio).find("."+t.wijCSS.wijradioBox).children().removeClass(t.wijCSS.iconRadioOn).addClass(t.wijCSS.iconRadioOff),this.element.data("boxElement").removeClass(t.wijCSS.stateDefault).addClass(t.wijCSS.stateActive).attr("aria-checked",!0),this.element.data("radiobuttonElement").addClass(t.wijCSS.stateChecked))},n.prototype._refresh=function(){var e=this.element.attr("name")||"",n=this,r=n.options.wijCSS,i;if(e==="")return;t("[name='"+e+"']").each(function(e,s){return t(s).parents("."+r.wijradio).find("."+r.wijradioBox).children().removeClass(r.iconRadioOff).addClass(r.iconRadioOn),t(s).parents("."+r.wijradio).find("."+r.wijradioBox).removeClass(r.stateActive).addClass(r.stateDefault).attr("aria-checked",!1),t(s).parents("."+r.wijradio).removeClass(r.stateChecked),i=t(s).parents("."+r.wijradio).find(":radio"),i.wijradio("option","checked")&&i[0]!==n.element[0]&&i.wijradio("setCheckedOption",!1),this}),n.element.is(":checked")&&(n.element.data("iconElement").removeClass(r.iconRadioOn).addClass(r.iconRadioOff),n.element.data("boxElement").removeClass(r.stateDefault).addClass(r.stateActive).attr("aria-checked",!0),n.element.data("radiobuttonElement").addClass(r.stateChecked)),n.options.checked=n.element.is(":checked")},n.prototype.setCheckedOption=function(e){var t=this,n=t.options;n.checked!==null&&n.checked!==e&&(n.checked=e,t._trigger("changed",null,{checked:e}))},n.prototype.refresh=function(){this._refresh()},n.prototype.destroy=function(){var t=this,n=t.element.parent().parent();n.children("div."+t.options.wijCSS.wijradioBox).remove(),t.element.unwrap(),t.element.unwrap(),e.prototype.destroy.call(this)},n}(e.wijmoWidget);e.wijradio=s;var o=function(){function e(){this.initSelector=":jqmData(role='wijradio')",this.wijCSS={wijradio:"wijmo-wijradio",wijradioBox:"wijmo-wijradio-box",wijradioIcon:"wijmo-wijradio-icon",wijradioInputwrapper:"wijmo-wijradio-inputwrapper",wijradioRelative:"wijmo-wijradio-relative"},this.checked=null,this.changed=null}return e}();s.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new o),t.wijmo.registerWidget(n,s.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijlist",r="wijmo-wijlist-item",i=r+"-alternate",s=r+"-selected",o=r+"-first",u=r+"-last",a="wijmo-wijlistitem-active",f="item.wijlist",l=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype.removeAll=function(){var e=this;e.items=[],e._refresh()},n.prototype.addItem=function(e,t){var n=this;n._checkData(),t===null||t===undefined?n.items.push(e):n.items&&n.items.splice(t,0,e),n._refresh()},n.prototype.removeItem=function(e){var t=this,n;t._checkData(),n=t.indexOf(e),n>=0&&t.removeItemAt(n)},n.prototype.indexOf=function(e){var t=this,n=-1,r=0,i;t._checkData();for(r=0;r<t.items.length;r++){i=t.items[r];if(i.label===e.label&&i.value===e.value){n=r;break}}return n},n.prototype.findIndexByLabel=function(e){var t=this,n=-1,r=0,i;if(e===null||e===undefined)return n;t._checkData();for(r=0;r<t.items.length;r++){i=t.items[r];if(i.label===e){n=r;break}}return n},n.prototype.removeItemAt=function(e){var t=this;t._checkData(),t.items.splice(e,1),t._refresh()},n.prototype._checkData=function(){var e=this;e.items||(e.items=[])},n.prototype._refresh=function(){var e=this;e.renderList(),e.refreshSuperPanel()},n.prototype._setOption=function(n,r){var i=this,o,u=s+" "+i.options.wijCSS.stateActive,a,f,l;e.prototype._setOption.call(this,n,r);if(n==="disabled")i._handleDisabledOption(r,i.element);else if(n==="selectionMode")o=i.selectedItem,o&&(o.selected=!1,o.element&&o.element.removeClass(u),i.selectedItem=undefined),i.selectedItems&&t.each(i.selectedItems,function(e,t){t.selected=!1,t.element.removeClass(u)}),i.selectedItem=[];else if(n==="listItems")f=i._isBind(),f?(l=i._getRenderItems(),i.setItems(l)):i.setItems(r),i.renderList(),i.refreshSuperPanel();else if(n==="dataSource")f=i._isBind(),f&&(l=i._getRenderItems(),i.setItems(l),i.renderList(),i.refreshSuperPanel());else if(n==="autoSize"||n==="maxItemsCount")!i.options.autoSize&&i.element.is(":visible")&&(i._oriHeight!==0?i.element.height(i._oriHeight):(a=i.ul.outerHeight(),i.element.height(a),t(".wijmo-wijsuperpanel-statecontainer",i.element).height(a),t(".wijmo-wijsuperpanel-contentwrapper",i.element).height(a))),i.refreshSuperPanel()},n.prototype._create=function(){var e=this,n=this.element,r=this.options,i=r.wijCSS,s=i.widget+" "+i.content+" "+i.cornerAll+" wijmo-wijlist",o;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),e._oriHeight=parseInt(n.css("height"),10),n.addClass(s).attr({role:"listbox","aria-activedescendant":a,"aria-multiselectable":r.selectionMode==="multiple"}).bind("click."+e.widgetName,e,e._onListClick),n.is("div")&&n.children().is("ul")&&(e._isInnerData=!0,e._templates=[],t.each(t("ul > li",n),function(t,n){e._templates.push({templateHtml:n.innerHTML})}),e._oriChildren=n.children().hide()),e.ul=t("<ul class='wijmo-wijlist-ul'></ul>").appendTo(n),r.listItems!==null&&(o=e._getRenderItems(),o&&(e.setItems(o),e.renderList(),e.refreshSuperPanel())),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refreshSuperPanel(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijlist"),r.disabled&&(e.disable(),e._handleDisabledOption(!0,e.element))},n.prototype._isBind=function(){var e=this.options,t=e.listItems;return t!==null&&t.label&&t.label.bind?!0:!1},n.prototype._getRenderItems=function(){var e=this.options,n=e.listItems;return n!==null?t.isArray(n)&&n.length>0&&typeof n[0].label=="string"?n:n.label&&n.label.bind?this._getMappingItems():null:null},n.prototype._getMappingItems=function(){var e=this.options,n=e.dataSource,r=e.listItems,i,s,o;return!n||!r?null:!r.label||!r.label.bind||!r.value||!r.value.bind?null:(s=r.label.bind,o=r.value.bind,n&&n.length!==0?(i=[],t.each(n,function(e,t){i.push({label:t[s],value:t[o]})}),i):null)},n.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo("body")):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},n.prototype._createDisabledDiv=function(e){var n=this,r=e||n.element,i=r.offset(),s=r.outerWidth(),o=r.outerHeight();return t("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:s,height:o,left:i.left,top:i.top,"pointer-events":"auto"})},n.prototype.setTemplateItems=function(e){this._setItemsByExtend(e,!0)},n.prototype.setItems=function(e){this._setItemsByExtend(e,!1)},n.prototype._setItemsByExtend=function(e,n){var r=this,i;if(n){if(r._templates&&e&&e.length!==r._templates.length)return;r.items=e,r.items||(r.items=[]),t.each(r._templates,function(t){r.items[t]?r.items[t].templateHtml=r._templates[t].templateHtml:r.items.push({templateHtml:r._templates[t].templateHtml,label:e[t].label,value:e[t].value})})}else r.items=e;if(!e)return null;i=t.grep(e,function(e){return e.selected},undefined),r.options.selectionMode==="single"?(r.selectedItems=[],r.selectedItem=i.length>0?i[0]:undefined):r.selectedItems=i},n.prototype.filterItems=function(e,n,r,i){var o=this,u=o._escapeRegex(e),a,f=s+" "+o.options.wijCSS.stateActive,l=o.options.wijCSS.priorityPrimary,c,h="",p=!1,d=null;if(!this.items)return null;t("li[wijhidden].wijmo-wijlist-item",o.element)&&t("li[wijhidden].wijmo-wijlist-item",o.element).length>0&&(p=!0),t("span."+l,o.element)&&t("span."+l,o.element).length>0&&(p=!0);if(!p&&(!e||e.length===0)){t.each(this.items,function(e,t){t.selected?(o.activate(null,t,!1),t.element&&t.element.addClass(f),o.selectedItem=t):t.element&&t.element.hasClass(f)&&t.element.removeClass(f)});return}return a=new RegExp(u,"i"),t.each(this.items,function(e,i){c=i.label,i.templateHtml?c=i.templateHtml:i.text!==undefined&&(c=i.text),t("span."+l,i.element).length>0&&i.element.empty().append(c);var s=a.exec(i.label);s===null&&n?i.element&&(i.element.hide(),i.element.attr("wijhidden","wijhidden")):(i.selected?(o.activate(null,i,!1),i.element&&i.element.addClass(f),o.selectedItem=i):i.element&&i.element.hasClass(f)&&i.element.removeClass(f),r&&(h=c.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+u+")(?![^<>]*>)(?![^&;]+;)","gi"),"<span class='"+l+"'>$1</span>"),i.element&&i.element.html(h)),i.element&&!i.element.is(":visible")&&(i.element.show(),i.element.removeAttr("wijhidden")),u!==undefined&&u.length!==0&&d===null&&s&&s.index===0&&(d=i))}),d},n.prototype.popItem=function(){var e=this;e._checkData(),e.items.pop(),e._refresh()},n.prototype.getList=function(){return this.ul},n.prototype._onListClick=function(e){var n=e.data;if(n.options.disabled)return;if(!t(e.target).closest(".wijmo-wijlist-item").length)return;n.select(e)},n.prototype.destroy=function(){var t=this,n=this.element,r=this.options,i=r.wijCSS,s=i.widget+" "+i.content+" "+i.cornerAll+" wijmo-wijlist";t.superPanel!==undefined&&t.superPanel.destroy(),n.removeClass("wijmo-wijobserver-visibility").removeClass(s).removeAttr("role").removeAttr("aria-activedescendant").unbind("."+t.widgetName),t.ul.remove(),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),t._isInnerData&&t._oriChildren.show(),e.prototype.destroy.call(this)},n.prototype.activate=function(e,t,n){var r=this,i,s;r.deactivate();if(t===null||t===undefined)return;if(r._trigger("focusing",e,t)===!1)return;i=r.active=t,s=t.element,s&&(r.options.addHoverItemClass&&s.addClass(r.options.wijCSS.stateHover),s.attr("id",a)),n&&r.superPanel!==undefined&&r.superPanel.scrollChildIntoView(s),r.element.is(":visible")&&r._trigger("focus",e,t)},n.prototype.deactivate=function(){var e=this,t=e.active,n;if(!t)return;n=t.element,e._trigger("blur",null,t),n&&n.removeClass(e.options.wijCSS.stateHover).removeAttr("id"),e.active=undefined},n.prototype.next=function(e){this.move("next","."+r+":first",e)},n.prototype.nextPage=function(){this.superPanel.doScrolling("bottom",!0)},n.prototype.previous=function(e){this.move("prev","."+r+":last",e)},n.prototype.previousPage=function(){this.superPanel.doScrolling("top",!0)},n.prototype.first=function(){return this.active&&!this.active.element.prev().length},n.prototype.last=function(){return this.active&&!this.active.element.next().length},n.prototype.move=function(e,t,n){var i=this,s,o;if(!i.active){s=i.ul.children(":visible"+t).data(f),i.activate(n,s,!0);return}o=i.active.element[e+"All"](":visible."+r).eq(0),o.length?i.activate(n,o.data(f),!0):i.activate(n,i.element.children(t).data(f),!0)},n.prototype.select=function(e,n){var r=this,i,o,u=s+" "+r.options.wijCSS.stateActive,a,l,c;if(r.active===undefined){r.active=t(t(e.target).closest(".wijmo-wijlist-item")).data(f);if(r.active===undefined)return}i=r.active.element;if(i===undefined||i.attr("wijhidden"))return;a=i.data(f);if(!a)return;l=r.options.selectionMode==="single",l?(c=r.selectedItem,i.addClass(u).attr("aria-selected","true"),a.selected=!0,c!==undefined&&a!==c&&(c.selected=!1,c.element&&c.element.removeClass(u).removeAttr("aria-selected")),r.selectedItem=a,o=t.inArray(a,r.items),r._trigger("selected",e,{item:a,previousItem:c,selectedIndex:o,data:n})):(a.selected=!a.selected,a.selected?i.addClass(u).attr("aria-selected","true"):i.removeClass(u).removeClass("wijmo-wijcombobox-selecteditem").removeAttr("aria-selected","true"),o=[],r.selectedItems=t.grep(r.items,function(e,t){return e.selected&&o.push(t),e.selected},undefined),r._trigger("selected",e,{selectedIndex:o,item:a,selectedItems:r.selectedItems}))},n.prototype._findItemsByValues=function(e){var n,r=[];return r=t.grep(this.items,function(t,r){n=!1;for(var i=0;i<e.length;i++)t.value===e[i]&&(n=!0);return n},undefined),r},n.prototype._findItemsByIndices=function(e){var n=this,r=this.items.length,i=[];return t.each(e,function(e,t){t>=0&&t<r&&i.push(n.items[t])}),i},n.prototype.getItems=function(e,n){var r=this,i,s,o,u;s=t.isArray(e),i=!s&&typeof e=="number"||s&&typeof e[0]=="number",o=s?e:[e];if(!n)u=r._findItemsByValues(o);else{if(!i)return null;u=r._findItemsByIndices(o)}return u},n.prototype.selectItems=function(e,n,r){var i=this,o=this.options.selectionMode==="single",u=s+" "+i.options.wijCSS.stateActive,a,f,l;l=i.getItems(e,r),o?(l.length>0&&(a=l[0],a.selected=!0,a.element.addClass(u)),f=i.selectedItem,f&&(f.selected=!1,f.element.removeClass(u)),i.selectedItem=a,n&&i._trigger("selected",null,{item:a,previousItem:f})):(t.each(l,function(e,t){t.selected=!0,t.element.addClass(u)}),i.selectedItems=t.grep(i.items,function(e){return e.selected},undefined),n&&i._trigger("selected",null,{selectedItems:i.selectedItems}))},n.prototype.unselectItems=function(e){var n=this,r=this.options.selectionMode,i=s+" "+n.options.wijCSS.stateActive,o,u;if(r==="single")o=n.selectedItem,o&&(o.selected=!1,o.element.removeClass(i),n.selectedItem=undefined);else{u=n.getItems(e,!0);if(!u||u.length===0)return;t.each(u,function(e,t){t.selected=!1,t.element.removeClass(i)}),n.selectedItems=t.grep(n.items,function(e){return e.selected},undefined)}},n.prototype.renderList=function(){var e=this,t=this.ul,n=this.options,r,i,s,a,f;t.empty(),r=e.items;if(r===undefined||r===null)return;i=r.length;if(i===0)return;s=n.selectionMode==="single";for(a=0;a<i;a++)f=r[a],e._renderItem(t,f,a,s);i>0&&(r[0].element&&r[0].element.addClass(o),r[i-1].element&&r[i-1].element.addClass(u)),e._trigger("listRendered",null,e)},n.prototype._renderItem=function(e,n,r,o){var u=this,a=t("<li role='option' class='wijmo-wijlist-item "+u.options.wijCSS.cornerAll+"'></li>"),l=s+" "+u.options.wijCSS.stateActive,c,h;n.element=a,n.list=u;if(u._trigger("itemRendering",null,n)===!1)return;return c=n.label,n.title&&a.attr("title",n.title),n.templateHtml?c=n.templateHtml:n.text!==undefined&&(c=n.text),a.bind("mouseover",function(e){if(u.options.disabled)return;u.activate(e,n,!1)}).bind("mouseout",function(){if(u.options.disabled)return;u.options.keepHightlightOnMouseLeave||u.deactivate()}).data(f,n).append(c).appendTo(e),u._isInnerData||(h=n.imageUrl,h!==undefined&&h.length>0&&a.prepend("<img src='"+n.imageUrl+"'>")),n.selected&&(u.activate(null,n,!1),a.addClass(l)),r%2===1&&a.addClass(i),u._trigger("itemRendered",null,n),a},n.prototype._escapeRegex=function(e){return e===undefined?e:e.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")},n.prototype.adjustOptions=function(){var e=this.options,t;if(e.data!==null)for(t=0;t<e.listItems.length;t++)delete e.listItems[t].element,delete e.listItems[t].list;return e},n.prototype.refreshSuperPanel=function(){var e=this,n=this.element,r=this.options,i=this.ul,s=i.children(".wijmo-wijlist-item:first"),o,u,a,f=null,l,c,h,p,d,v,m;if(!n.is(":visible"))return!1;u=i.outerHeight(),a=n.innerWidth(),r.autoSize&&(f=s.outerHeight(!0)*r.maxItemsCount),f!==null&&n.height(Math.min(f,u)),l=n.innerHeight(),c=l/(u-l),d=101*c/(1+c),h=s.outerHeight()/(u-l)*(101-d),e.superPanel===undefined?(v={allowResize:!1,keyboardSupport:!1,bubbleScrollingEvent:!0,hScroller:{scrollBarVisibility:"hidden"},vScroller:{scrollSmallChange:h,scrollLargeChange:d}},t.extend(v,r.superPanelOptions),e.superPanel=n.wijsuperpanel(v).data("wijmoWijsuperpanel"),e.superPanel&&e.superPanel.vNeedScrollBar&&(i.setOutWidth(a-18),e.superPanel.refresh())):(p=e.superPanel.options.vScroller,p.scrollLargeChange=d,p.scrollSmallChange=h,e.superPanel.paintPanel(),e.superPanel.vNeedScrollBar?(i.setOutWidth(a-18),e.superPanel.refresh()):(i.setOutWidth(n.outerWidth()),o=n.children(".wijmo-wijsuperpanel-header").outerHeight(),o!==null&&o!==undefined&&n.height(u+o),e.superPanel.refresh())),m=i.css("padding-top"),m.length>0?(p=e.superPanel.options.vScroller,p.firstStepChangeFix=e.superPanel.scrollPxToValue(parseFloat(m),"v")):p.firstStepChangeFix=0,i.setOutWidth(i.parent().parent().innerWidth()),r.disabled&&e.disabledDiv&&e.disabledDiv.css("left",n.offset().left).css("top",n.offset().top).css("width",n.outerWidth()).css("height",n.outerHeight())},n}(e.wijmoWidget);e.wijlist=l;var c=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-up-b",stateActive:"ui-btn-down-b"},this.initSelector=":jqmData(role='wijlist')",this.dataSource=null,this.listItems=[],this.selected=null,this.selectionMode="single",this.autoSize=!1,this.maxItemsCount=5,this.addHoverItemClass=!0,this.superPanelOptions=null,this.disabled=!1,this.focusing=null,this.focus=null,this.blur=null,this.itemRendering=null,this.itemRendered=null,this.listRendered=null,this.keepHightlightOnMouseLeave=!1}return e}();l.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new c),t.wijmo.registerWidget("wijlist",l.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijcalendar",r={general:0,weekEnd:1,otherMonth:2,outOfRange:4,today:8,custom:16,disabled:32,selected:64,gap:128},i=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){var e=this,n=e.options.wijCSS;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),t.isFunction(window.wijmoASPNetParseOptions)&&wijmoASPNetParseOptions(this.options),this.element.addClass("wijmo-wijcalendar  "+n.datepickerInline+" "+n.datepicker+" "+n.widget+" "+n.content+" "+n.helperClearFix+" "+n.cornerAll).attr("role","grid"),this._previewWrapper(this.options.allowPreview),this.element.data("preview.wijcalendar",!1),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e.refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijcalendar")},n.prototype._init=function(){if(this.options.popupMode){var e={autoHide:!!this.options.autoHide,showing:undefined,shown:undefined,hiding:undefined,hidden:undefined},t=this;this.options.beforePopup&&(e.showing=this.options.beforePopup),this.options.afterPopup&&(e.shown=this.options.afterPopup),this.options.beforeClose&&(e.hiding=this.options.beforeClose),e.hidden=function(e){t.element.removeData("lastdate.wijcalendar"),t.options.afterClose&&t.options.afterClose.call(e)},this.element.wijpopup(e)}this._getSelectedDates(),this._getDisabledDates(),this._resetWidth(),this.refresh()},n.prototype.destroy=function(){var n=this.options.wijCSS;e.prototype.destroy.call(this),this.close(),this.element.html(""),this.element.removeClass("wijmo-wijcalendar "+n.datepickerInline+" "+n.datepicker+" "+n.widget+" "+n.content+" "+n.helperClearFix+" "+n.cornerAll+" "+n.datepickerMulti).removeAttr("role");var r=this;t.each(["preview","disableddates","selecteddates","dragging","lastdate","animating"],function(e,t){r.element.removeData(t+".wijcalendar")}),this._previewWrapper(!1)},n.prototype._setOption=function(t,n){e.prototype._setOption.call(this,t,n);switch(t){case"showWeekDays":case"showWeekNumbers":case"showTitle":case"showOtherMonthDays":case"selectionMode":this.unSelectAll(),this._resetWidth(),this.refresh();break;case"culture":this.refresh();break;case"allowPreview":this._previewWrapper(n),this.refresh();break;case"monthCols":this._myGrid&&(this._myGrid=undefined),this._resetWidth(),this.refresh();break;case"monthRows":this._myGrid&&(this._myGrid=undefined);break;case"autoHide":this.element.wijpopup({autoHide:this.options.autoHide});break;case"selectedDates":this._getSelectedDates().setDates(n),this.refresh();break;case"disabledDates":this._getDisabledDates().setDates(n),this.refresh();break;case"displayDate":this.refresh()}},n.prototype._previewWrapper=function(e){e?this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")||this.element.wrap("<div class='wijmo-wijcalendar-preview-wrapper "+this.options.wijCSS.helperClearFix+"'></div>"):this.element.parent().hasClass("wijmo-wijcalendar-preview-wrapper")&&this.element.unwrap()},n.prototype._isRTL=function(){return!!this._getCulture(null).isRTL},n.prototype.refresh=function(){this.element.empty().append(this._createCalendar()),this.element[(this._isRTL()?"add":"remove")+"Class"](this.options.wijCSS.datepickerRtl),this.options.showTitle?this.element.removeClass("wijmo-wijcalendar-notitle"):this.element.addClass("wijmo-wijcalendar-notitle"),this._bindEvents()},n.prototype.refreshDate=function(e){if(!this._monthViews)return;if(e<this._groupStartDate||e>this._groupEndDate)return;t.each(this._monthViews,function(){this._refreshDate(e)})},n.prototype.getDisplayDate=function(){var e=this.options.displayDate?this.options.displayDate:new Date;return u.isSameDate(e,new Date(1900,0,1))&&(e=new Date),e},n.prototype.getSelectedDate=function(){var e=this.options.selectedDates;return!e||e.length===0?null:e[0]},n.prototype.selectDate=function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().add(e),this.refreshDate(e),!0)},n.prototype.unSelectDate=function(e){return e=new Date(e),this._getDisabledDates().contains(e)?!1:e<this.options.minDate||e>this.options.maxDate?!1:(this._getSelectedDates().remove(e),this.refreshDate(e),!0)},n.prototype.unSelectAll=function(){var e=this.options.selectedDates,t;if(e&&e.length>0){this._getSelectedDates().clear();for(t=0;t<e.length;t++)this.refreshDate(e[t])}},n.prototype._slideToDate=function(e){if(u.isSameMonth(this.getDisplayDate(),e))return;var t=this.element.is(":visible");if(!t)this.options.displayDate=e;else{if(this._trigger("beforeSlide")===!1)return;this._isSingleMonth()?this._playSlideAnimation(e):this._playMmSlideAnimation(e)}},n.prototype.isPopupShowing=function(){return this.options.popupMode?this.element.wijpopup("isVisible"):!1},n.prototype.popup=function(e){this._myGrid=undefined,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijmoWijpopup")&&this.element.wijpopup("show",e)},n.prototype.popupAt=function(e,t){this._myGrid=undefined,this.refresh(),this.element.data("dragging.wijcalendar",!1),this.element.data("wijmoWijpopup")&&this.element.wijpopup("showAt",e,t)},n.prototype.close=function(){this.isPopupShowing()&&this.element.wijpopup("hide")},n.prototype._getCulture=function(e){return Globalize.findClosestCulture(e||this.options.culture)},n.prototype._getDates=function(e){var t=e.toLowerCase()+".wijcalendar",n=this.element.data(t);return n===undefined&&(n=new f(this,e),this.element.data(t,n)),n},n.prototype._getDisabledDates=function(){return this._getDates("disabledDates")},n.prototype._getSelectedDates=function(){return this._getDates("selectedDates")},n.prototype._onDayDragStart=function(e){return e.preventDefault(),e.stopPropagation(),!1},n.prototype._onDayMouseDown=function(e){e.preventDefault(),e.stopPropagation();var n=this.options,r=this,i,s,o=!1,u=n.selectedDates,a=!1,f=[];return e.which!==1?!1:(i=this._getCellDate(e.currentTarget),i===undefined?!1:n.selectionMode.day?(s={date:i},this._trigger("beforeSelect",null,s)===!1?!1:((!n.selectionMode.days||!e.metaKey&&!e.shiftKey&&!e.ctrlKey)&&this.unSelectAll(),!n.selectionMode.days||(e.shiftKey&&this.element.data("lastdate.wijcalendar")?(this._selectRange(this.element.data("lastdate.wijcalendar"),i,null),o=!0):e.ctrlKey&&(this.element.data("lastdate.wijcalendar",i),t.each(u,function(e,t){if(i.getFullYear()===t.getFullYear()&&i.getMonth()===t.getMonth()&&i.getDate()===t.getDate())return a=!0,!1}),a?this.unSelectDate(i):this.selectDate(i),u=n.selectedDates,t.each(u,function(e,t){f.push(new Date(t))}),this._trigger("selectedDatesChanged",null,{dates:f}),o=!0)),o||(this.element.data("lastdate.wijcalendar",i),o=this.selectDate(i),this._trigger("selectedDatesChanged",null,{dates:[i]})),o&&(this._trigger("afterSelect",null,s),!n.selectionMode.days||(this.element.data("dragging.wijcalendar",!0),t(document.body).bind("mouseup."+this.widgetName,function(){t(document.body).unbind("mouseup."+r.widgetName),r.element.data("dragging.wijcalendar",!1)}))),!1)):!1)},n.prototype._onMouseUp=function(e){return e.preventDefault(),e.stopPropagation(),this.element.data("dragging.wijcalendar",!1),!1},n.prototype._onDayClicked=function(e){var n=this._getCellDate(e.currentTarget);return n===undefined?!1:this.options.selectionMode.day?(this.isPopupShowing()?this.close():t(e.currentTarget).hasClass(this.options.wijCSS.datepickerOtherMonth)&&this._slideToDate(n),!1):!1},n.prototype._onDayMouseEnter=function(e){t(e.currentTarget).attr("state","hover"),this._refreshDayCell(e.currentTarget);if(!!this.element.data("dragging.wijcalendar")){var n=this._getCellDate(e.currentTarget);if(n===undefined)return;this.unSelectAll(),this._selectRange(this.element.data("lastdate.wijcalendar"),n,!0)}},n.prototype._onDayMouseLeave=function(e){t(e.currentTarget).attr("state","normal"),this._refreshDayCell(e.currentTarget)},n.prototype._selectRange=function(e,t,n){if(e!==undefined&&e!==new Date(1900,1,1)){var r=e,i=t,s=[];e>t&&(i=e,r=t);for(;;){if(r>i)break;this.selectDate(r),s[s.length]=r,r=u.addDays(r,1)}n||this.element.removeData("lastdate.wijcalendar"),this._trigger("selectedDatesChanged",null,{dates:s})}else this.selectDate(e),this._trigger("selectedDatesChanged",null,{dates:[e]});return!0},n.prototype._getCellDate=function(e){var n=t(e).attr("date");return n===undefined?n:new Date(n)},n.prototype._getParentTable=function(e){var n=t(e).parents("table");return n.length===0?undefined:n.get(0)},n.prototype._initMonthSelector=function(e){if(t(e).data("cells")!==undefined)return;var n=e.id.split("_"),r,i,s=[],o,u,a,f,l;if(n[n.length-1]!=="ms")throw Error.create("not a monthview");r=n.slice(0,n.length-1).join("_"),i=this._getParentTable(e);if(i){if(i.id!==r)throw Error.create("not a monthview");for(o=0;o<i.rows.length;o++){l=i.rows[o];for(u=0;u<l.cells.length;u++)a=l.cells[u],a&&(f=t(a).attr("daytype"),f!==undefined&&t(a).find("a").hasClass(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(f,10))&&(s[s.length]=a))}}t(e).data("cells",s)},n.prototype._onMonthSelectorClicked=function(e){this._initMonthSelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r=[],i,s,o,u;this.element.removeData("lastdate.wijcalendar"),this.unSelectAll();for(i=0;i<n.length;i++)s=n[i],o=t(s).attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},n.prototype._onMonthSelectorMouseEnter=function(e){this._initMonthSelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r;for(r=0;r<n.length;r++)e.currentTarget=n[r],this._onDayMouseEnter(e)},n.prototype._onMonthSelectorMouseLeave=function(e){this._initMonthSelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r;for(r=0;r<n.length;r++)e.currentTarget=n[r],this._onDayMouseLeave(e)},n.prototype._initWeekDaySelector=function(e){if(t(e).data("cells")!==undefined)return;var n=e.id.split("_"),r,i,s,o=[],u=0,a,f,l;if(n[n.length-2]!=="cs")throw Error.create("not a column");r=parseInt(n[n.length-1],10),i=n.slice(0,n.length-2).join("_"),s=this._getParentTable(e);if(s){if(s.id!==i)throw Error.create("not a column");this.options.showWeekDays&&u++;for(;u<s.rows.length;u++)a=s.rows[u],r<a.cells.length&&(f=a.cells[r],f&&(l=t(f).attr("daytype"),l!==undefined&&t(f).find("a").hasClass(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(l,10))&&(o[o.length]=f)))}t(e).data("cells",o)},n.prototype._onWeekDayClicked=function(e){this._initWeekDaySelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r=[],i,s,o,u;this.unSelectAll();for(i=0;i<n.length;i++)s=t(n[i]),o=s.attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},n.prototype._onWeekDayMouseEnter=function(e){this._initWeekDaySelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r;for(r=0;r<n.length;r++)e.currentTarget=n[r],this._onDayMouseEnter(e)},n.prototype._onWeekDayMouseLeave=function(e){this._initWeekDaySelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r;for(r=0;r<n.length;r++)e.currentTarget=n[r],this._onDayMouseLeave(e)},n.prototype._initWeekNumberSelector=function(e){if(t(e).data("cells")!==undefined)return;var n=e.id.split("_"),r,i,s,o=[],u,a,f,l;if(n[n.length-2]!=="rs")throw Error.create("not a row");r=parseInt(n[n.length-1],10),i=n.slice(0,n.length-2).join("_"),s=this._getParentTable(e);if(s){if(s.id!==i)throw Error.create("not a row");u=s.rows[r];if(u){a=0,this.options.showWeekNumbers&&a++;for(;a<u.cells.length;a++)f=u.cells[a],f&&(l=t(f).attr("daytype"),l!==undefined&&t(f).find("a").hasClass(this.options.wijCSS.prioritySecondary)===!1&&this._isSelectable(parseInt(l,10))&&(o[o.length]=f))}}t(e).data("cells",o)},n.prototype._onWeekNumberClicked=function(e){this._initWeekNumberSelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r=[],i,s,o,u;this.unSelectAll();for(i=0;i<n.length;i++)s=t(n[i]),o=s.attr("date"),o!==undefined&&(u=new Date(o),this.selectDate(u),r[r.length]=u);return this._trigger("selectedDatesChanged",null,{dates:r}),this.isPopupShowing()&&this.close(),!1},n.prototype._onWeekNumberMouseEnter=function(e){this._initWeekNumberSelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r;for(r=0;r<n.length;r++)e.currentTarget=n[r],this._onDayMouseEnter(e)},n.prototype._onWeekNumberMouseLeave=function(e){this._initWeekNumberSelector(e.currentTarget);var n=t(e.currentTarget).data("cells"),r;for(r=0;r<n.length;r++)e.currentTarget=n[r],this._onDayMouseLeave(e)},n.prototype._isAnimating=function(){return!!this.element.data("animating.wijcalendar")},n.prototype._onPreviewMouseEnter=function(e){if(!!this.element.data("previewContainer"))return;if(this._isAnimating())return;var n=t(e.currentTarget),r=n.attr("id"),i=this.getDisplayDate(),s=this.options.wijCSS,o=this.options.monthCols*this.options.monthRows,a=t("<div/>");if(r===undefined)return;r==="prevPreview"&&(o=-o),this.options.displayDate=u.addMonths(i,o),this.element.data("preview.wijcalendar",!0),a.appendTo(document.body),a.hide(),a.addClass("wijmo-wijcalendar "+s.datepickerInline+" "+s.datepicker+" "+s.widget+" "+s.content+" "+s.helperClearFix+" "+s.cornerAll),a.append(this._createCalendar()),this.options.displayDate=i,this.element.data("preview.wijcalendar",!1),this._createMonthViews(),a.wijpopup({showEffect:"slide",showOptions:{direction:r==="prevPreview"?"right":"left"},hideEffect:"slide",hideOptions:{direction:r==="prevPreview"?"right":"left"}}),a.wijpopup("show",{my:r==="prevPreview"?"right top":"left top",at:r==="prevPreview"?"left top":"right top",of:n}),this.element.data("previewContainer",a)},n.prototype._onPreviewMouseLeave=function(e){var n=t(e.currentTarget),r=n.attr("id"),i=this.element.data("previewContainer"),s=this;if(r===undefined)return;i&&(i.wijpopup("isAnimating")?window.setTimeout(function(){s._onPreviewMouseLeave(e)},200):(i.wijpopup("hide"),this.element.removeData("previewContainer")))},n.prototype._resetWidth=function(){this._myGrid||(this.element.css("height",""),this.options.monthCols>1?(this.element.css("width",17*this.options.monthCols+"em"),this.element.addClass(this.options.wijCSS.datepickerMulti)):(this.element.css("width",""),this.element.removeClass(this.options.wijCSS.datepickerMulti)))},n.prototype._playMmSlideAnimation=function(e){var n=this.element.width(),r=this.element.height(),i=this.getDisplayDate(),s,o,u,a=this.options.direction||"horizontal",f=this,l,c;this.element.height(r),this.element.wrapInner("<div class='wijmo-wijcalendar-multi-aniwrapper'></div>"),s=this.element.find(">:first-child").width(n).height(r),o=s.clone(!1),o.hide(),this.options.displayDate=e,this._createMonthViews(),o.empty().append(this._createMonthGroup()),o.appendTo(this.element),u=e>i,this.element.data("animating.wijcalendar",!0),t.effects?(s.effect("slide",{mode:"hide",direction:a==="horizontal"?u?"left":"right":u?"up":"down",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){s.remove()}),o.effect("slide",{direction:a==="horizontal"?u?"right":"left":u?"down":"up",easing:this.options.easing||"easeOutBack",duration:this.options.duration},function(){while(o.parent().is(".wijmo-wijcalendar-multi-aniwrapper"))o.parent().replaceWith(o);o.replaceWith(o.contents()),f.element.height(""),f._bindEvents(),f.element.data("animating.wijcalendar",!1),f._trigger("afterSlide")})):(a==="horizontal"?(l={width:0},c={width:"100%"}):(l={height:0},c={height:"100%"}),s.animate(l,this.options.duration,null,function(){s.remove()}),o.animate(c,this.options.duration,null,function(){while(o.parent().is(".wijmo-wijcalendar-multi-aniwrapper"))o.parent().replaceWith(o);o.replaceWith(o.contents()),f.element.height(""),f._bindEvents(),f.element.data("animating.wijcalendar",!1),f._trigger("afterSlide")}))},n.prototype._playSlideAnimation=function(e){if(!this._isSingleMonth())return;var n=this,r=this.getDisplayDate(),i=n.options.wijCSS,s=this.element.find("."+i.datepickerCalendar),o,u,f=1,l=this.options.direction||"horizontal",c=e>r,h=[],p,d,v;s.parent().is(".wijmo-wijcalendar-aniwrapper")?o=s.parent():(o=t.createWrapper(s).css({overflow:"hidden"}),o.removeClass(i.effectsWrapper),o.addClass("wijmo-wijcalendar-aniwrapper")),o.parent().is(".wijmo-wijcalendar-aniwrapper")?u=o.parent():(u=t.createWrapper(o).css({overflow:"hidden"}),u.removeClass(i.effectsWrapper),u.addClass("wijmo-wijcalendar-aniwrapper"));if(this._myGrid)switch(this._myGrid.gridType){case"month":f=1;break;case"year":f=10;break;case"decade":f=100}h[h.length]=e,p=s.outerWidth(),d=s.outerHeight(),l==="horizontal"?(s.width(p).css("float",c?"left":"right"),o.width((h.length+1)*p),o.css("left",c?0:-h.length*p).css("position","absolute")):(o.width(p),o.css("top",c?0:-h.length*d).css("position","absolute"),o.height((h.length+1)*d)),t.each(h,function(e,r){if(n._myGrid===undefined){var i=new a(n,r),s=n._customize(i.getHtml(!0));l==="horizontal"?s.width(p).css("float",c?"left":"right").appendTo(o):s.appendTo(o)}else l==="horizontal"?t(n._myGrid.getHtml(r,!0)).width(p).height(d).css("float",c?"left":"right").appendTo(o):t(n._myGrid.getHtml(r,!0)).height(d).appendTo(o)}),this.options.displayDate=e,this._myGrid===undefined&&this._createMonthViews(),this._refreshTitle(),this.element.data("animating.wijcalendar",!0),t.effects?o.effect("slide",{mode:"hide",direction:l==="horizontal"?c?"left":"right":c?"up":"down",easing:this.options.easing||"easeOutBack",distance:(l==="horizontal"?p:d)*h.length,duration:this.options.duration},function(){s=o.children(":last");while(s.parent().is(".wijmo-wijcalendar-aniwrapper"))s.parent().replaceWith(s);s.css({"float":"",width:""}),n._bindEvents(),n.element.data("animating.wijcalendar",!1),n._trigger("afterSlide")}):(l==="horizontal"?v={width:0}:v={height:0},o.animate(v,this.options.duration,null,function(){s=o.children(":last");while(s.parent().is(".wijmo-wijcalendar-aniwrapper"))s.parent().replaceWith(s);s.css({"float":"",width:""}),n._bindEvents(),n.element.data("animating.wijcalendar",!1),n._trigger("afterSlide")}))},n.prototype._onTitleClicked=function(){if(!this.options.allowQuickPick||!this._isSingleMonth())return;if(this._isAnimating())return;if(this._myGrid===undefined)this._myGrid=new l(this);else switch(this._myGrid.gridType){case"month":this._myGrid.gridType="year";break;case"year":this._myGrid.gridType="decade";break;case"decade":return}this._refreshTitle(),this.element.width(this.element.width()).height(this.element.height());var e=this.options.wijCSS,n=this.element.find("."+e.datepickerCalendar),r,i,s,o=n.outerWidth(),u=n.outerHeight(),a,f,c,h,p,d,v=this;n.parent().is(".wijmo-wijcalendar-aniwrapper")?r=n.parent():r=t.createWrapper(n).css({overflow:"hidden"}).removeClass(e.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper"),r.parent().is(".wijmo-wijcalendar-aniwrapper")?i=r.parent():i=t.createWrapper(r).css({overflow:"hidden"}).removeClass(e.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").width(o).height(u),s=t(this._myGrid.getHtml(!0)).css({position:"absolute",top:0,left:0,opacity:0}).appendTo(i).height(u),a=this._myGrid.getSelectedIndex(),f=Math.floor(a/4),c=a-f*4,h=o/4,p=u/3,d={left:h*c,top:p*f,width:h,height:p},n.width("100%").height("100%"),r.css({border:"solid 1px #cccccc"}),this.element.data("animating.wijcalendar",!0),t.effects?r.effect("size",{to:d,duration:this.options.duration||500},function(){r.remove()}):r.animate(d,this.options.duration||500,null,function(){r.remove()}),s.animate({opacity:1},this.options.duration||500,null,function(){s.css({position:"",top:"",left:"",filter:""});while(s.parent().is(".wijmo-wijcalendar-aniwrapper"))s.parent().replaceWith(s);v._bindEvents(),v.element.data("animating.wijcalendar",!1)})},n.prototype._onMyGridClicked=function(e){if(this._myGrid===undefined)return!1;if(this._isAnimating())return!1;var n=t(e.currentTarget),r=parseInt(n.attr("index"),10),i=parseInt(n.attr("value"),10),s=this.options.wijCSS,o=this.element.find("."+s.datepickerCalendar),u,a,f,l,c,h,p,d,v,m=this;if(this._myGrid.gridType!=="month")if(!r||r===11)return!1;return n.hasClass(s.stateActive)||this._myGrid.select(r,i),this._myGrid.gridType==="decade"?this._myGrid.gridType="year":this._myGrid.gridType==="year"?this._myGrid.gridType="month":this._myGrid=undefined,this._refreshTitle(),f=o.outerWidth(),l=o.outerHeight(),o.parent().is(".wijmo-wijcalendar-aniwrapper")?a=o.parent():a=t.createWrapper(o).css({overflow:"hidden"}).removeClass(s.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").width(f).height(l),c=t.extend({},n.position(),{width:n.width(),height:n.height()}),this._myGrid===undefined?(this._createMonthViews(),p=this.getDisplayDate(),d=this._getMonthView(p),h=this._customize(d.getHtml(!0))):h=t(this._myGrid.getHtml(!0)),v=h.height(l).appendTo(a),u=t.createWrapper(v).css({overflow:"hidden"}).removeClass(s.effectsWrapper).addClass("wijmo-wijcalendar-aniwrapper").css(t.extend(c,{border:"solid 1px #cccccc",position:"absolute"})),this.element.data("animating.wijcalendar",!0),u.animate({left:0,top:0,width:f,height:l},this.options.duration||500,null,function(){v.css("width","")}),o.animate({opacity:0},this.options.duration||500,null,function(){o.remove();while(v.parent().is(".wijmo-wijcalendar-aniwrapper"))v.parent().replaceWith(v);m._myGrid===undefined&&m.element.width("").height(""),m._bindEvents(),m.element.data("animating.wijcalendar",!1)}),!1},n.prototype._onMyGridMouseEnter=function(e){if(this._myGrid===undefined)return;var n=t(e.currentTarget),r=parseInt(n.attr("index"),10);if(this._myGrid.gridType!=="month"&&(r<0||r>11))return;n.addClass(this.options.wijCSS.stateHover)},n.prototype._onMyGridMouseLeave=function(e){if(this._myGrid===undefined)return;var n=t(e.currentTarget),r=parseInt(n.attr("index"),10);if(this._myGrid.gridType!=="month"&&(r<0||r>11))return;n.removeClass(this.options.wijCSS.stateHover)},n.prototype._bindEvents=function(){var e=this.options.wijCSS;!this.element.data("preview.wijcalendar")&&!this.options.disabledState&&!this.options.disabled&&(this.element.find("div .wijmo-wijcalendar-navbutton").unbind().bind("mouseout.wijcalendar",function(){var n=t(this);n.removeClass(e.stateHover),n.hasClass(e.datepickerNextHover)?n.removeClass(e.datepickerNextHover):n.hasClass(e.datepickerPrevHover)&&n.removeClass(e.datepickerPrevHover)}).bind("mouseover.wijcalendar",function(){var n=t(this);n.addClass(e.stateHover),n.hasClass(e.datepickerNext)?n.addClass(e.datepickerNextHover):n.hasClass(e.datepickerPrev)&&n.addClass(e.datepickerPrevHover)}).bind("click.wijcalendar",t.proxy(this._onNavButtonClicked,this)),this.element.unbind(".wijcalendar").bind({"mouseup.wijcalendar":t.proxy(this._onMouseUp,this)}),this.element.find("."+e.datepickerTitle).unbind().bind("mouseout.wijcalendar",function(){t(this).removeClass(e.stateHover)}).bind("mouseover.wijcalendar",function(){t(this).addClass(e.stateHover)}).bind("click.wijcalendar",t.proxy(this._onTitleClicked,this)),this.element.find(".wijmo-wijcalendar-prevpreview-button, .wijmo-wijcalendar-nextpreview-button").unbind("mouseenter.wijcalendar").unbind("mouseleave.wijcalendar").bind({"mouseenter.wijcalendar":t.proxy(this._onPreviewMouseEnter,this),"mouseleave.wijcalendar":t.proxy(this._onPreviewMouseLeave,this)}),this._myGrid===undefined?(this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":t.proxy(this._onDayClicked,this),"mouseenter.wijcalendar":t.proxy(this._onDayMouseEnter,this),"mouseleave.wijcalendar":t.proxy(this._onDayMouseLeave,this),"mousedown.wijcalendar":t.proxy(this._onDayMouseDown,this),"dragstart.wijcalendar":t.proxy(this._onDayDragStart,this)}),!this.options.selectionMode.month||this.element.find(".wijmo-wijcalendar-monthselector").unbind().bind({"click.wijcalendar":t.proxy(this._onMonthSelectorClicked,this),"mouseenter.wijcalendar":t.proxy(this._onMonthSelectorMouseEnter,this),"mouseleave.wijcalendar":t.proxy(this._onMonthSelectorMouseLeave,this)}),!this.options.selectionMode.weekDay||this.element.find("."+e.datepickerWeekDay).unbind().bind({"click.wijcalendar":t.proxy(this._onWeekDayClicked,this),"mouseenter.wijcalendar":t.proxy(this._onWeekDayMouseEnter,this),"mouseleave.wijcalendar":t.proxy(this._onWeekDayMouseLeave,this)}),!this.options.selectionMode.weekNumber||this.element.find(".wijmo-wijcalendar-week-num").unbind().bind({"click.wijcalendar":t.proxy(this._onWeekNumberClicked,this),"mouseenter.wijcalendar":t.proxy(this._onWeekNumberMouseEnter,this),"mouseleave.wijcalendar":t.proxy(this._onWeekNumberMouseLeave,this)})):this.element.find(".wijmo-wijcalendar-day-selectable").unbind().bind({"click.wijcalendar":t.proxy(this._onMyGridClicked,this),"mouseenter.wijcalendar":t.proxy(this._onMyGridMouseEnter,this),"mouseleave.wijcalendar":t.proxy(this._onMyGridMouseLeave,this)}))},n.prototype._isSelectable=function(e){var t=this.options;return t.showOtherMonthDays&&e&r.otherMonth||!(e&(r.outOfRange|r.disabled|r.otherMonth))},n.prototype._getCellClassName=function(e,t,n){var i=this.options,s="",o=i.wijCSS.stateDefault,u=!!i.selectionMode.day||!!i.selectionMode.days;return n=n||!1,!n&&!i.disabledState&&!i.disabled&&u&&this._isSelectable(e)&&(s+=" wijmo-wijcalendar-day-selectable"),e&r.weekEnd&&(s+=" "+i.wijCSS.datepickerWeekEnd),e&r.otherMonth&&(s+=" "+i.wijCSS.datepickerOtherMonth,o+=" "+i.wijCSS.prioritySecondary),e&r.outOfRange&&(s+=" wijmo-wijcalendar-outofrangeday",o+=" "+i.wijCSS.prioritySecondary),e&r.gap?s+=" wijmo-wijcalendar-gap":(e&r.disabled&&(s+=" "+i.wijCSS.datepickerUnselectable,o+=" "+i.wijCSS.stateDisabled),e&r.today&&(s+=" "+i.wijCSS.datepickerDaysCellOver+" "+i.wijCSS.datepickerToday,o+=" "+i.wijCSS.stateHighlight),e&r.selected&&(e&(r.outOfRange|r.disabled))===0&&(s+=" "+i.wijCSS.datepickerCurrentDay,o+=" "+i.wijCSS.stateActive),e&r.gap&&(s+=" wijmo-wijcalendar-gap"),e&r.custom&&(s+=" wijmo-wijcalendar-customday")),{cssCell:s,cssText:o}},n.prototype._onNavButtonClicked=function(e){if(this._isAnimating())return!1;var n=1,r=t(e.currentTarget).attr("id"),i=this.getDisplayDate(),s=i;if(this._myGrid===undefined)n=r.indexOf("quick")>=0?this.options.quickNavStep:1,n=r.indexOf("next")>=0?n:-n,n=n*this.options.monthRows*this.options.monthCols,s=u.addMonths(i,n);else{n=r.indexOf("next")>=0?1:-1;switch(this._myGrid.gridType){case"month":s=u.addYears(i,n);break;case"year":s=u.addYears(i,n*10);break;case"decade":s=u.addYears(i,n*100)}}return this._slideToDate(s),!1},n.prototype._getMonthGroupHtml=function(){var e=this.getDisplayDate(),t,n,r,i=this.options.wijCSS,s,a;if(this._isSingleMonth())return t=this._getMonthView(e),t.showPreview=this.options.allowPreview&&!this.element.data("preview.wijcalendar"),t.getHtml();n=100/this.options.monthCols+"%",r=new o;for(s=0;s<this.options.monthRows;s++){for(a=0;a<this.options.monthCols;a++)r.writeBeginTag("div"),r.writeAttribute("class",i.datepickerGroup+(a===0?" "+i.datepickerGroupFirst:"")+(a===this.options.monthCols-1?" "+i.datepickerGroupLast:"")),r.writeAttribute("style","width:"+n),r.writeTagRightChar(),t=this._getMonthView(e),t.showPreview=!1,r.write(t.getHtml()),r.writeEndTag("div"),e=u.addMonths(e,1);r.writeBeginTag("div"),r.writeAttribute("class",i.datepickerRowBreak),r.writeTagRightChar(),r.writeEndTag("div")}return r.toString()},n.prototype._getCalendarHtml=function(){this._createMonthViews();var e=new o;return e.write(this._getMonthGroupHtml()),e.toString()},n.prototype._customizeDayCell=function(e){e.attr("state")===undefined&&e.attr("state","normal");if(e.attr("daytype")===undefined)return;if(e.attr("date")===undefined)return;var t=parseInt(e.attr("daytype"),10),n=new Date(e.attr("date")),r=e.attr("state")==="hover";this.options.customizeDate(e,n,t,r)},n.prototype._customize=function(e){var n=this.options,r=this,i=t(e);return t.isFunction(n.customizeDate)?(t.each(i.find(".wijmo-wijcalendar-day-selectable"),function(e,n){r._customizeDayCell(t(n))}),i):i},n.prototype._createCalendar=function(){return this._customize(t(t.parseHTML(this._getCalendarHtml())))},n.prototype._createMonthGroup=function(){return this._customize(t(this._getMonthGroupHtml()))},n.prototype._getMonthID=function(e){return e.getFullYear()+"_"+(e.getMonth()+1)},n.prototype._createMonthViews=function(){this._monthViews={};var e="",t=this.getDisplayDate(),n,r,i,s;for(n=0;n<this.options.monthRows;n++)for(r=0;r<this.options.monthCols;r++)e=this._getMonthID(t),this._monthViews[e]=new a(this,t),n===0&&(r===0&&(this._monthViews[e].isFirst=!0),r===this.options.monthCols-1&&(this._monthViews[e].isLast=!0)),t=u.addMonths(t,1);t=this.getDisplayDate(),e=this._getMonthID(t),i=this._monthViews[e],i&&(this._groupStartDate=i.getStartDate()),s=this.options.monthRows*this.options.monthCols,s>1&&(t=u.addMonths(t,s-1),e=this._getMonthID(t),i=this._monthViews[e]),i&&(this._groupEndDate=i.getEndDate())},n.prototype._getMonthView=function(e){var t=this._getMonthID(e);return this._monthViews[t]},n.prototype._getId=function(){return this.element.attr("id")},n.prototype._getChildElement=function(e){var t=this.element.find("[id*='"+e+"']");return t.length===0?undefined:t},n.prototype._refreshDayCell=function(e){var n=t(e),i=this.options,s,o,u,a;n.attr("state")===undefined&&n.attr("state","normal");if(n.attr("daytype")===undefined)return;if(n.attr("date")===undefined)return;s=parseInt(n.attr("daytype"),10),o=new Date(n.attr("date")),u=n.attr("state")==="hover",n.attr("class",this._getCellClassName(s,o,undefined).cssCell),n.removeAttr("aria-selected"),s&r.selected&&n.attr("aria-selected",!0);if(t.isFunction(i.customizeDate)&&this._customizeDayCell(n))return;a=n.find("a"),a.length>0&&(a.toggleClass(this.options.wijCSS.stateHover,u),a.toggleClass(this.options.wijCSS.stateActive,(s&r.selected)!==0))},n.prototype._isSingleMonth=function(){return this.options.monthCols*this.options.monthRows===1},n.prototype._splitString=function(e,t,n){if(n===undefined)return e.split(t);var r=[],i=e.split(t),s;for(s=0;s<i.length;s++)s>=n?r[n-1]=r[n-1]+t+i[s]:r.push(i[s]);return r},n.prototype._getNavButtonHtml=function(e,t,n,r){var i=new o;return i.writeBeginTag("a"),i.writeAttribute("id",e),i.writeAttribute("class",t),i.writeAttribute("role","button"),i.writeAttribute("href","#"),r&&(i.writeAttribute("title",r),i.writeAttribute("aria-label",r)),i.writeTagRightChar(),i.writeBeginTag("span"),i.writeAttribute("class",n),i.writeTagRightChar(),r&&i.write(r),i.writeEndTag("span"),i.writeEndTag("a"),i.toString()},n.prototype._getTitleText=function(e){if(this._myGrid!==undefined)return this._myGrid.getTitle();var n=e||this.getDisplayDate(),r=this.options.titleFormat||"MMMM yyyy";return t.isFunction(this.options.title)?this.options.title(n,r)||this._formatDate(r,n):this._formatDate(r,n)},n.prototype._refreshTitle=function(){this.element.find("."+this.options.wijCSS.datepickerTitle).html(this._getTitleText(undefined))},n.prototype._fillTitle=function(e,t){var n=this.options.wijCSS;e.writeBeginTag("div"),e.writeAttribute("class",n.datepickerTitle+" wijmo-wijcalendar-title"+" "+n.stateDefault+" "+n.cornerAll),e.writeTagRightChar(),e.write(this._getTitleText(t)),e.writeEndTag("div")},n.prototype._getHeaderHtml=function(e,t,n){var r=!!this.element.data("preview.wijcalendar"),i=this.options.wijCSS,s=r?"none":this._isSingleMonth()?this.options.navButtons:"default",u=this.element.is("."+i.datepickerRtl),a=new o;return s==="quick"?(a.writeBeginTag("div"),a.writeAttribute("class",i.header+" wijmo-wijcalendar-header "+i.helperClearFix+" "+i.cornerAll),a.writeAttribute("role","heading"),a.writeTagRightChar(),!t||a.write(this._getNavButtonHtml("quickprev","wijmo-wijcalendar-navbutton "+i.datepickerPrev+" "+i.cornerAll,i.icon+" ui-icon-seek-"+(u?"next":"prev")+" "+(u?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.quickPrevTooltip.replace("#",this.options.quickNavStep))),a.writeBeginTag("div"),a.writeAttribute("class",i.datepickerHeader+" wijmo-wijcalendar-header-inner"),a.writeTagRightChar(),!t||a.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton "+i.datepickerPrev+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(u?"e":"w")+" "+(u?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.prevTooltip)),this._fillTitle(a,e),!n||a.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton "+i.datepickerNext+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(u?"w":"e")+" "+(u?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.nextTooltip)),a.writeEndTag("div"),!n||a.write(this._getNavButtonHtml("quicknext","wijmo-wijcalendar-navbutton "+i.datepickerNext+" "+i.cornerAll,i.icon+" ui-icon-seek-"+(u?"prev":"next")+" "+(u?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.quickNextTooltip.replace("#",this.options.quickNavStep))),a.writeEndTag("div")):(a.writeBeginTag("div"),a.writeAttribute("class",i.datepickerHeader+" "+i.header+" "+i.datepickerHeader+" "+i.helperClearFix+" "+i.cornerAll),a.writeAttribute("role","heading"),a.writeTagRightChar(),s!=="none"&&!!t&&a.write(this._getNavButtonHtml("prev","wijmo-wijcalendar-navbutton "+i.datepickerPrev+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(u?"e":"w")+" "+(u?this.options.wijCSS.iconArrowRight:this.options.wijCSS.iconArrowLeft),this.options.prevTooltip)),this._fillTitle(a,e),s!=="none"&&!!n&&a.write(this._getNavButtonHtml("next","wijmo-wijcalendar-navbutton "+i.datepickerNext+" "+i.cornerAll,i.icon+" ui-icon-circle-triangle-"+(u?"w":"e")+" "+(u?this.options.wijCSS.iconArrowLeft:this.options.wijCSS.iconArrowRight),this.options.nextTooltip)),a.writeEndTag("div")),a.toString()},n.prototype._formatDate=function(e,t){return u.getTicks(t)?Globalize.format(t,e,this._getCulture(null)):"&nbsp;"},n}(e.wijmoWidget);e.wijcalendar=i;var s=function(){function e(){this.initSelector=":jqmData(role='wijcalendar')",this.wijCSS={datepickerInline:"ui-datepicker-inline",datepicker:"ui-datepicker",datepickerCalendar:"ui-datepicker-calendar",datepickerMulti:"ui-datepicker-multi",datepickerRtl:"datepicker-rtl",datepickerOtherMonth:"ui-datepicker-other-month",prioritySecondary:"ui-priority-secondary",effectsWrapper:"ui-effects-wrapper",datepickerNextHover:"ui-datepicker-next-hover",datepickerPrevHover:"ui-datepicker-prev-hover",datepickerNext:"ui-datepicker-next",datepickerPrev:"ui-datepicker-prev",datepickerTitle:"ui-datepicker-title",datepickerWeekDay:"ui-datepicker-week-day",datepickerWeekEnd:"ui-datepicker-week-end",datepickerUnselectable:"ui-datepicker-unselectable",datepickerDaysCellOver:"ui-datepicker-days-cell-over",datepickerToday:"ui-datepicker-today",stateHighlight:"ui-state-highlight",datepickerCurrentDay:"ui-datepicker-current-day",datepickerGroup:"ui-datepicker-group",datepickerGroupFirst:"ui-datepicker-group-first",datepickerGroupLast:"ui-datepicker-group-last",datepickerRowBreak:"ui-datepicker-row-break",datepickerHeader:"ui-datepicker-header",uiIconGripDottedVertical:"ui-icon-grip-dotted-vertical",uiDatepickerWeekCol:"ui-datepicker-week-col"},this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c"},this.culture="",this.monthCols=1,this.monthRows=1,this.titleFormat="MMMM yyyy",this.showTitle=!0,this.displayDate=undefined,this.dayRows=6,this.dayCols=7,this.weekDayFormat="short",this.showWeekDays=!0,this.showWeekNumbers=!1,this.calendarWeekRule="firstDay",this.minDate=new Date(1900,0,1),this.maxDate=new Date(2099,11,31),this.showOtherMonthDays=!0,this.showDayPadding=!1,this.selectionMode={day:!0,days:!0},this.allowPreview=!1,this.allowQuickPick=!0,this.toolTipFormat="dddd, MMMM dd, yyyy",this.prevTooltip="Previous",this.nextTooltip="Next",this.quickPrevTooltip="Quick Previous",this.quickNextTooltip="Quick Next",this.prevPreviewTooltip="",this.nextPreviewTooltip="",this.navButtons="default",this.quickNavStep=12,this.direction="horizontal",this.duration=250,this.easing="easeInQuad",this.popupMode=!1,this.autoHide=!0,this.customizeDate=null,this.title=null,this.beforeSlide=null,this.afterSlide=null,this.beforeSelect=null,this.afterSelect=null,this.selectedDatesChanged=null}return e}();i.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new s),t.wijmo.registerWidget("wijcalendar",i.prototype);var o=function(){function e(){this._html=[]}return e.prototype.writeTagLeftChar=function(){this._html[this._html.length]="<"},e.prototype.writeTagRightChar=function(){this._html[this._html.length]=">"},e.prototype.write=function(e){this._html[this._html.length]=" "+e+" "},e.prototype.writeBeginTag=function(e){this._html[this._html.length]="<"+e},e.prototype.writeEndTag=function(e){this._html[this._html.length]="</"+e+">"},e.prototype.writeFullBeginTag=function(e){this._html[this._html.length]="<"+e+">"},e.prototype.writeSelfClosingTagEnd=function(){this._html[this._html.length]="/>"},e.prototype.writeAttribute=function(e,t){if(t===undefined||t===null)return;this._html[this._html.length]=" "+e+'="',this._html[this._html.length]=t,this._html[this._html.length]='"'},e.prototype.clean=function(){this._html=[]},e.prototype.toString=function(){return this._html.join("")},e}();e.htmlTextWriter=o;var u={addDays:function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()+t);return t&&n.getDate()===e.getDate()&&(n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n.setTime(n.getTime()+t*24*3600*1e3)),n},addMonths:function(e,t){return new Date(e.getFullYear(),e.getMonth()+t,1)},addYears:function(e,t){return this.addMonths(e,t*12)},getDate:function(e){return new Date(e.getFullYear(),e.getMonth(),e.getDate())},getTicks:function(e){return e.valueOf()},isSameDate:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},isSameMonth:function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()},getDaysInMonth:function(e){return(new Date(e.getFullYear(),e.getMonth()+1,0)).getDate()},getWeekStartDate:function(e,t){return new Date(e.getFullYear(),e.getMonth(),e.getDate()-(e.getDay()-t+7)%7)},getDayOfYear:function(e){var t=new Date(e.getFullYear(),0,1),n=this.getTicks(e)-this.getTicks(t),r=n/864e5;return Math.floor(r)+1},getFirstDayWeekOfYear:function(e,t){var n=this.getDayOfYear(e)-1,r=e.getDay()-n%7,i;return r=(r-t+14)%7,i=(n+r)/7,Math.floor(i)+1},getDayOfWeek:function(e,t){return(e.getDay()-t+7)%7},getWeekOfYearFullDays:function(e,t,n,r){var i=this.getDayOfYear(e)-1,s=this.getDayOfWeek(e,n)-i%7;return s=(n-s+14)%7,s&&s>=r&&(s-=7),s=i-s,s>=0?Math.floor(s/7)+1:this.getWeekOfYearFullDays(this.addDays(e,-(i+1)),t,n,r)},getWeekOfYear:function(e,t,n){switch(t){case"firstDay":return this.getFirstDayWeekOfYear(e,n);case"firstFullWeek":return this.getWeekOfYearFullDays(e,t,n,7);case"firstFourDayWeek":return this.getWeekOfYearFullDays(e,t,n,4)}return this.getFirstDayWeekOfYear(e,n)},getDateToken:function(e){return e.getFullYear()+"_"+e.getMonth()+"_"+e.getDate()}},a=function(){function e(e,t){this.calendar=e;if(t===undefined||u.isSameDate(t,new Date(1900,0,1)))t=new Date;this.displayDate=t,this.id=this.calendar._getId()+"_"+this.calendar._getMonthID(t),this.isFirst=!1,this.isLast=!1,this.showPreview=!1,this.culture=this.calendar._getCulture(),this._calcDates(this.displayDate)}return e.prototype._calcDates=function(e){var t=u.getDaysInMonth(e);this._startDateInMonth=new Date(e.getFullYear(),e.getMonth(),1),this._endDateInMonth=u.addDays(this._startDateInMonth,t-1),this._startDate=u.getWeekStartDate(this._startDateInMonth,this.culture.calendar.firstDay),this._endDate=u.addDays(this._startDate,this.calendar.options.dayRows*this.calendar.options.dayCols-1)},e.prototype._isFirstMonth=function(){var e=this.calendar.getDisplayDate();return u.isSameMonth(this._startDateInMonth,e)},e.prototype._isLastMonth=function(){var e=this.calendar.getDisplayDate();return e=new Date(e.getFullYear(),e.getMonth(),1),e=u.addMonths(e,this.calendar.options.monthCols*this.calendar.options.monthRows-1),u.isSameMonth(this._startDateInMonth,e)},e.prototype.getStartDate=function(){return this._startDate},e.prototype.getEndDate=function(){return this._endDate},e.prototype._getMonthDate=function(){return this._startDateInMonth===undefined,this._startDateInMonth},e.prototype._setMonthDate=function(e){this._calcDates(e)},e.prototype._getWeekDayText=function(e,t){t=t||"short";var n=this.culture.calendar.days,r="";switch(t){case"full":r=n.names[e];break;case"firstLetter":r=n.names[e].substring(0,1);break;case"abbreviated":r=n.namesAbbr[e];break;default:r=n.namesShort[e]}return r},e.prototype._getRowCount=function(){var e=this.calendar.options;return e.showWeekDays?e.dayRows+1:e.dayRows},e.prototype._getColCount=function(){var e=this.calendar.options;return e.showWeekNumbers?e.dayCols+1:e.dayCols},e.prototype._getDayType=function(e){var t=this.calendar.options,n=r.general,i=e.getDay(),s=i===6||i===0,o=e<t.minDate||e>t.maxDate,a=e<this._startDateInMonth||e>this._endDateInMonth,f=o||this.calendar._getDisabledDates().contains(e),l=this.calendar._getSelectedDates().contains(e),c=new Date,h=u.isSameDate(e,c),p=!1;return s&&(n|=r.weekEnd),h&&(n|=r.today),f&&(n|=r.disabled),a&&(n|=r.otherMonth),o&&(n|=r.outOfRange),l&&(n|=r.selected),p&&(n|=r.custom),a&&!t.showOtherMonthDays&&(n|=r.gap),n},e.prototype._refreshDate=function(e){if(e<this._startDate||e>this._endDate)return;var n=this.calendar.options,r=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),i=Date.UTC(this._startDate.getFullYear(),this._startDate.getMonth(),this._startDate.getDate()),s=Math.floor(Math.abs(r-i)/864e5),o=Math.floor(s/this.calendar.options.dayCols),u=Math.floor(s%this.calendar.options.dayCols),a,f,l,c;n.showWeekNumbers&&u++,n.showWeekDays&&o++,a=t("#"+this.id,this.calendar.element).get(0),a&&o<a.rows.length&&(f=a.rows[o],u<f.cells.length&&(l=f.cells[u],c=this._getDayType(e),t(l).attr("daytype",c.toString()),this.calendar._refreshDayCell(l)))},e.prototype._fillDayCell=function(e,t,n){var i=this.calendar.options,s=null,o=t.getDate().toString(),u=this.calendar._formatDate(i.toolTipFormat||"dddd, MMMM dd, yyyy",t),a=this._getDayType(t),f=this.calendar._isSelectable(a),l=this.calendar._getCellClassName(a,t,n);o=i.showDayPadding&&o.length===1?"0"+o:o,e.writeBeginTag("td"),e.writeAttribute("daytype",a.toString()),f&&(e.writeAttribute("title",u),e.writeAttribute("aria-label",u)),e.writeAttribute("date",t.toDateString()),e.writeAttribute("class",l.cssCell),e.writeAttribute("role","gridcell"),f||e.writeAttribute("aria-disabled","true"),e.writeTagRightChar(),a&r.gap?e.write("&#160;"):s&&s.content?e.write(s.content):(e.writeBeginTag("a"),e.writeAttribute("class",l.cssText),e.writeAttribute("href","#"),e.writeAttribute("onclick","return false;"),e.writeTagRightChar(),e.write(o),e.writeEndTag("a")),e.writeEndTag("td")},e.prototype.getHtml=function(e){e=!!e;var t=this.calendar.options,n=t.wijCSS,r=!!this.calendar.element.data("preview.wijcalendar"),i=new o,s,a,f,l,c,h,p,d,v,m,g,y;!e&&t.showTitle&&i.write(this.calendar._getHeaderHtml(this._startDateInMonth,this.isFirst,this.isLast)),!e&&!r&&this.showPreview&&(i.writeBeginTag("div"),i.writeAttribute("class","wijmo-wijcalendar-prevpreview-button"),i.writeAttribute("role","button"),i.writeAttribute("aria-haspopup","true"),i.writeAttribute("id","prevPreview"),i.writeTagRightChar(),i.writeBeginTag("a"),i.writeAttribute("class",n.icon+" "+n.uiIconGripDottedVertical),i.writeAttribute("href","#"),i.writeAttribute("title",t.prevPreviewTooltip),i.writeAttribute("aria-label",t.prevPreviewTooltip),i.writeAttribute("onclick","return false;"),i.writeTagRightChar(),i.write("&#160;"),i.writeEndTag("a"),i.writeEndTag("div")),i.writeBeginTag("table"),i.writeAttribute("id",this.id),i.writeAttribute("class",n.datepickerCalendar+" wijmo-wijcalendar-table"),i.writeAttribute("role","grid"),i.writeAttribute("summary",this.calendar._getTitleText(this._startDateInMonth)),i.writeAttribute("onselectstart","return false;"),i.writeTagRightChar();if(t.showWeekDays){i.writeFullBeginTag("thead"),i.writeBeginTag("tr"),i.writeTagRightChar(),t.showWeekNumbers&&(i.writeBeginTag("th"),i.writeAttribute("id",this.id+"_ms"),i.writeAttribute("class",n.uiDatepickerWeekCol+" wijmo-wijcalendar-monthselector"+(t.selectionMode.month?" wijmo-wijcalendar-selectable":"")),i.writeAttribute("role","columnheader"),i.writeTagRightChar(),!!t.selectionMode.month&&!r?(i.writeBeginTag("a"),i.writeAttribute("class",n.icon+" "+n.uiIconTriangle1Se),i.writeAttribute("style","display: block;"),i.writeSelfClosingTagEnd()):i.write("Wk"),i.writeEndTag("th")),f=this._startDate.getDay(),l=this._startDate;for(s=0;s<t.dayCols;s++)c=f===6||f===0,h=s+(t.showWeekNumbers?1:0),p=this._getWeekDayText(f,t.weekDayFormat),d=this._getWeekDayText(f,"full"),i.writeBeginTag("th"),i.writeAttribute("id",this.id+"_cs_"+h),i.writeAttribute("class",n.datepickerWeekDay+(c?" "+n.datepickerWeekEnd:"")+(t.selectionMode.weekDay?" wijmo-wijcalendar-selectable":"")),i.writeAttribute("role","columnheader"),i.writeTagRightChar(),i.writeBeginTag("span"),i.writeAttribute("title",d),i.writeAttribute("aria-label",d),i.writeTagRightChar(),i.write(p),i.writeEndTag("span"),i.writeEndTag("th"),f=(f+1)%7,l=u.addDays(l,1);i.writeEndTag("tr"),i.writeEndTag("thead")}i.writeFullBeginTag("tbody"),v=this._startDate,m=this._startDateInMonth;for(s=0;s<t.dayRows;s++){i.writeBeginTag("tr"),i.writeTagRightChar(),t.showWeekNumbers&&(g=s+(t.showWeekDays?1:0),i.writeBeginTag("td"),i.writeAttribute("id",this.id+"_rs_"+g),i.writeAttribute("class",n.uiDatepickerWeekCol+" wijmo-wijcalendar-week-num"+(t.selectionMode.weekNumber?" wijmo-wijcalendar-selectable":"")),i.writeAttribute("role","rowheader"),i.writeTagRightChar(),y=u.getWeekOfYear(m,t.calendarWeekRule,this.culture.calendar.firstDay),i.write(y),i.writeEndTag("td"),m=u.addDays(m,t.dayCols));for(a=0;a<t.dayCols;a++)this._fillDayCell(i,v,r),v=u.addDays(v,1);i.writeEndTag("tr")}return i.writeEndTag("tbody"),i.writeEndTag("table"),!e&&!r&&this.showPreview&&(i.writeBeginTag("div"),i.writeAttribute("class","wijmo-wijcalendar-nextpreview-button"),i.writeAttribute("role","button"),i.writeAttribute("aria-haspopup","true"),i.writeAttribute("id","nextPreview"),i.writeTagRightChar(),i.writeBeginTag("a"),i.writeAttribute("class",n.icon+" "+n.uiIconGripDottedVertical),i.writeAttribute("href","#"),i.writeAttribute("title",t.nextPreviewTooltip),i.writeAttribute("aria-label",t.nextPreviewTooltip),i.writeAttribute("onclick","return false;"),i.writeTagRightChar(),i.write("&#160;"),i.writeEndTag("a"),i.writeEndTag("div")),i.toString()},e}();e.wijMonthView=a;var f=function(){function e(e,t){this._calendar=e,this._optionName=t?t:"selectedDates",this._normalize()}return e.prototype.getDates=function(){return this._calendar.options[this._optionName]===undefined&&(this._calendar.options[this._optionName]=[]),this._calendar.options[this._optionName]},e.prototype.setDates=function(e){this._calendar.options[this._optionName]=e,this._normalize()},e.prototype.getCount=function(){return this.getDates().length},e.prototype.clear=function(){this.setDates([])},e.prototype.add=function(e){this.addRange(e,e)},e.prototype.remove=function(e){this.removeRange(e,e)},e.prototype.indexOf=function(e){return this.getCount()?this._findRangeBound(e,!0,!1):-1},e.prototype.contains=function(e){return this.indexOf(e)!==-1},e.prototype.removeRange=function(e,t){if(!this.getCount())return;var n=this._findRangeBound(e,!1,!0),r=this._findRangeBound(t,!1,!1),i,s,o;if(n<0||r<0)return;if(n>r)return;i=this.getDates();if(i[r]>t)return;s=n?i.slice(0,n):[],o=r>=i.length-1?[]:i.slice(r+1),this.setDates(s.concat(o))},e.prototype.addRange=function(e,t){this.removeRange(e,t);var n=this.getDates(),r=this._findRangeBound(e,!1,!0),i=r?n.slice(0,r):[],s=n.slice(r),o=[],a;e=u.getDate(e),t=u.getDate(t);for(a=e;a<=t;a=u.addDays(a,1))o[o.length]=a;this.setDates(i.concat(o.concat(s)))},e.prototype._findRangeBound=function(e,t,n){var r=this.getDates(),i=0,s=r.length,o;while(i<s){o=i+s>>1;if(u.isSameDate(e,r[o]))return o;e<r[o]?s=o:i=o+1}return t?-1:n?i:s},e.prototype._parseDate=function(e){var t;e?typeof e=="string"&&(t=e):e=new Date;if(t){t=t.replace(/-/g,"/");try{e=new Date(t),isNaN(e)&&(e=new Date)}catch(n){e=new Date}}return e},e.prototype._normalize=function(){var e=this._calendar.options[this._optionName],n=this,r;t.isArray(e)&&(r=t.map(e,function(e,t){return n._parseDate(e)}),this._calendar.options[this._optionName]=r.sort(function(e,t){return e.getTime()-t.getTime()}))},e}();e.wijDateCollection=f;var l=function(){function e(e){this.gridType="month",this.calendar=e,e&&(this.culture=e._getCulture())}return e.prototype.select=function(e,t){var n=this.calendar.getDisplayDate();switch(this.gridType){case"month":n.setMonth(t);break;case"year":n.setFullYear(t);break;case"decade":n.setFullYear(t)}this.calendar.options.displayDate=n},e.prototype.getSelectedIndex=function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),n=Math.floor(t/10)*10-1,r=Math.floor(t/100)*100-10;switch(this.gridType){case"month":return e.getMonth();case"year":return t-n;case"decade":return Math.floor((t-r)/10)}return 0},e.prototype.getTitle=function(){var e=this.calendar.getDisplayDate(),t=e.getFullYear(),n=Math.floor(t/10)*10-1,r=Math.floor(t/100)*100-10;switch(this.gridType){case"month":return t.toString();case"year":return n+1+" - "+(n+10);case"decade":return r+10+" - "+(r+109)}return""},e.prototype.getHtml=function(e,t){e===undefined?e=this.calendar.getDisplayDate():typeof e=="boolean"&&(t=e,e=this.calendar.getDisplayDate()),t=!!t;var n=this.calendar.options,r=3,i=4,s=new o,u=n.wijCSS,a,f,l,c,h,p,d,v,m,g,y,b,w,E;n.showTitle&&!t&&s.write(this.calendar._getHeaderHtml(null,!0,!0)),a=100/r+"%",a="30%",s.writeBeginTag("table"),s.writeAttribute("class",u.datepickerCalendar+" wijmo-wijcalendar-mygrid"),s.writeAttribute("role","grid"),s.writeAttribute("onselectstart","return false;"),s.writeTagRightChar(),f=e.getFullYear(),l=e.getFullYear()*12,c=Math.floor(f/10)*10-1,h=Math.floor(f/100)*100-10,p=this.culture.calendar.months;for(d=0;d<r;d++){s.writeBeginTag("tr"),s.writeAttribute("height",a),s.writeTagRightChar();for(v=0;v<i;v++){m=d*4+v,g=!1,y=!1,b="",w=null;switch(this.gridType){case"month":e.getMonth()===m&&(g=!0),w=m,b=p.namesAbbr[m],y=l+m<n.minDate.getFullYear()*12+n.minDate.getMonth()||l+m>n.maxDate.getFullYear()*12+n.maxDate.getMonth();break;case"year":if(m===0||m===11)y=!0;w=c+m,w<n.minDate.getFullYear()||w>n.maxDate.getFullYear()?y=!0:g=f===w,b=w.toString();break;case"decade":if(m===0||m===11)y=!0;w=h+m*10,w+10<n.minDate.getFullYear()||w>n.maxDate.getFullYear()?y=!0:g=f>=w&&f<w+10,b=w.toString()+"-<br/>"+(w+9).toString()}E=u.datepickerWeekDay,y?E=E+" "+u.datepickerOtherMonth+" "+u.prioritySecondary+" "+u.datepickerUnselectable:!n.disabledState&&!n.disabled&&(E+=" wijmo-wijcalendar-day-selectable"),E+=" "+u.stateDefault+(y?" "+u.stateDisabled:"")+(g?" "+u.stateActive+" "+u.stateHighlight:""),s.writeBeginTag("td"),s.writeAttribute("class",E),s.writeAttribute("role","gridcell"),s.writeAttribute("index",m.toString()),s.writeAttribute("value",w.toString()),s.writeAttribute("other",y.toString()),s.writeTagRightChar(),s.writeBeginTag("a"),s.writeAttribute("href","#"),s.writeTagRightChar(),s.write(b),s.writeEndTag("a"),s.writeEndTag("td")}s.writeEndTag("tr")}return s.writeEndTag("table"),s.toString()},e}();e.wijMyGrid=l})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijexpander",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._setOption=function(e,n){switch(e){case"contentUrl":n?this.element.find("> ."+this.options.wijCSS.content).wijContent(n):this.element.find("> ."+this.options.wijCSS.content).html("");break;case"disabled":n?(this.element.addClass(this.options.wijCSS.stateDisabled).find("> .ui-expander-header").addClass(this.options.wijCSS.stateDisabled),this.element.find("> ."+this.options.wijCSS.content).addClass(this.options.wijCSS.stateDisabled)):(this.element.removeClass(this.options.wijCSS.stateDisabled).find("> .ui-expander-header").removeClass(this.options.wijCSS.stateDisabled),this.element.find("> ."+this.options.wijCSS.content).removeClass(this.options.wijCSS.stateDisabled));break;case"expandDirection":this._onDirectionChange(n,!0,this.options.expandDirection);break;case"expanded":n?this.expand():this.collapse();return;default:}t.wijmo.widget.prototype._setOption.apply(this,arguments)},n.prototype._create=function(){var e=this.options,n=this.element.children(),r,i;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),this.element.addClass("wijmo-wijexpander ui-expander "+e.wijCSS.widget+" ui-expander-icons"),r=t(n[0]),i=t(n[1]);if(e.expandDirection==="left"||e.expandDirection==="top")r.remove(),r.insertAfter(i);r.addClass("ui-expander-header"),r.attr("role","tab"),i.attr("role","tabpanel"),r.find("> a").length===0&&r.wrapInner('<a href="javascript:void(null)"></a>'),r.find("> .ui-icon").length===0&&t('<span class="ui-icon"></span>').insertBefore(t("> a",r)[0]),i.addClass("ui-expander-content "+e.wijCSS.content)},n.prototype._init=function(){var e=this.options;this._onDirectionChange(e.expandDirection,!1),e.contentUrl&&t("."+e.wijCSS.content,this.element).wijContent(this.options.contentUrl),e.expanded?(this.element.find("> .ui-expander-header").addClass(e.wijCSS.stateActive).attr({"aria-expanded":"true",tabIndex:0}).addClass(this._headerCornerOpened).find("> .ui-icon").addClass(this._triangleIconOpened),this.element.find("> .ui-expander-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility()):(this.element.find("> .ui-expander-content").hide(),this.element.find("> .ui-expander-header").addClass(e.wijCSS.stateDefault+" "+e.wijCSS.cornerAll).attr({"aria-expanded":"false",tabIndex:-1}).find("> .ui-icon").addClass(this._triangleIconClosed)),e.disabled&&(this.element.addClass(e.wijCSS.stateDisabled).find("> .ui-expander-header").addClass(e.wijCSS.stateDisabled),this.element.find("> .ui-expander-content").addClass(e.wijCSS.stateDisabled)),this._bindLiveEvents()},n.prototype.destroy=function(){var e=this.options;this._unbindLiveEvents(),this.element.removeClass("wijmo-wijexpander ui-expander "+e.wijCSS.widget+" ui-helper-reset ui-expander-icons"),t.wijmo.widget.prototype.destroy.apply(this,arguments)},n.prototype._bindLiveEvents=function(){var e=this.options;this.element.on("click.wijexpander",">.ui-expander-header",jQuery.proxy(this._onHeaderClick,this)),this.element.on("mouseenter.wijexpander",".ui-expander-header",function(){t(this).addClass(e.wijCSS.stateHover)}),this.element.on("mouseleave.wijexpander",".ui-expander-header",function(){t(this).removeClass(e.wijCSS.stateHover)}),this.element.on("focus.wijexpander",".ui-expander-header",function(){t(this).addClass(e.wijCSS.stateFocus)}),this.element.on("blur.wijexpander",".ui-expander-header",function(){t(this).removeClass(e.wijCSS.stateFocus)})},n.prototype._unbindLiveEvents=function(){this.element.off(".wijexpander",".ui-expander-header")},n.prototype._onDirectionChange=function(e,n,r){typeof r=="undefined"&&(r=null);var i,s,o,u,a,f,l,c,h=this.options;r&&r!==e&&this.element.removeClass("ui-expander-"+r),n&&(s=this.element.find(".ui-expander-header."+this._headerCornerOpened),s.removeClass(this._headerCornerOpened),o=this.element.find(".ui-expander-content."+this._contentCornerOpened),o.removeClass(this._contentCornerOpened),u=this.element.find("."+this._triangleIconOpened),a=this.element.find("."+this._triangleIconClosed),u.removeClass(this._triangleIconOpened),a.removeClass(this._triangleIconClosed));switch(e){case"top":this._headerCornerOpened="ui-corner-bottom",this._contentCornerOpened="ui-corner-top",this._triangleIconOpened=h.wijCSS.iconArrowUp,this._triangleIconClosed=h.wijCSS.iconArrowRight,i=!0,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-top");break;case"right":this._headerCornerOpened="ui-corner-left",this._contentCornerOpened="ui-corner-right",this._triangleIconOpened=h.wijCSS.iconArrowRight,this._triangleIconClosed=h.wijCSS.iconArrowDown,i=!1,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-right");break;case"left":this._headerCornerOpened="ui-corner-right",this._contentCornerOpened="ui-corner-left",this._triangleIconOpened=h.wijCSS.iconArrowLeft,this._triangleIconClosed=h.wijCSS.iconArrowDown,i=!0,this.element.addClass("ui-helper-horizontal"),this.element.addClass("ui-expander-left");break;default:this._headerCornerOpened="ui-corner-top",this._contentCornerOpened="ui-corner-bottom",this._triangleIconOpened=h.wijCSS.iconArrowDown,this._triangleIconClosed=h.wijCSS.iconArrowRight,i=!1,this.element.removeClass("ui-helper-horizontal"),this.element.addClass("ui-expander-bottom")}f=this.element.data("rightToLeft"),this.element.data("rightToLeft",i),n&&(u.addClass(this._triangleIconOpened),a.addClass(this._triangleIconClosed),s.addClass(this._headerCornerOpened),o.addClass(this._contentCornerOpened)),n&&i!==f&&this.element.children(".ui-expander-header").each(function(e,n){c=t(this),i?(l=c.next(".ui-expander-content"),c.remove(),c.insertAfter(l)):(l=c.prev(".ui-expander-content"),c.remove(),c.insertBefore(l))})},n.prototype.collapse=function(){var e=this.options,n,r,i,s;if(!e.allowExpand)return;return this.element.hasClass(e.wijCSS.stateDisabled)?!1:this._trigger("beforeCollapse")?(e.animated?(n={expand:!1,content:this.element.find("> .ui-expander-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-expander-content").removeClass("ui-expander-content-active"),this._trigger("afterCollapse"),this.element.find("> .ui-expander-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},r=t.wijmo.wijexpander.animations,i=e.duration,s=e.animated,s&&!r[s]&&!t.easing[s]&&(s="slide"),r[s]||(r[s]=function(e){this.slide(e,{easing:s,duration:i||700})}),r[s](n)):(this.element.find("> .ui-expander-content").hide(),this._trigger("afterCollapse")),this.element.find("> .ui-expander-header").removeClass(e.wijCSS.stateActive).removeClass(this._headerCornerOpened).attr({"aria-expanded":"false",tabIndex:-1}).addClass(e.wijCSS.stateDefault+" "+e.wijCSS.cornerAll).find("> .ui-icon").removeClass(this._triangleIconOpened).addClass(this._triangleIconClosed),this.options.expanded=!1,!0):!1},n.prototype.expand=function(){var e=this.options,n,r,i,s;if(!e.allowExpand)return;return this.element.hasClass(e.wijCSS.stateDisabled)?!1:this._trigger("beforeExpand")?(e.animated?(n={expand:!0,content:this.element.find("> .ui-expander-content"),complete:jQuery.proxy(function(){this.element.find("> .ui-expander-content").addClass("ui-expander-content-active").addClass(this._contentCornerOpened).wijTriggerVisibility(),this._trigger("afterExpand"),this.element.find("> .ui-expander-content").css("display","")},this),horizontal:this.element.hasClass("ui-helper-horizontal")},r=t.wijmo.wijexpander.animations,i=e.duration,s=e.animated,s&&!r[s]&&!t.easing[s]&&(s="slide"),r[s]||(r[s]=function(e){this.slide(e,{easing:s,duration:i||700})}),r[s](n)):(this.element.find("> .ui-expander-content").show(),this._trigger("afterExpand")),this.element.find("> .ui-expander-header").removeClass(e.wijCSS.stateDefault+" "+e.wijCSS.cornerAll).addClass(e.wijCSS.stateActive).addClass(this._headerCornerOpened).attr({"aria-expanded":"true",tabIndex:0}).find("> .ui-icon").removeClass(this._triangleIconClosed).addClass(this._triangleIconOpened),this.options.expanded=!0,!0):!1},n.prototype._onHeaderClick=function(e){this.option("expanded",!this.options.expanded)},n}(e.wijmoWidget);e.wijexpander=r;var i=function(){function e(){this.wijMobileCSS={header:"ui-header ui-bar-a",content:"ui-content ui-body ui-body-c"},this.initSelector=":jqmData(role='wijexpander')",this.allowExpand=!0,this.animated="slide",this.contentUrl="",this.expanded=!0,this.expandDirection="bottom",this.beforeCollapse=null,this.beforeExpand=null,this.afterCollapse=null,this.afterExpand=null}return e}();r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new i),t.wijmo.registerWidget(n,r.prototype),t.extend(t.wijmo.wijexpander,{animations:{slide:function(e,n){var r;e=t.extend({easing:"swing",duration:300},e,n),e.expand?(e.horizontal?r={width:"show",opacity:"show"}:r={height:"show",opacity:"show"},e.content.stop(!0,!0).animate(r,e)):(e.horizontal?r={width:"hide",opacity:"hide"}:r={height:"hide",opacity:"hide"},e.content.stop(!0,!0).animate(r,e))}}})})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijmenu",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n._itemWidgetName="wijmenuitem",n.prototype._preventEvent=function(e){e.preventDefault(),e.stopImmediatePropagation()},n.prototype._initState=function(){var e=this;e.options.items||(e.options.items=[])},n.prototype._create=function(){var e=this,r=e.options,i=r.direction,s=r.mode,o,u=e.element,a,f,l=r.disabled;t.mobile!=null?f=t.mobile.keyCode:f=t.ui.keyCode,e._initState(),u.is(":hidden")&&u.wijAddVisibilityObserver&&u.wijAddVisibilityObserver(function(){e.refresh(),u.wijRemoveVisibilityObserver&&u.wijRemoveVisibilityObserver()},"wijmenu"),u.data("wijmomenu",t.camelCase(e.widgetFullName)),e.clickNameSpace="click.wijmenudoc"+e._newId(),u.hide(),e.cssPre="wijmo-wijmenu",e.nowIndex=9999,e.activeItem=null,e.refresh(),u.attr("tabIndex",0),e._getDisabled()&&(e.disable(),r.disabledState===!0&&(r.disabled=l)),u.bind("keydown.wijmenuEvent",function(t){if(e._getDisabled())return;s==="sliding"&&e._getSublist().stop(!0,!0);var u=e.activeItem,l,c,h=r.orientation;u?(l=u._isRoot(),a=u._getSublist()):l=!0;switch(t.keyCode){case f.PAGE_UP:e.previousPage(t),e._preventEvent(t);break;case f.PAGE_DOWN:e.nextPage(t),e._preventEvent(t);break;case f.UP:if(h==="vertical"||s==="sliding"||!l)e.previous(t),e._preventEvent(t);break;case f.DOWN:h==="vertical"||s==="sliding"||!l?(e.next(t),e._preventEvent(t)):u&&s==="flyout"&&n._hasVisibleSubMenus(u)&&a.is(":hidden")&&u._showFlyoutSubmenu(t,function(){e.activate(t,u._getFirstSelectableSubItem())});break;case f.RIGHT:h==="horizontal"&&l&&s==="flyout"?(i==="rtl"?e.previous(t):e.next(t),e._preventEvent(t)):u&&(o=u.getParent(),i==="rtl"?e._keyDownToCloseSubmenu(s,t,o):e._keyDownToOpenSubmenu(u,s,t,a));break;case f.LEFT:h==="horizontal"&&l&&s==="flyout"?(i==="rtl"?e.next(t):e.previous(t),e._preventEvent(t)):(u&&(o=u.getParent()),i==="rtl"?e._keyDownToOpenSubmenu(u,s,t,a):e._keyDownToCloseSubmenu(s,t,o));break;case f.ENTER:if(!u)return;c=u._getLink();if(s==="flyout")break;e.select(),c.is("a")&&c.attr("href")==="#"&&e._preventEvent(t);break;case f.TAB:e.next(t),e._preventEvent(t)}})},n.prototype._keyDownToOpenSubmenu=function(e,t,r,i){var s=this;t==="flyout"&&n._hasVisibleSubMenus(e)?i.is(":hidden")&&e._showFlyoutSubmenu(r,function(){s.activate(r,e._getFirstSelectableSubItem())}):t==="sliding"&&i.length>0&&e._getLink().trigger("click",e._getFirstSelectableSubItem())},n.prototype._keyDownToCloseSubmenu=function(e,n,r){var i=this,s=i.options,o;e==="flyout"?r&&(r._hideCurrentSubmenu(n),i.activate(n,r)):(s.backLink&&i._backLink&&i._backLink.is(":visible")&&i._backLink.trigger("click",function(){r&&i.activate(n,r)}),o=t("."+s.wijCSS.wijmenuBreadcrumb,i.domObject.menucontainer).find("li a"),o.length>0&&o.eq(o.length-2).trigger("click",function(){r&&i.activate(n,r)}))},n.prototype._createMenuItems=function(){var e=this,r=[],i=e.options.items.length,s=e._getSublist().children("li").length,o,u;for(o=0;o<i-s;o++)e._getSublist().append("<li>");return t(">li",e._getSublist()).each(function(i,s){var o=t(this),a=n._getMenuItemOptions(e.options,i);return u=e._createItemWidget(o,a),r.push(u),e.options.items[i]=u.options,this}),r},n.prototype._createItemWidget=function(e,r){var i=n._itemWidgetName;return t.fn[i]&&e[i](r),n._getItemWidget(e)},n.prototype._handleDisabledOption=function(e,t){var n=this;e?(n.disabledDiv||(n.disabledDiv=n._createDisabledDiv(t)),n.disabledDiv.appendTo(n.domObject.menucontainer)):n.disabledDiv&&(n.disabledDiv.remove(),n.disabledDiv=null)},n.prototype._getDisabled=function(){var e=this,t=e.options;return t.disabledState===!0||t.disabled===!0},n.prototype._createDisabledDiv=function(e){return t("<div></div>").css({"z-index":"99999",position:"absolute",width:"100%",height:"100%",left:0,top:0})},n.prototype._innerDestroy=function(){var e=this,t=e.options;e.destroying=!0,e[t.mode==="flyout"?"_killFlyout":"_killDrilldown"](),e._killMenuItems(),e._killtrigger(),e._killElement(),e.destroying=!1},n.prototype.destroy=function(){var t=this;this._innerDestroy(),t.disabledDiv&&(t.disabledDiv.remove(),t.disabledDiv=null),e.prototype.destroy.call(this)},n.prototype.activate=function(e,t){if(!t)return;var r=this,i=r.options,s=r.domObject.scrollcontainer,o,u,a=!1,f=!0;o=(t.jquery?t:t.element).eq(0);if(r.activeItem&&r.activeItem.element.get(0)===o.get(0))return;r.deactivate(e),r.activeItem=n._getItemWidget(o),u=o.children(":first"),r._trigger("focus",e,{item:r.activeItem}),r.options.mode==="sliding"&&(f=o.parent().is("."+i.wijCSS.wijmenuCurrent),a=f&&r._hasScroll()&&s.wijsuperpanel("needToScroll",o),a&&(r._linkContainer.link=u,r._linkContainer.needToFocus=!0,s.wijsuperpanel("scrollChildIntoView",o))),u.addClass(i.wijCSS.stateFocus).end(),r.element.removeAttr("aria-activedescendant"),r.element.attr("aria-activedescendant",o.attr("id")),f&&!a&&u.is("a")&&u.focus()},n.prototype.deactivate=function(e){var t=this,n=t.options,r=t.activeItem;if(!r)return;setTimeout(function(){r._getLink().removeClass(n.wijCSS.stateFocus).removeAttr("id"),t._trigger("blur")},0),t.activeItem=null},n.prototype.next=function(e){this._move("next",function(e){return e._getFirstSelectableSubItem()},e)},n.prototype.previous=function(e){this._move("previous",function(e){return e._getLastSelectableSubItem()},e)},n.prototype.first=function(){var e=this,t,n,r;return e.activeItem?(t=e._getActiveItemElement(),n=e.activeItem._getParentOrMenu(),r=n._getFirstSelectableSubItem(),r&&t[0]===r.element[0]):!1},n.prototype.last=function(){var e=this,t,n,r;return e.activeItem?(t=e._getActiveItemElement(),n=e.activeItem._getParentOrMenu(),r=n._getLastSelectableSubItem(),r&&t[0]===r.element[0]):!1},n.prototype.nextPage=function(e){var r=this,i=r._getActiveItemElement(),s,o,u,a,f;i?a=r.activeItem._getParentOrMenu():(a=r,i=r._getFirstSelectableSubItem());if(r.options.mode==="sliding"&&r._hasScroll()){if(!i||r.last()){r.activate(e,a._getFirstSelectableSubItem());return}s=i.offset().top,o=r.options.maxHeight,u=n._getSelectableSubItems(a,function(e){var n=t(e.element),r=o-(n.offset().top-s+n.height()),i=n.height();return r<i&&r>-i}),u.length?u=u[u.length-1]:u=a._getLastSelectableSubItem(),r.activate(e,u)}else!i||r.last()?f=a._getFirstSelectableSubItem():f=a._getLastSelectableSubItem(),r.activate(e,f)},n.prototype.previousPage=function(e){var r=this,i=r._getActiveItemElement(),s,o,u,a,f;i?a=r.activeItem._getParentOrMenu():(a=r,i=r._getFirstSelectableSubItem());if(r.options.mode==="sliding"&&r._hasScroll()){if(!i||r.first()){r.activate(e,a._getLastSelectableSubItem());return}s=i.offset().top,o=r.options.maxHeight,u=n._getSelectableSubItems(a,function(e){var n=t(e.element),r=n.offset().top-s+o-n.height(),i=n.height();return r<i&&r>-i}),u.length?u=u[0]:u=a._getFirstSelectableSubItem(),r.activate(e,u)}else!i||r.first()?f=a._getLastSelectableSubItem():f=a._getFirstSelectableSubItem(),r.activate(e,f)},n.prototype.select=function(e){var t=this,n=t.activeItem,r;t._trigger("select",e,{item:n}),t.options.checkable&&(r=!n.options.selected,n._setOption("selected",r))},n.prototype._getActiveItemElement=function(){return this.activeItem?this.activeItem.element:null},n.prototype.setItemDisabled=function(e,n){var r=t(e,this.element),i=this.options;r.find("."+i.wijCSS.wijmenuItem+">a").attr("disabled",n),r.find(">a").toggleClass(i.wijCSS.stateDisabled,n)},n.prototype._setOption=function(e,t){var n=this;if(n.destroying)return;n["_set_"+e]&&n["_set_"+e](t),n.options[e]=t,e==="disabled"&&n._handleDisabledOption(t,n.domObject.menucontainer)},n.prototype._set_items=function(e){var t=this;t._getSublist().children().remove(),t.options.items=e,t.refresh()},n.prototype._set_mode=function(e){var t=this;t._innerDestroy(),t.options.mode=e,t.refresh()},n.prototype._set_backLink=function(e){var n=this,r=n.options,i;this.options.backLink=e,n.options.mode==="sliding"&&(n._killDrilldown(),n._drilldown(),i=t("."+r.wijCSS.wijmenuBreadcrumb,n.domObject.menucontainer),n._resetDrilldownMenu(i))},n.prototype._set_direction=function(e){var t=this;t._innerDestroy(),t.refresh()},n.prototype._set_orientation=function(e){var n=this,r=n.domObject.menucontainer,i=n.options.direction,s="ui-icon-triangle-1-",o=i==="rtl"?"w":"e",u=e==="horizontal"?o:"s",a=e==="horizontal"?"s":o;r.removeClass(n.cssPre+"-vertical "+n.cssPre+"-horizontal"),n.options.mode==="flyout"?(r.addClass(n.cssPre+"-"+e),t.each(n.getItems(),function(e,t){if(t.getItems().length===0)return;t._getLink().find("."+s+u).removeClass(s+u+" "+s+a).addClass(s+a)})):r.addClass(n.cssPre+"-vertical")},n.prototype._getTriggerEle=function(){return n._getOuterElement(this.options.trigger,"."+this.options.wijCSS.wijmenu)},n.prototype._set_triggerEvent=function(e){var t=this,n=t.options,r=t._getTriggerEle();t._killtrigger(),n.triggerEvent=e,r.length>0&&t._initTrigger(r),n.mode==="flyout"&&(t._killFlyout(),t._flyout())},n.prototype._set_trigger=function(e){var t=this,n=t.options,r;t._killtrigger(),n.trigger=e,r=t._getTriggerEle(),r.length>0&&t._initTrigger(r),n.mode==="flyout"&&(t._killFlyout(),t._flyout())},n.prototype._initTrigger=function(e){var n=this.options,r=n.triggerEvent,i=this,s=i.domObject.menucontainer,o=".wijmenuEvent";e.is("iframe")&&(e=t(e.get(0).contentWindow.document));switch(r){case"click":e.bind(r+o,function(e){n.mode!=="popup"&&i._displayMenu(e),e.stopPropagation()});break;case"mouseenter":e.bind(r+o,function(e){i._displayMenu(e),e.stopPropagation()});break;case"dblclick":e.bind(r+o,function(e){i._displayMenu(e),e.stopPropagation()});break;case"rtclick":e.bind("contextmenu"+o,function(e){s.hide(),i._displayMenu(e),e.preventDefault(),e.stopPropagation()})}},n.prototype._killtrigger=function(){var e=this.options,n;e.trigger!==""&&(n=t(e.trigger),n.is("iframe")&&(n=t(n.get(0).contentWindow.document)),n&&n.length>0&&n.unbind(".wijmenuEvent").unbind("wijmenuEvent"))},n.prototype._move=function(e,t,r){var i=this,s=i._getActiveItemElement(),o,u,a;if(!s||!s.length){i.activate(r,t(i));return}a=n._getItemWidget(s),o=a[e](),u=a._getParentOrMenu(),o?i.activate(r,o):i.activate(r,t(u))},n.prototype.refresh=function(){var e=this,n=e.element,r=e.options,i=r.direction,s,o,u,a,f;e.domObject&&e._innerDestroy();if(n.is("ul"))e._rootMenu=n,s=n.wrap("<div></div>").parent(),o=s.wrap("<div></div>").parent();else{if(!n.is("div"))return;e._rootMenu=t("ul:first",n),s=n,o=n.wrap("<div></div>").parent()}i==="rtl"&&e._rootMenu.addClass(r.wijCSS.wijmenuRtl),s.addClass("scrollcontainer checkablesupport"),o.addClass(r.wijCSS.widget).addClass(r.wijCSS.header).addClass(r.wijCSS.wijmenu).addClass(r.wijCSS.cornerAll).addClass(r.wijCSS.helperClearFix).attr("aria-activedescendant",r.wijCSS.activeMenuitem),r.orientation==="horizontal"&&r.mode==="flyout"&&o.addClass(r.wijCSS.wijmenuHorizontal),u={scrollcontainer:s,menucontainer:o},e.domObject=u,e._getSublist().data("topmenu",!0),e._getSublist().hasClass(r.wijCSS.wijmenuList)||e._getSublist().addClass(r.wijCSS.wijmenuList).addClass(r.wijCSS.helperReset),e._items=e._createMenuItems(),n.show(),n.delegate("li>."+r.wijCSS.wijmenuLink,"mouseenter.wijmenuEvent",function(){var n=t(this).hasClass(r.wijCSS.stateDisabled);if(e._getDisabled()||n)return;t(this).addClass(r.wijCSS.stateHover)}).delegate("li>."+r.wijCSS.wijmenuLink,"mouseleave.wijmenuEvent",function(){var n=t(this).hasClass(r.wijCSS.stateDisabled);if(e._getDisabled()||n)return;t(this).removeClass(r.wijCSS.stateHover),t(this).data("subMenuOpened")&&t(this).addClass(r.wijCSS.stateActive)}),this[r.mode==="flyout"?"_flyout":"_drilldown"](),r.trigger!==""&&(a=e._getTriggerEle(),a.length>0&&(o.hide(),e._initTrigger(a))),t(document).bind(e.clickNameSpace,function(n){var i=r.trigger;if(t(n.target).parent().is("."+r.wijCSS.wijmenuAllLists))return;if(t(n.target).closest(r.trigger).is(r.trigger))return;var s=t(n.target).closest("."+r.wijCSS.wijmenu);if(s.length===0){if(r.mode==="sliding"){f=t("."+r.wijCSS.wijmenuBreadcrumb,o);if(r.trigger==="")return;e._resetDrilldownMenu(f)}else if(r.mode==="flyout"&&r.triggerEvent!=="mouseenter"){e._hideAllMenus(n);return}a&&a.length>0&&e._hideMenu(n)}})},n.prototype._flyout=function(){var e=this.domObject.menucontainer,n=this.options,r=this.getItems();e.attr("role","menu"),n.orientation==="horizontal"&&e.attr("role","menubar"),t.each(r,function(e,t){t._flyout()})},n.prototype._hideAllMenus=function(e){var n=this,r,i,s=function(n){n.getItems().length>0&&(t.each(n.getItems(),function(e,t){s(t)}),n._hideSubmenu(!1,e))};t.each(n._items,function(e,t){s(t)});if(n.options.trigger!==""){r=n.domObject.menucontainer;if(r.data("isAnimated"))return;i=n._getTriggerEle();if(i.length===0)return;n._hideMenu(e)}},n.prototype.hideAllMenus=function(e){this._hideAllMenus(e)},n.prototype._killFlyout=function(){t.each(this.getItems(),function(){this._killFlyout()})},n.prototype._killElement=function(){var e=this,n=e.options,r=e._getSublist();r.removeClass(n.wijCSS.wijmenuList).removeClass(n.wijCSS.helperReset).removeClass(n.wijCSS.wijmenuContent).removeClass(n.wijCSS.helperClearFix),t(document).unbind(e.clickNameSpace),e.element.is("ul")?e.element.unwrap().unwrap():e.element.unwrap(),e.domObject=null,e.element.removeData("topmenu").removeData("firstLeftValue").removeData("domObject"),r.undelegate(".wijmenuEvent")},n.prototype._killMenuItems=function(){var e=this,t=e.getItems(),n;for(n=t.length-1;n>=0;n--)t[n].destroy(!0);e._items.length=0},n.prototype._sroll=function(){var e=this.domObject.scrollcontainer,n=t.extend({hScroller:{scrollBarVisibility:"hidden"}},this.options.superPanelOptions);e.height(this.options.maxHeight),e.wijsuperpanel(n)},n.prototype._initScrollCallback=function(){var e=this,t=e.domObject.scrollcontainer;e._linkContainer={link:null,needToFocus:!1},t.wijsuperpanel({scrolled:function(){var t=e._linkContainer.link;e._linkContainer.needToFocus&&t&&t.is("a")&&(t.focus(),e._linkContainer.needToFocus=!1)}})},n.prototype._resetScroll=function(e){var t=this,n=t._rootMenu.parent(),r=5,i=t.domObject.scrollcontainer,s=e._getSublist();n.height(s.height()),i.wijsuperpanel("option","hScroller",{scrollValue:0}),i.wijsuperpanel("option","vScroller",{scrollValue:0}),i.wijsuperpanel("paintPanel"),t._hasScroll()&&(s.prev().length>0&&(r=s.prev().css("padding-left").replace(/px/g,"")),s.width(i.find(".wijmo-wijsuperpanel-contentwrapper:first").width()-r),n.height(s.height()),i.wijsuperpanel("paintPanel"))},n.prototype._hasScroll=function(){var e=this.domObject.scrollcontainer;return e.data("wijmoWijsuperpanel").vNeedScrollBar},n.prototype._resetDrillChildMenu=function(e){var t=this.options;e.removeClass(t.wijCSS.wijmenuScroll).removeClass(t.wijCSS.wijmenuCurrent).height("auto")},n.prototype._resetDrilldownMenu=function(e,n){var r=this,i=r.options,s=r._getSublist(),o=r.domObject.menucontainer,u=t("<li>"+i.crumbDefaultText+"</li>").addClass(i.wijCSS.wijmenuBreadcrumbText),a=function(e){t.each(e,function(e,t){var n=t._getSublist(),i=t.getItems();n.hide(),r._resetDrillChildMenu(n),i.length>0&&a(i)})};t("."+i.wijCSS.wijmenuCurrent,o).removeClass(i.wijCSS.wijmenuCurrent),s.animate({left:0},i.showDuration,null,function(){a(r.getItems()),s.addClass(i.wijCSS.wijmenuCurrent),n&&n()}),t("."+i.wijCSS.wijmenuAllLists,o).find("span").remove(),e.empty().append(u),t("."+i.wijCSS.wijmenuFooter,o).empty().hide(),r._resetScroll(r)},n.prototype._drilldown=function(){var e=this,r=e._getSublist(),i=e.domObject.menucontainer.attr("role","menu"),s,o=e.options,u=o.direction,a=t("<ul></ul>").addClass(o.wijCSS.wijmenuBreadcrumb).addClass(o.wijCSS.stateDefault).addClass(o.wijCSS.cornerAll).addClass(o.wijCSS.helperClearFix),f=t("<li>"+o.crumbDefaultText+"</li>").addClass(o.wijCSS.wijmenuBreadcrumbText),l=t('<li><a href="#">'+o.topLinkText+"</a></li>").addClass(o.wijCSS.wijmenuAllLists);r.wrap("<div>").parent().css("position","relative"),i.addClass(o.wijCSS.wijmenuIpod).addClass(o.wijCSS.wijmenuContainer),o.backLink?a.addClass(o.wijCSS.wijmenuFooter).appendTo(i).hide():a.addClass(o.wijCSS.wijmenuHeader).prependTo(i),o.backLink||a.append(f),s=i.width(),r.addClass(o.wijCSS.wijmenuContent).addClass(o.wijCSS.wijmenuCurrent).addClass(o.wijCSS.content).addClass(o.wijCSS.helperClearFix).css({width:s}),t.each(e.getItems(),function(e,t){t._setDrilldownUlStyle()}),e._sroll(),e._initScrollCallback(),e._resetScroll(e),e.element.data("firstLeftValue",parseFloat(r.css("left"))),r.delegate("li>."+o.wijCSS.wijmenuLink,"click",function(s,f){var c=t(this).parent(),h=c.attr("disabled"),p,d,v,m,g,y,b,w,E,S=n._getItemWidget(c),x,T;if(e._getDisabled()||h)return;if(e._isSliding)return;r.stop(!0,!0),E=n._hasVisibleSubMenus(S);if(!E){e._leafNodeClick(s,S,a);return}p=S._getSublist();if(p.hasClass(o.wijCSS.wijmenuCurrent))return;if(!e._trigger("showing",s,S))return;e._isSliding=!0,d=S._getParentOrMenu()._getSublist(),v=d.data("topmenu")?0:parseFloat(r.css("left")),u==="rtl"?y=Math.round(v+parseFloat(i.width().toString())):y=Math.round(v-parseFloat(i.width().toString())),b=t("."+o.wijCSS.wijmenuFooter,i),w=function(r,s){var u=r,a=t("."+o.wijCSS.wijmenuCurrent,i),f,l;if(a.get(0)===e._getSublist().get(0))return;s?(f=s._getSublist(),l=s):(f=a.parents("ul:eq(0)"),l=n._getItemWidget(a.parent())._getParentOrMenu()),a.hide().attr("aria-expanded","false"),e._resetDrillChildMenu(a),e._resetScroll(l),f.addClass(o.wijCSS.wijmenuCurrent).attr("aria-expanded","true"),f.hasClass(o.wijCSS.wijmenuContent)&&(u.remove(),b.hide())},e._resetDrillChildMenu(d),e._resetScroll(S),e._slidingAnimation(r,y,function(){e._trigger("shown",s,S),e.activate(s,f||S),e.select(s),e._isSliding=!1}),p.show().addClass(o.wijCSS.wijmenuCurrent).attr("aria-expanded","true"),o.backLink?b.find("a").size()===0&&(b.show(),x=t("<span></span>").addClass(o.wijCSS.icon).addClass(o.wijCSS.iconArrowLeft),T=t("<span></span>").addClass(o.wijCSS.wijmenuBacklinktext),e._backLink=t('<a href="#"></a>').append(x).append(T).appendTo(b).click(function(n,s){if(e._getDisabled())return;var o=e._getCurrentItemInSliding(),a=t(this),f;if(!e._trigger("hidding",n,o))return;r.stop(!0,!0);if(u==="rtl")f=Math.round(r.css("left").replace("px",""))-Math.round(i.width());else{f=Math.round(r.css("left").replace("px",""))+Math.round(i.width());if(f>v)return}e._slidingAnimation(r,f,function(){e._trigger("hidden",n,o),w(a),s&&s()}),n.preventDefault()}),T.width(b.width()-x.width()),T.text(o.backLinkText)):(a.find("li").size()===1&&(a.empty().append(l),l.find("a").click(function(n,r){var i=t(this).parent(),s=e._getCurrentItemInSliding();e._slidingMenu(n,i,s,null,function(t){t?(w(null,t),r&&r()):e._resetDrilldownMenu(a,r)}),n.preventDefault()})),t("."+o.wijCSS.wijmenuCurrentCrumb,i).removeClass(o.wijCSS.wijmenuCurrentCrumb),m=S._getLink().text(),g=t("<li></li>").addClass(o.wijCSS.wijmenuCurrentCrumb).append(t('<a href="#">'+m+"</a>").addClass(o.wijCSS.wijmenuCrumb)),g.appendTo(a).find("a").click(function(n,r){if(e._getDisabled())return;var i=t(this).parent(),s;i.is("."+o.wijCSS.wijmenuCurrentCrumb)||(s=e._getCurrentItemInSliding(),e._slidingMenu(n,i,s,S,function(e){w(null,e),r&&r()})),n.preventDefault()}),g.prev().append(t("<span></span>").addClass(o.wijCSS.icon).addClass(o.wijCSS.iconCaratRight))),t(this).attr("href")==="#"&&s.preventDefault()})},n.prototype._slidingMenu=function(e,t,n,r,i){var s=this,o=s._getSublist(),u=s.options.direction,a=s.domObject.menucontainer,f=a.width(),l=t.parent().children().length-1,c,h,p,d,v=function(e,t,n){c=(u==="rtl"?1:-1)*t*f,s._slidingAnimation(o,c,function(){n&&n(e)})},m=function(t,n){var r;if(t!==n){r=s._trigger("hidding",e,t);if(r)return l--,d&&d(),d=function(){s._trigger("hidden",e,t)},m(t.getParent(),n)}return t};h=m(n,r),h!==n&&(v(h,l,function(){d&&d(),i&&i(h)}),p=t.parent().children().eq(l),p.addClass("wijmo-wijmenu-current-crumb").find("span").remove(),p.nextAll().remove())},n.prototype._getCurrentItemInSliding=function(){var e=this,r=e.domObject.menucontainer,i=t(".wijmo-wijmenu-current",r),s=n._getItemWidget(i.parent());return s},n.prototype._leafNodeClick=function(e,t,n){var r=this,i=r.options,s;r.activate(e,t),r.select(e),i.trigger&&(s=r._getTriggerEle(),s.length&&(r._hideMenu(e),r._resetDrilldownMenu(n))),t._getLink().attr("href")==="#"&&e.preventDefault()},n.prototype._slidingAnimation=function(e,t,n){var r=this.options.slidingAnimation;r&&!r.disabled?e.stop(!0,!0).animate({left:t},r.duration,r.easing,n):(e.css("left",t),n.call(this))},n.prototype._killDrilldown=function(){var e=this._getSublist(),n=this.options,r=this.domObject,i={width:"",height:""};e.css(i).removeClass(n.wijCSS.content),r.scrollcontainer&&r.scrollcontainer.parent().length>0&&(r.scrollcontainer.css(i),r.scrollcontainer.wijsuperpanel("destroy"),r.scrollcontainer.removeClass("wijmo-wijsuperpanel").append(e)),e.prevAll().remove(),r.menucontainer.removeClass(n.wijCSS.wijmenuIpod).removeClass(n.wijCSS.wijmenuContainer),t("."+n.wijCSS.wijmenuCurrent,r.menucontainer).removeClass(n.wijCSS.wijmenuCurrent),t("."+n.wijCSS.wijmenuBreadcrumb,r.menucontainer).remove(),e.undelegate("li>."+n.wijCSS.wijmenuLink,"click"),t("ul",e).css({left:"",width:""}),e.css("left",""),r.scrollcontainer=r.menucontainer.children(":first")},n.prototype._displayMenu=function(e){var r=this,i=r.options,s,o,u,a=r.domObject.menucontainer,f=t(e.target),l=!n._hasVisibleSubMenus(r);if(a.is(":visible")||l)return;if(!r._trigger("showing",e,r))return;a.show(),r._setPosition(f),r.nowIndex++,r._setZindex(a,r.nowIndex),a.hide(),s={context:a,show:!0},o=i.direction==="rtl"?"right":"left",u=t.extend({},{option:{direction:o}},i.animation,i.showAnimation),n._animateFlyoutMenu(u,s,function(){r._trigger("shown",e,r)}),r._isClickToOpen=i.triggerEvent==="click",this.element.data("shown",!0)},n.prototype._hideMenu=function(e){var r=this,i=r.options,s=this.domObject.menucontainer,o=n.animations,u,a;if(!this.element.data("shown"))return;if(!r._trigger("hidding",e,r))return;this.element.data("shown",!1),t.fn.wijhide?(u={context:s,show:!1},a=t.extend({},i.animation,i.hideAnimation),s.wijhide(a,o,u,null,function(){r._setZindex(s,null),s.attr("aria-hidden",!0),r._trigger("hidden",e,r)})):(s.hide().attr("aria-hidden",!0),r._setZindex(s,null),r._trigger("hidden",e,r))},n.prototype._setZindex=function(e,n){var r=this.domObject,i;if(!r)return;i=r.menucontainer;if(e.get(0)===i.get(0)){n?i.css("z-index",n):i.css("z-index","");return}n?(e.parent().css("z-index",999),e.css("z-index",n),t.browser.msie&&parseInt(t.browser.version)<8&&i.css("z-index")===0&&i.css("z-index",9950)):(e.css("z-index",""),e.parent().css("z-index",""),t.browser.msie&&parseInt(t.browser.version)<8&&t("ul:visible",this._getSublist()).length===0&&i.css("z-index")===9950&&i.css("z-index",""))},n.prototype._setPosition=function(e){var n=this._getPosition(),r={of:e},i=this.domObject.menucontainer;i.css({left:"0",top:"0",position:"absolute"}),i.position(t.extend(r,n))},n.prototype._getPosition=function(){var e=this.options,n=e.direction,r=n==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"};return r=t.extend(r,e.position),r},n.prototype._getFirstSelectableSubItem=function(){return n._getFirstSelectableSubItem(this)},n.prototype._getLastSelectableSubItem=function(){return n._getLastSelectableSubItem(this)},n.prototype.add=function(e,t){n._add(this,e,t)},n.prototype._getSublist=function(){return this._rootMenu},n.prototype.getItems=function(){return this._items},n.prototype.remove=function(e){n._remove(this,e)},n.prototype._newId=function(){var e=["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],t="",n;for(n=0;n<16;n++)t+=e[Math.round(Math.random()*25)];return t},n.animations={slide:function(e,n){e=t.extend({duration:400,easing:"swing"},e,n),e.show?e.context.stop(!0,!0).animate({height:"show"},e,function(){e.context.attr("aria-hidden",!1)}):e.context.stop(!0,!0).animate({height:"hide"},e,function(){e.context.attr("aria-hidden",!0)})}},n._animateFlyoutMenu=function(r,i,s){var o=i.context;t.fn.wijshow?(o.data("isAnimated",!0),o.wijshow(r,n.animations,i,null,function(){o.data("isAnimated",!1);var e=t.browser;e.msie&&e.version==="9.0"?(o.wrap("<div></div>"),o.unwrap()):e.msie&&e.version==="6.0"&&o.css("overflow",""),o.attr("aria-hidden",!1),s&&s()})):o.show().attr("aria-hidden",!1)},n._getMenuItemOptions=function(n,r){return n?!n.items||!t.isArray(n.items)?{}:r>=n.items.length?{}:n.items[r]:{}},n._getOuterElement=function(n,r){return t(n).filter(function(){return t(this).closest(r).length===0})},n._hasVisibleSubMenus=function(t){var n,r,i;t.jquery?t.data("wijmomenu")?n=t.data(t.data("wijmomenu")):t.data("wijmomenuitem")&&(n=t.data(t.data("wijmomenuitem"))):n=t;if(!n)throw"the arugment 'menuItem' must be an wijmenu or wijmenuitem";r=n.getItems();if(!r.length)return!1;for(i=0;i<r.length;i++)if(r[i].options.displayVisible)return!0;return!1},n._getFirstSelectableSubItem=function(t){var n,r=t.getItems(),i;for(n=0;n<r.length;n++){i=r[n].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return r[n]}return null},n._getLastSelectableSubItem=function(t){var n,r=t.getItems(),i;for(n=r.length-1;n>=0;n--){i=r[n].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return r[n]}return null},n._getSelectableSubItems=function(n,r){return t.grep(n.getItems(),function(e,t){var n=e.options;return n.header||n.separator||n.displayVisible===!1?!1:r(e,t)},!1)},n._add=function(r,i,s){var o=null,u=t("<li></li>"),a=r._getSublist(),f=r.getItems(),l,c,h=!1;typeof i=="string"?/<(h[1-5]|a)[\s\S]*>[\s\S]*<\/\1>/.test(i)&&u.append(i):t.isPlainObject(i)&&(c=jQuery.extend(!0,{},i));if(!a||a.length<=0)a=t("<ul></ul>"),r.element.append(a),h=!0;(!s||isNaN(s)||s>f.length)&&s!==0&&(s=f.length),f.length>0&&f.length!==s?(l=f[s].element,u.insertBefore(l)):a.append(u),o=r._createItemWidget(u,c);if(o===null||o===undefined)return;n._changeCollection(s,r.getItems(),r.options.items,o),r._bindModeEvents?r._bindModeEvents(o,h):o._bindModeEvents(o,h),h&&r._initUlCssClass()},n._changeCollection=function(t,n,r,i){if(!i){n.splice(t,1),r.splice(t,1);return}n.splice(t,0,i),r.splice(t,0,i.options)},n._remove=function(t,n){var r=t.getItems()[n];r&&r.element&&r.element.remove()},n._getItemWidget=function(t){return t.data(t.data("wijmomenuitem"))},n}(e.wijmoWidget);e.wijmenu=r;var i=function(){function e(){this.initSelector=":jqmData(role='wijmenu')",this.wijCSS={wijmenu:"wijmo-wijmenu",wijmenuHorizontal:"wijmo-wijmenu-horizontal",wijmenuCurrent:"wijmo-wijmenu-current",wijmenuCurrentCrumb:"wijmo-wijmenu-current-crumb",wijmenuBreadcrumb:"wijmo-wijmenu-breadcrumb",wijmenuBreadcrumbText:"wijmo-wijmenu-breadcrumb-text",wijmenuItem:"wijmo-wijmenu-item",wijmenuLink:"wijmo-wijmenu-link",wijmenuList:"wijmo-wijmenu-list",wijmenuScroll:"wijmo-wijmenu-scroll",wijmenuContent:"wijmo-wijmenu-content",wijmenuFooter:"wijmo-wijmenu-footer",wijmenuHeader:"wijmo-wijmenu-header",wijmenuContainer:"wijmo-wijmenu-container",wijmenuIpod:"wijmo-wijmenu-ipod",wijmenuCrumb:"wijmo-wijmenu-crumb",wijmenuAllLists:"wijmo-wijmenu-all-lists",wijmenuPrevList:"wijmo-wijmenu-prev-list",wijmenuRtl:"wijmo-wijmenu-rtl",wijmenuBacklinktext:"wijmo-wijmenu-backlinktext"},this.wijMobileCSS={header:"ui-header ui-bar-c",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},this.trigger="",this.triggerEvent="click",this.position={},this.animation={animated:"slide",duration:400,easing:null},this.showAnimation={},this.hideAnimation={animated:"fade",duration:400,easing:null},this.showDelay=400,this.hideDelay=400,this.slidingAnimation={duration:400,easing:null},this.mode="flyout",this.superPanelOptions=null,this.checkable=!1,this.orientation="horizontal",this.direction="ltr",this.maxHeight=200,this.backLink=!0,this.backLinkText="Back",this.topLinkText="All",this.crumbDefaultText="Choose an option",this.select=null,this.focus=null,this.blur=null,this.showing=null,this.shown=null,this.hidding=null,this.hidden=null,this.items=null}return e}();r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new i),function(e){e._map=[],e.link=0,e.separator=1,e.header=2,e.other=3}(e.MarkupType||(e.MarkupType={}));var s=e.MarkupType,o=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._initState=function(){this._items=[],this._resetMarkupValue(),this.options.items||(this.options.items=[])},n.prototype._create=function(){var n=this;n._isMobile&&t.extend(!0,n.options.wijCSS,n.options.wijMobileCSS),n.element.data("wijmomenuitem",t.camelCase(n.widgetFullName)),n._initState(),n._getOrSetOptionsValues(),n._createChildMenuItems(),n._initCssClass(),e.prototype._create.call(this)},n.prototype._refresh=function(){var e=this,t=e.options;e._set_navigateUrl(t.navigateUrl),e._set_target(t.target),e._set_displayVisible(t.displayVisible),e._createChildMenuItems(),e._initCssClass()},n.prototype._setOption=function(n,r){var i=this,s=i.options,o;if(n==="items"){e.prototype._setOption.call(this,n,r),i._set_items(r);return}if(r===s[n])return;e.prototype._setOption.call(this,n,r);if(!t.isFunction(i["_set_"+n]))return;i["_set_"+n](r,!0);switch(n){case"header":case"separator":i._refresh();break;case"displayVisible":o=i.getParent(),o&&o._setSubmenuIcon();break;default:}},n.prototype.index=function(){return this.element.index()},n.prototype._set_selected=function(e){var t=this,n=t.options,r=t._getMenuItemType();r===s.link?t._getLink().toggleClass(n.wijCSS.stateActive,e):t.options.selected=!1},n.prototype._set_items=function(e){var t=this;t._getSublist().remove(),t._items=[],e.length>0&&(t._createChildMenuItems(),t._initUlCssClass()),t._setSubmenuIcon(e.length>0),t._bindModeEvents(t,!0),t._resetMarkupValue()},n.prototype._bindModeEvents=function(e,t){var n=this,r=e._getMenu(),i=r.options;t&&(n._initUlCssClass(),n._setSubmenuIcon(),n._resetMarkupValue()),i.mode==="flyout"?t?(n._killFlyout(),n._flyout()):e._flyout():(n._setDrilldownUlStyle(),e.element.parent().is(":visible")&&r._resetScroll(e._getParentOrMenu()))},n.prototype._set_value=function(e,t){this.options.value=e},n.prototype._set_text=function(e,t){var n=this,r=n.options;e||t?n._setText(e):r.text=n._getText()},n.prototype._set_navigateUrl=function(e,t){var n=this,r=n.options,i=n._getLink();i.is("a")&&(e||t?i.attr("href",e):r.navigateUrl=i.attr("href"))},n.prototype._set_target=function(e,t){var n=this,r=n.options,i=n._getLink();i.is("a")&&(r.target||t?i.attr("target",e):r.target=i.attr("target")||"")},n.prototype._set_iconClass=function(e,n){var r=this,i=r.options,o,u,a,f;if(i.header===!0||i.separator===!0)return;o=r._getLink(),u=o.find("span."+i.wijCSS.wijmenuitemIcon),e?(u.length===0&&(u=t("<span>"),a=o.children("."+i.wijCSS.wijmenuText).wrap("<span>").parent(),a.addClass(i.wijCSS.wijmenuText),a.prepend(u)),u.addClass(e).addClass(i.wijCSS.wijmenuIconLeft).addClass(i.wijCSS.wijmenuitemIcon),n&&r._set_imagePosition(i.imagePosition)):u.length!==0&&(u.remove(),a=o.children("."+i.wijCSS.wijmenuText),f=a.text(),a.html(""),a.text(f)),r._getMenuItemType()===s.other&&o.addClass(i.wijCSS.wijmenuLink).addClass(i.wijCSS.cornerAll)},n.prototype._set_imagePosition=function(e,t){var n=this,r=n.options,i=n._getLink(),s=i.find(">span>span."+r.wijCSS.wijmenuitemIcon),o=e==="right"?r.wijCSS.wijmenuIconRight:r.wijCSS.wijmenuIconLeft;if(s.length===0)return;s.removeClass(r.wijCSS.wijmenuIconRight).removeClass(r.wijCSS.wijmenuIconLeft).addClass(o)},n.prototype._set_separator=function(e,t){var n=this,r=n.element,i=n.options,o=n._getLink();t&&e===!1?(r.html("").removeClass(i.wijCSS.wijmenuSeparator).removeClass(i.wijCSS.widget).removeClass(i.wijCSS.wijmenuItem).removeClass(i.wijCSS.stateDefault).removeClass(i.wijCSS.cornerAll),n._createMenuItemMarkup(s.link).appendTo(r)):e===!0||o.length===0?(i.separator=!0,i.header=!1,n._createMenuItemMarkup(s.separator)):i.separator=!1,n._resetMarkupValue()},n.prototype._set_header=function(e,t){var n=this,r=n.element,i=n.options,o=n._getLink();t&&e===!1?(i.header=!1,r.html("").removeClass(i.wijCSS.header).removeClass(i.wijCSS.cornerAll).removeClass(i.wijCSS.widget).removeClass(i.wijCSS.wijmenuItem).removeClass(i.wijCSS.stateDefault),n._createMenuItemMarkup(s.link).appendTo(r)):e===!0||o.is("h1,h2,h3,h4,h5")?(i.header=!0,i.separator=!1,o.is("h1,h2,h3,h4,h5")||(o.remove(),o=n._createMenuItemMarkup(s.header),r.append(o))):i.header=!1,n._resetMarkupValue()},n.prototype._set_displayVisible=function(e){var t=this,n=t.element;e?n.show():n.hide()},n.prototype._createMenuItemMarkup=function(e){var n=this,r=n.options,i=n.element,o;return e===s.separator?(i.html('<span class="'+r.wijCSS.wijmenuSeparatorContent+'">&nbsp;</span>'),null):(e===s.header?o=t("<h3></h3>").text(r.text):o=t("<a>").text(r.text),o)},n.prototype._getMenuItemType=function(e){var n=this,r=n.options,i=n._getLink();return e&&(r=t.extend({},r,e)),r.separator===!0?s.separator:r.header===!0?s.header:i.length===0?r.text?s.link:s.separator:i.is("a")?s.link:i.is("h1,h2,h3,h4,h5")?s.header:s.other},n.prototype._getOrSetOptionsValues=function(){var e=this,t=e.element,n=e.options,r=e._getLink(),i=e._getMenuItemType();i===s.header?(e._set_header(n.header),e._set_text(n.text)):i===s.separator?e._set_separator(n.separator):(r.length===0?(r=e._createMenuItemMarkup(i),t.append(r)):e._set_text(n.text),e._resetMarkupValue(),e._set_navigateUrl(n.navigateUrl),e._set_target(n.target)),e._set_displayVisible(n.displayVisible),e._set_selected(n.selected)},n.prototype._getText=function(){return this._getLink().text()},n.prototype._setText=function(e){var t=this.element,n=this.options,r;r=t.find(":not(ul)a ."+n.wijCSS.wijmenuText+":first");if(r.length!==0){r.text(e);return}r=t.children("h1,h2,h3,h4,h5").filter(":first");if(r.length!==0){r.text(e);return}r=t.children("a:first");if(r.length!==0){r.text(e);return}},n.prototype._createChildMenuItems=function(){var e=this,n=e.element,i=e._items,s=e.options,o,u,a,f,l;if(s.header===!0||s.separator===!0)return;o=s.items.length,u=e._getSublist(),a=u.children("li").length;if(o>a){u.length===0&&(u=t("<ul>").appendTo(n),e._resetMarkupValue());for(f=0;f<o-a;f++)u.append("<li>")}t.each(e._getChildren(),function(n,s){var o=t(s),u;u=r._getMenuItemOptions(e.options,n),l=e._createItemWidget(o,u),i.push(l),e.options.items[n]=l.options})},n.prototype._createItemWidget=function(e,n){var r=this,i=r.widgetName;return e[i](n),e.data(t.camelCase(r.widgetFullName))},n.prototype._initCssClass=function(){var e=this,t=this.element,n=e.options,r=e._getLink(),i=e._getMenuItemType();i!==s.separator&&t.attr("role","menuitem"),i===s.separator?t.addClass(n.wijCSS.wijmenuSeparator).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll):i===s.header?t.addClass(n.wijCSS.header).addClass(n.wijCSS.cornerAll):(i===s.link?t.hasClass(n.wijCSS.wijmenuItem)||(t.addClass(n.wijCSS.widget).addClass(n.wijCSS.wijmenuItem).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll),r.addClass(n.wijCSS.wijmenuLink).addClass(n.wijCSS.cornerAll),r.wrapInner("<span>").children("span").addClass(n.wijCSS.wijmenuText)):t.addClass(n.wijCSS.widget).addClass(n.wijCSS.wijmenuItem).addClass(n.wijCSS.stateDefault).addClass(n.wijCSS.cornerAll),e._setSubmenuIcon()),e._set_iconClass(n.iconClass),e._set_imagePosition(n.imagePosition),e._initUlCssClass()},n.prototype._initUlCssClass=function(){var e=this.options;this._getSublist().addClass(e.wijCSS.wijmenuList).addClass(e.wijCSS.content).addClass(e.wijCSS.cornerAll).addClass(e.wijCSS.helperClearFix).addClass(e.wijCSS.wijmenuChild).addClass(e.wijCSS.helperReset).hide()},n.prototype._setSubmenuIcon=function(e){var n=this,i=this.options,s=n._getLink(),o=n._getMenu(),u=o.options.direction,a=u==="rtl"?s.children("span."+i.wijCSS.icon+":first"):s.children("span."+i.wijCSS.icon+":last");e===undefined&&(e=r._hasVisibleSubMenus(n)),e&&!s.is(":input")?(a.length===0&&(u==="rtl"?a=t("<span>").prependTo(s):a=t("<span>").appendTo(s)),n._isRoot()&&o.options.orientation==="horizontal"&&o.options.mode==="flyout"?a.addClass(i.wijCSS.icon).addClass(i.wijCSS.iconArrowDown):u==="rtl"?a.addClass(i.wijCSS.icon).addClass(i.wijCSS.iconArrowLeft):a.addClass(i.wijCSS.icon).addClass(i.wijCSS.iconArrowRight)):a.remove()},n.prototype._killFlyout=function(){var e=this.element.attr("role",""),n=this.options;e.removeClass(n.wijCSS.wijmenuParent).unbind(".wijmenuEvent").unbind(".wijmenuitem").children(":first").unbind(".wijmenuEvent").unbind(".wijmenuitem").attr("aria-haspopup",""),this._getSublist().unbind(".wijmenuEvent").unbind(".wijmenuitem"),t.each(this.getItems(),function(){this._killFlyout()})},n.prototype._getItemTriggerEvent=function(){var e=this,n=e.element,r=e._getMenu(),i=r.options,s="default";return i.trigger!==""&&(n.is(i.trigger)||r.element.is(i.trigger)?s=i.triggerEvent:(n.parents("."+i.wijCSS.wijmenuParent).each(function(e,n){if(t(n).is(i.trigger))return s=i.triggerEvent,!1}),s==="default"&&e._isOuterTirggerEle()&&(s=i.triggerEvent))),n.data("triggerEvent",s),s},n.prototype._isOuterTirggerEle=function(){var e=this._getMenu();return r._getOuterElement(e.options.trigger,"."+e.options.wijCSS.wijmenu).length>0},n.prototype._flyout=function(){var e=this,n=e._getMenu(),r=n.options,i=".wijmenuitem",s=t(e.element).attr("aria-haspopup",!0),o,u,a=e._getItemTriggerEvent(),f=s.children("a."+r.wijCSS.wijmenuLink),l=e._getSublist(),c;if(e.getItems().length>0){l.bind("mouseleave"+i,function(t){if(r.disabled)return;u=setTimeout(function(){e._hideCurrentSubmenu(t)},r.hideDelay)}),s.addClass(e.options.wijCSS.wijmenuParent);if(a!=="default"&&r.triggerEvent!=="mouseenter"){switch(r.triggerEvent){case"click":f.bind("click"+i,function(n){if(r.disabled||t(this).hasClass(r.wijCSS.stateDisabled))return;e._showFlyoutSubmenu(n)});break;case"dblclick":f.bind("dblclick"+i,function(n){if(r.disabled||t(this).hasClass(r.wijCSS.stateDisabled))return;e._showFlyoutSubmenu(n)});break;case"rtclick":f.bind("contextmenu"+i,function(n){if(r.disabled||t(this).hasClass(r.wijCSS.stateDisabled))return;e._showFlyoutSubmenu(n),n.preventDefault()})}l.data("notClose",!0)}else f.bind("mouseenter.wijmenuEvent",function(n){if(r.disabled||t(this).hasClass(r.wijCSS.stateDisabled))return;clearTimeout(u),o=setTimeout(function(){e._displaySubmenu(n,null)},r.showDelay)}).bind("mouseleave"+i,function(n){if(r.disabled||t(this).hasClass(r.wijCSS.stateDisabled))return;clearTimeout(o),l.is("ul")||(l=l.children("ul:first")),u=setTimeout(function(){e._hideSubmenu(!1,n)},r.hideDelay)}),e.getItems().length>0&&e._getSublist().bind("mouseenter"+i,function(e){if(r.disabled)return;clearTimeout(u)})}f.bind("click.wijmenuEvent",function(t){c=f.hasClass(r.wijCSS.stateDisabled);if(r.disabled||c)return;if(f.is("a")){if(e._getSublist().length===0)n._hideAllMenus(t);else if(r.trigger===""||s.data("triggerEvent")==="default"||r.triggerEvent==="mouseenter")n._hideAllMenus(t);else{var i=n._currentMenuList,o,u;if(i!==undefined){o=s;if(e._getSublist().length===0)for(u=i.length;u>0;u--){if(i[u-1]===e)break;i[u-1]._hideSubmenu(!1,t)}}}n.activate(t,e)}n.select(t),f.attr("href")==="#"&&t.preventDefault()}).bind("focusin.wijmenuEvent",function(t){c=f.hasClass(r.wijCSS.stateDisabled);if(r.disabled||c)return;f.is("a")&&n.activate(t,e)}),t.each(e.getItems(),function(){this._flyout()})},n.prototype._hideSubmenu=function(e,n){var i=this,s=i._getMenu(),o=s.options,u=r.animations,a,f,l,c=i._getSublist(),h=i._getLink();if(!h.data("subMenuOpened"))return;if(!s._trigger("hidding",n,i))return;h.is("."+o.wijCSS.wijmenuLink)&&(h.data("subMenuOpened",!1),h.removeClass(o.wijCSS.stateActive)),t.fn.wijhide&&e!==!0?(a={context:c,show:!1},f=t.extend({},o.animation,o.hideAnimation),c.wijhide(f,u,a,null,function(){s._setZindex(c,null),c.attr("aria-hidden",!0),s._trigger("hidden",n,i)})):(c.hide().attr("aria-hidden",!0),s._setZindex(c,null),s._trigger("hidden",n,i)),l=s._currentMenuList,l&&(l=t.makeArray(t.map(l,function(e){return e&&e===i?null:e})),s._currentMenuList=t.makeArray(l))},n.prototype._displaySubmenu=function(e,n){var i=this,s=i._getMenu(),o=s.options,u,a,f,l,c=i._getLink(),h=i._getSublist();l=!r._hasVisibleSubMenus(i);if(h.is(":visible")||l)return;if(!s._trigger("showing",e,i))return;c.is("a."+o.wijCSS.wijmenuLink)&&c.data("subMenuOpened",!0),h.show(),this._setMenuItemPosition(),s.nowIndex++,s._setZindex(h,s.nowIndex),h.hide(),u={context:h,show:!0},a=o.direction==="rtl"?"right":"left",o.orientation==="horizontal"&&i._isRoot()&&(a="up"),f=t.extend({},{option:{direction:a}},o.animation,o.showAnimation),r._animateFlyoutMenu(f,u,function(){h.is(":hidden")&&i._hideSubmenu(!0,e),s._trigger("shown",e,i),n&&n()}),s._isClickToOpen=o.triggerEvent==="click",s._currentMenuList===undefined&&(s._currentMenuList=[]),s._currentMenuList.push(i)},n.prototype._setMenuItemPosition=function(){var e=this,n=e._getSublist(),r=e._getMenuItemPosition(),i={of:this._getLink()};n.css({left:"0",top:"0",position:"absolute"}),n.position(t.extend(i,r))},n.prototype._getMenuItemPosition=function(){var e=this,n=this._getMenu(),r=n.options,i=r.direction,s=i==="rtl"?{my:"right top",at:"left top"}:{my:"left top",at:"right top"};return r.orientation==="horizontal"&&e._isRoot()&&(s=i==="rtl"?{my:"right top",at:"right bottom"}:{my:"left top",at:"left bottom"}),s=t.extend(s,r.position),s},n.prototype._getChildren=function(){return this._getSublist().children("li")},n.prototype._setDrilldownUlStyle=function(){var e=this,n=e.options,r=e._getSublist(),i=e._getMenu(),s=i.domObject.menucontainer.width();i.options.direction==="rtl"?r.css({width:s,left:-s}):r.css({width:s,left:s}),r.addClass(n.wijCSS.content),t.each(e.getItems(),function(e,t){t.getItems().length&&this._setDrilldownUlStyle()})},n.prototype._getMenu=function(){var e=this,t=e._menu,n,r;if(!t){n=e.element.parent();while(!n.is("body")&&n.length>0){r=n.data("wijmomenu");if(r)return t=n.data(r),e._menu=t,t;n=n.parent()}throw"An menuitem must be a child of menu"}return t},n.prototype.getParent=function(){var e=this,t=e.element,n,i,s;i=e._parent;if(i!==undefined)return i;s=t.parents("li:first");if(s.length>0){i=r._getItemWidget(s);if(i!==undefined)return e._parent=i,i}n=e._getMenu();if(n._getSublist().get(0)===t.parent().get(0))return e._parent=null,null;throw"An menuitem must be a child of menu or another menuitem"},n.prototype._getParentOrMenu=function(){return this.getParent()||this._getMenu()},n.prototype._getField=function(e){return this.element.data(e)},n.prototype._setField=function(e,t){return this.element.data(e,t)},n.prototype._innerDestroy=function(e){var t=this,n=t.options,r=t.element,i,s=t.getItems(),o=s.length-1;r.removeClass(n.wijCSS.widget).removeClass(n.wijCSS.wijmenuItem).removeClass(n.wijCSS.stateDefault).removeClass(n.wijCSS.cornerAll).removeClass(n.wijCSS.wijmenuParent).removeClass(n.wijCSS.header).removeClass(n.wijCSS.wijmenuSeparator),i=r.children("."+n.wijCSS.wijmenuLink),i.removeClass(n.wijCSS.wijmenuLink).removeClass(n.wijCSS.cornerAll).removeClass(n.wijCSS.stateFocus).removeClass(n.wijCSS.stateHover).removeClass(n.wijCSS.stateActive).html(i.children("."+n.wijCSS.wijmenuText).html()).unbind(".wijmenuitem").unbind(".wijmenuEvent"),r.children("ul").removeClass(n.wijCSS.wijmenuList).removeClass(n.wijCSS.content).removeClass(n.wijCSS.cornerAll).removeClass(n.wijCSS.helperClearFix).removeClass(n.wijCSS.wijmenuChild).removeClass(n.wijCSS.helperReset).attr("role","").attr("aria-activedescendant","").show().css({left:"",top:"",position:""}).attr("hidden",""),r.removeAttr("role"),i.removeAttr("aria-haspopup"),e||t._removeFromParentCollection(),r.removeData("menu").removeData("parent");for(;o>=0;o--)s[o].destroy(!0);t._items.length=0,t._resetMarkupValue()},n.prototype.destroy=function(t){var n=this;n._innerDestroy(t),e.prototype.destroy.call(this)},n.prototype._getFirstSelectableSubItem=function(){return r._getFirstSelectableSubItem(this)},n.prototype._getLastSelectableSubItem=function(){return r._getLastSelectableSubItem(this)},n.prototype.next=function(){var e=this,n=e._getParentOrMenu().getItems(),r,i,s=t.inArray(e,n);if(s===-1)throw"cannot find item from the parent collection";for(r=s+1;r<n.length;r++){i=n[r].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return n[r].element}return null},n.prototype.previous=function(){var e=this,n=e._getParentOrMenu().getItems(),r,i,s=t.inArray(e,n);if(s===-1)throw"cannot find item from the parent collection";for(r=s-1;r>=0;r--){i=n[r].options;if(i.displayVisible!==!1&&!i.header&&!i.separator)return n[r].element}return null},n.prototype._removeFromParentCollection=function(){var e=this,n,i=!1,s;n=e.getParent(),n===null&&(n=e._getMenu(),i=!0),s=t.inArray(e,n.getItems());if(s===-1)return;r._changeCollection(s,n.getItems(),n.options.items,null),n.getItems().length===0&&(i||(n._setSubmenuIcon(!1),n._resetMarkupValue()),n.element.children("ul").remove())},n.prototype._resetMarkupValue=function(){this._sublist=null,this._link=null},n.prototype._hideCurrentSubmenu=function(e){var n=this,r=n._getSublist();if(r.length===0)return;r.data("notClose")||n._hideSubmenu(!1,e),t.each(n.getItems(),function(){this._hideCurrentSubmenu(e)})},n.prototype._showFlyoutSubmenu=function(e,t){var n=this,r=this._getMenu(),i=r._currentMenuList,s;if(i!==undefined)for(s=i.length;s>0;s--){if(i[s-1]===n.getParent())break;i[s-1]._hideSubmenu(!1,e)}n._displaySubmenu(e,t)},n.prototype.getItems=function(){return this._items},n.prototype._getSublist=function(){var e=this;return e._sublist||(e._sublist=this.element.children("ul:first")),e._sublist},n.prototype._getLink=function(){var e=this;return e._link||(e._link=this.element.children(":first")),e._link},n.prototype._isRoot=function(){return this.getParent()===null},n.prototype.add=function(e,t){r._add(this,e,t)},n.prototype.remove=function(e){r._remove(this,e)},n}(e.wijmoWidget);e.wijmenuitem=o,o.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijmenuitem')",wijCSS:{wijmenuitemIcon:"wijmenuitem-icon",wijmenuParent:"wijmo-wijmenu-parent",wijmenuLink:"wijmo-wijmenu-link",wijmenuText:"wijmo-wijmenu-text",wijmenuList:"wijmo-wijmenu-list",wijmenuItem:"wijmo-wijmenu-item",wijmenuSeparator:"wijmo-wijmenu-separator",wijmenuIconLeft:"wijmo-wijmenu-icon-left",wijmenuIconRight:"wijmo-wijmenu-icon-right",wijmenuChild:"wijmo-wijmenu-child",wijmenuSeparatorContent:"wijmo-wijmenu-separator-content"},wijMobileCSS:{header:"ui-header ui-bar-c",content:"ui-body ui-body-c",stateDefault:"ui-btn-up-c",stateHover:"ui-btn-down-c",stateActive:"ui-btn-down-c"},header:!1,separator:!1,value:"",text:"",navigateUrl:"",target:"",iconClass:"",imagePosition:"",displayVisible:!0,selected:!1,items:null}),t.wijmo.registerWidget(n,r.prototype),t.widget("wijmo.wijmenuitem",t.wijmo.widget,o.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n=0,r=0,i=t.effects?t.effects:t,s=i.save,o=i.restore,u=i.createWrapper,a=i.removeWrapper,f=function(){return++n},l=function(){return++r},c=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._setOption=function(t,n){e.prototype._setOption.call(this,t,n);switch(t){case"selected":if(this.options.collapsible&&n===this.options.selected)return;this.select(n);break;case"alignment":this._innerDestroy(!0),this._tabify(!0);break;default:this._tabify(!1)}},n.prototype._create=function(){var t=this,n=this.options;this.element.is(":hidden")&&this.element.wijAddVisibilityObserver&&this.element.wijAddVisibilityObserver(function(){t.element.wijRemoveVisibilityObserver&&t.element.wijRemoveVisibilityObserver();var e=t.element.data("wijtabs"),n=t.element.data("wijmoWijtabs");t._innerDestroy(!0),t.element.data("wijtabs",e),t.element.data("wijmoWijtabs",n),t._tabify(!0)},"wijtabs"),this._tabify(!0),(n.disabledstate||n.disabled)&&this.disable(),e.prototype._create.call(this)},n.prototype.destroy=function(){this._innerDestroy(),e.prototype.destroy.call(this)},n.prototype._tabify=function(e){this.list=this.element.children("ol,ul").eq(0),this.lis=t("li:has(a)",this.list),this.anchors=this.lis.map(function(){return t("a",this)[0]}),this.panels=t([]);var n=this,r=n.options,i=/^#.+/,s,o,u,a,f,l,c,h,p;t.each(n.anchors,function(e,s){var o=t(s).attr("href")||"",u=o.split("#")[0],a,f,l;u&&(u===location.toString().split("#")[0]||(a=t("base")[0])&&u===a.href)&&(o=s.hash,s.href=o),i.test(o)?n.panels=n.panels.add(n._sanitizeSelector(o),n.element):o!=="#"?(t.data(s,"href.tabs",o),t.data(s,"load.tabs",o.replace(/#.*$/,"")),f=n._tabId(s),s.href="#"+f,l=t("#"+f),l.length||(l=t(r.panelTemplate||n._defaults.panelTemplate).attr("id",f).addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS.content).addClass(r.wijCSS.cornerBottom).insertAfter(n.panels[e-1]||n.list),l.data("destroy.tabs",!0)),n.panels=n.panels.add(l)):r.disabledIndexes.push(e)}),s=this._getAlignment(!0),o=this._getAlignment(!1);if(e){this.list.attr("role","tablist"),this.lis.attr("role","tab"),this.panels.attr("role","tabpanel"),this.element.addClass(r.wijCSS.tabs).addClass(r.wijCSS.wijtabs).addClass(r.wijCSS.widget).addClass(r.wijCSS.content).addClass(r.wijCSS.cornerAll).addClass(r.wijCSS.helperClearFix).addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS["tabs"+s]),this.list.addClass(r.wijCSS.tabsNav).addClass(r.wijCSS.helperReset).addClass(r.wijCSS.helperClearFix).addClass(r.wijCSS.header).addClass(r.wijCSS.cornerAll),this.lis.addClass(r.wijCSS.stateDefault).addClass(r.wijCSS["corner"+s]),this.panels.addClass(r.wijCSS.tabsPanel).addClass(r.wijCSS.content).addClass(r.wijCSS["corner"+o]);switch(s){case"Bottom":this.list.appendTo(this.element);break;case"Left":u=t("<div/>").addClass(r.wijCSS.wijtabsContent).appendTo(this.element),this.panels.appendTo(u);break;case"Right":u=t("<div/>").addClass(r.wijCSS.wijtabsContent).insertBefore(this.list),this.panels.appendTo(u);break;case"Top":this.list.prependTo(this.element)}r.sortable&&this.list.sortable&&this.list.sortable({axis:s==="Top"||s==="Bottom"?"x":"y"}),r.selected===undefined?(location.hash&&t.each(this.anchors,function(e,t){if(t.hash===location.hash)return r.selected=e,!1}),typeof r.selected!="number"&&r.cookie&&(r.selected=parseInt(n._cookie(undefined,undefined),10)),typeof r.selected!="number"&&this.lis.filter("."+r.wijCSS.tabsActive).length&&(r.selected=this.lis.index(this.lis.filter("."+r.wijCSS.tabsActive))),r.selected=r.selected||(this.lis.length?0:-1)):r.selected===null&&(r.selected=-1),r.selected=r.selected>=0&&this.anchors[r.selected]||r.selected<0?r.selected:0,r.disabledIndexes=t.unique(r.disabledIndexes.concat(t.map(this.lis.filter("."+r.wijCSS.stateDisabled),function(e,t){return n.lis.index(e)}))).sort(),t.inArray(r.selected,r.disabledIndexes)!==-1&&r.disabledIndexes.splice(t.inArray(r.selected,r.disabledIndexes),1),this.panels.addClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!0),this.lis.removeClass(r.wijCSS.tabsActive).removeClass(r.wijCSS.stateActive).attr("aria-selected",!1),r.selected>=0&&this.anchors.length&&(this.panels.eq(r.selected).removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1),this.lis.eq(r.selected).addClass(r.wijCSS.tabsActive).addClass(r.wijCSS.stateActive).attr("aria-selected",!0),n.element.queue("tabs",function(){n.element.wijTriggerVisibility&&t(n.panels[r.selected]).wijTriggerVisibility(),n._trigger("show",null,n._ui(n.anchors[r.selected],n.panels[r.selected]))}),this.load(r.selected)),t(window).bind("unload",function(){n.lis&&n.lis.add(n.anchors).unbind(".tabs"),n.lis=n.anchors=n.panels=null})}else r.selected=this.lis.index(this.lis.filter("."+r.wijCSS.tabsActive));this.element[r.collapsible?"addClass":"removeClass"](r.wijCSS.tabsCollapsible),r.cookie&&this._cookie(r.selected,r.cookie);for(a=0;a<this.lis.length;a++)f=this.lis[a],t(f)[t.inArray(a,r.disabledIndexes)!==-1&&!t(f).hasClass(r.wijCSS.tabsActive)?"addClass":"removeClass"](r.wijCSS.stateDisabled),t(f).hasClass(r.wijCSS.stateDisabled)&&t(f).attr("aria-disabled",!0);r.cache===!1&&this.anchors.removeData("cache.tabs"),this.lis.add(this.anchors).unbind(".tabs"),!r.disabledState&&!r.disabled&&r.event!=="mouseover"&&(l=function(e,t){t.is(":not(."+r.wijCSS.stateDisabled+")")&&t.addClass(e)},c=function(e,t){t.removeClass(e)},this.lis.bind("mouseover.tabs",function(){l(r.wijCSS.stateHover,t(this))}),this.lis.bind("mouseout.tabs",function(){c(r.wijCSS.stateHover,t(this))}),this.anchors.bind("focus.tabs",function(){l(r.wijCSS.stateFocus,t(this).closest("li"))}),this.anchors.bind("blur.tabs",function(){c(r.wijCSS.stateFocus,t(this).closest("li"))}));if(r.showOption===undefined||r.showOption===null)r.showOption={};this._normalizeBlindOption(r.showOption);if(r.hideOption===undefined||r.hideOption===null)r.hideOption={};this._normalizeBlindOption(r.hideOption),h=(r.showOption.blind||r.showOption.fade)&&r.showOption.duration>0?function(e,i){t(e).closest("li").addClass(r.wijCSS.tabsActive).addClass(r.wijCSS.stateActive).attr("aria-selected",!0),n._showContent(),i.removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1);if(s==="Top"||s==="Bottom"){var o={duration:r.showOption.duration,height:"toggle",opacity:"toggle"};r.showOption.blind||delete o.height,r.showOption.fade||delete o.opacity,i.hide().removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1).animate(o,r.showOption.duration||"normal",function(){n._resetStyle(i),i.wijTriggerVisibility&&i.wijTriggerVisibility(),n._trigger("show",null,n._ui(e,i[0]))})}else n._showContent(),n._blindPanel(i,"show")}:function(e,i){t(e).closest("li").addClass(r.wijCSS.tabsActive).addClass(r.wijCSS.stateActive).attr("aria-selected",!0),n._showContent(),i.removeClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!1),i.wijTriggerVisibility&&i.wijTriggerVisibility(),n._trigger("show",null,n._ui(e,i[0]))},p=(r.hideOption.blind||r.hideOption.fade)&&r.hideOption.duration>0?function(e,t){if(s==="Top"||s==="Bottom"){var i={duration:r.hideOption.duration,height:"toggle",opacity:"toggle"};r.hideOption.blind||delete i.height,r.hideOption.fade||delete i.opacity,t.animate(i,r.hideOption.duration||"normal",function(){n.lis.removeClass(r.wijCSS.tabsActive).removeClass(r.wijCSS.stateActive).attr("aria-selected",!1),t.addClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!0),n._resetStyle(t),n.element.dequeue("tabs")})}else n._saveLayout(),n._blindPanel(t,"hide")}:function(e,t,i){n.lis.removeClass(r.wijCSS.tabsActive).removeClass(r.wijCSS.stateActive).attr("aria-selected",!1),n._hideContent(),t.addClass(r.wijCSS.wijtabsHide).attr("aria-hidden",!0),n.element.dequeue("tabs")},!r.disabledState&&!r.disabled&&this.anchors.bind(r.event+".tabs",function(){var e=this,i=t(this).closest("li"),s=n.panels.filter(":not(."+r.wijCSS.wijtabsHide+")"),o=t(n._sanitizeSelector(this.hash),n.element);if(i.hasClass(r.wijCSS.tabsActive)&&!r.collapsible||i.hasClass(r.wijCSS.stateDisabled)||i.hasClass(r.wijCSS.tabsLoading)||n._trigger("select",null,n._ui(this,o[0]))===!1)return this.blur(),!1;r.selected=n.anchors.index(this),n.abort();if(r.collapsible){if(i.hasClass(r.wijCSS.tabsActive))return r.selected=-1,r.cookie&&n._cookie(r.selected,r.cookie),n.element.queue("tabs",function(){p(e,s)}).dequeue("tabs"),this.blur(),!1;if(!s.length)return r.cookie&&n._cookie(r.selected,r.cookie),n.element.queue("tabs",function(){h(e,o)}),n.load(n.anchors.index(this)),this.blur(),!1}r.cookie&&n._cookie(r.selected,r.cookie);if(!o.length)throw"jQuery UI Tabs: Mismatching fragment identifier.";s.length&&n.element.queue("tabs",function(){p(e,s)}),n.element.queue("tabs",function(){h(e,o)}),n.load(n.anchors.index(this)),t.browser.msie&&this.blur()}),this._initScroller(),this.anchors.bind("click.tabs",function(){return!1})},n.prototype._blindPanel=function(e,n){var r=this,i=r.options,o=e.parent("."+i.wijCSS.wijtabsContent),f=["position","top","left","width"],l=n==="show"?i.showOption:i.hideOption,c,h,p;if(!o.length)return;r.list.width(r.list.width()),s&&s(e,f),e.show(),n==="show"?(e.removeClass(i.wijCSS.wijtabsHide).attr("aria-hidden",!1),e.width(r.element.data("panel.width"))):e.width(e.width()),u?c=u(e).css({overflow:"hidden"}):c=t("<div></div>"),n==="show"&&c.css(t.extend({width:0},l.fade?{opacity:0}:{})),h=t.extend({width:n==="show"?r.element.data("panel.outerWidth"):0},l.fade?{opacity:n==="show"?1:0}:{}),p=r.list.outerWidth(!0),c.animate(h,{duration:l.duration,step:function(){var e=c.outerWidth(!0);r.element.width(p+e),o.width(Math.max(0,r.element.innerWidth()-p-6))},complete:function(){n==="hide"?(r.lis.removeClass(i.wijCSS.tabsActive).removeClass(i.wijCSS.stateActive).attr("aria-selected",!1),e.addClass(i.wijCSS.wijtabsHide).attr("aria-hidden",!0)):e.css("width",""),a&&a(e),n==="show"&&r._restoreLayout(),r._resetStyle(e),e.dequeue(),r.element.dequeue("tabs")}})},n.prototype._hideContent=function(){var e=this.options.wijCSS,t=this.element.find("."+e.wijtabsContent);t.length&&(this._saveLayout(),t.addClass(e.wijtabsHide).attr("aria-hidden",!0),this.element.width(this.list.outerWidth(!0)))},n.prototype._showContent=function(){var e=this.options.wijCSS,t=this.element.find("."+e.wijtabsContent);t.length&&(this._restoreLayout(),t.removeClass(e.wijtabsHide).attr("aria-hidden",!1))},n.prototype._saveLayout=function(){var e=this.options.wijCSS,t=["width","height","overflow"],n=this.panels.filter(":not(."+e.wijtabsHide+")");s&&(s(this.element,t),s(this.list,t),s(this.element.find("."+e.wijtabsContent),t)),this.list.width(this.list.width()),this.element.data("panel.width",n.width()),this.element.data("panel.outerWidth",n.outerWidth(!0))},n.prototype._restoreLayout=function(){var e=this.options.wijCSS,t=["width","height","overflow"];o&&(o(this.element,t),o(this.list,t),o(this.element.find("."+e.wijtabsContent),t))},n.prototype._resetStyle=function(e){e.css({display:""}),t.support.opacity||e[0].style.removeAttribute("filter")},n.prototype._normalizeBlindOption=function(e){e.blind===undefined&&(e.blind=!1),e.fade===undefined&&(e.fade=!1),e.duration===undefined&&(e.duration=200);if(typeof e.duration=="string")try{e.duration=parseInt(e.duration,10)}catch(t){e.duration=200}},n.prototype._initScroller=function(){var e=t.inArray(this._getAlignment(!0),["Top","Bottom"])!==-1,n=0;if(!e)return;t.each(this.lis,function(){n+=t(this).outerWidth(!0)}),!!this.options.scrollable&&this.element.innerWidth()<n?(this.scrollWrap===undefined&&(this.list.wrap("<div class='scrollWrap'></div>"),this.scrollWrap=this.list.parent(),s&&s(this.list,["width","height","overflow"])),this.list.width(n+2),this.scrollWrap.height(this.list.outerHeight(!0)),this.scrollWrap.wijsuperpanel({allowResize:!1,hScroller:{scrollMode:"edge"},vScroller:{scrollBarVisibility:"hidden"}})):this._removeScroller()},n.prototype._ui=function(e,t){return{tab:e,panel:t,index:this.anchors.index(e)}},n.prototype._tabId=function(e){var n=t(e),r,i;if(n.data&&n.data("tabid"))return n.data("tabid");if(e.href&&e.href.length){i=this._getURLParameters(e.href);if(i.tabId)return r=i.tabId,n.data("tabid",r),r}return r=e.title&&e.title.replace(/\s/g,"_").replace(/[^A-Za-z0-9\-_:\.]/g,"")||this.options.idPrefix+f(),n.data("tabid",r),r},n.prototype._getURLParameters=function(e){var n={},r,i;return e.indexOf("?")>-1&&(r=e.split("?")[1],i=r.split("&"),t.each(i,function(e,t){var r=t.split("=");r.length>1&&(n[r[0]]=r[1])})),n},n.prototype._getAlignment=function(e){var t=this.options.alignment||"top";if(e)return t.charAt(0).toUpperCase()+t.substr(1);switch(t){case"top":t="Bottom";break;case"bottom":t="Top";break;case"left":t="Right";break;case"right":t="Left"}return t},n.prototype._sanitizeSelector=function(e){return e.replace(/:/g,"\\:")},n.prototype._innerDestroy=function(e){var n=this.options,r=t("."+n.wijCSS.wijtabsContent);return this.abort(),this._removeScroller(),this.element.unbind(".tabs").removeClass(n.wijCSS.wijtabs).removeClass(n.wijCSS.tabsTop).removeClass(n.wijCSS.tabsBottom).removeClass(n.wijCSS.tabsLeft).removeClass(n.wijCSS.tabsRight).removeClass(n.wijCSS.tabs).removeClass(n.wijCSS.widget).removeClass(n.wijCSS.content).removeClass(n.wijCSS.cornerAll).removeClass(n.wijCSS.tabsCollapsible).removeClass(n.wijCSS.helperClearFix).removeData("tabs").removeAttr("role"),this.list.removeClass(n.wijCSS.tabsNav).removeClass(n.wijCSS.helperReset).removeClass(n.wijCSS.helperClearFix).removeClass(n.wijCSS.header).removeClass(n.wijCSS.cornerAll).removeAttr("role"),t.each(this.anchors,function(e,n){var r=t(n),i=r.data("href.tabs");i&&(n.href=i),r.unbind(".tabs"),t.each(["href","load","cache"],function(e,t){r.removeData(t+".tabs")})}),this.lis.unbind(".tabs").add(this.panels).each(function(r,i){var s=t(i);s.data("destroy.tabs")&&!e?s.remove():s.removeClass(n.wijCSS.stateDefault).removeClass(n.wijCSS.cornerTop).removeClass(n.wijCSS.cornerBottom).removeClass(n.wijCSS.cornerLeft).removeClass(n.wijCSS.cornerRight).removeClass(n.wijCSS.tabsActive).removeClass(n.wijCSS.stateActive).removeClass(n.wijCSS.stateHover).removeClass(n.wijCSS.stateFocus).removeClass(n.wijCSS.stateDisabled).removeClass(n.wijCSS.tabsPanel).removeClass(n.wijCSS.content).removeClass(n.wijCSS.wijtabsHide).css({position:"",left:"",top:""}).removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-selected").removeAttr("aria-disabled")}),r.length&&r.replaceWith(r.contents()),n.cookie&&this._cookie(null,n.cookie),this},n.prototype._cleanup=function(){var e=this.options.wijCSS;this.lis.filter("."+e.tabsLoading).removeClass(e.tabsLoading).find("span:data(label.tabs)").each(function(){var e=t(this);e.html(e.data("label.tabs")).removeData("label.tabs")})},n.prototype._removeScroller=function(){if(!this.scrollWrap)return;this.scrollWrap.wijsuperpanel("destroy").replaceWith(this.scrollWrap.contents()),this.scrollWrap=undefined,o&&o(this.list,["width","height","overflow"])},n.prototype._cookie=function(e,n){var r=this.cookie||(this.cookie=this.options.cookie.name||"ui-tabs-"+l());return t.cookie.apply(null,[r].concat(t.makeArray(arguments)))},n.prototype.abort=function(){return this.element.queue([]),this.panels.stop(!1,!0),this.element.queue("tabs",this.element.queue("tabs").splice(-2,2)),this.xhr&&(this.xhr.abort(),delete this.xhr),this._cleanup(),this},n.prototype.select=function(e){return typeof e=="string"?e=this.anchors.index(this.anchors.filter("[href$="+e+"]")):e===null&&(e=-1),e===-1&&this.options.collapsible&&(e=this.options.selected),this.anchors.eq(e).trigger(this.options.event+".tabs"),this},n.prototype.load=function(e){var n=this,r=n.options,i=n.anchors.eq(e)[0],s=t.data(i,"load.tabs"),o=t("span",i);n.abort();if(!1===n._trigger("beforeShow",null,n._ui(n.anchors[e],n.panels[e]))){n.element.dequeue("tabs");return}if(!s||n.element.queue("tabs").length!==0&&t.data(i,"cache.tabs")){n.element.dequeue("tabs");return}return n.lis.eq(e).addClass(r.wijCSS.tabsLoading),(r.spinner||n._defaults.spinner)&&o.data("label.tabs",o.html()).html(r.spinner||n._defaults.spinner),n.xhr=t.ajax(t.extend({},r.ajaxOptions,{url:s,success:function(s,o){t(n._sanitizeSelector(i.hash),n.element).html(s),n._cleanup(),r.cache&&t.data(i,"cache.tabs",!0),n._trigger("load",null,n._ui(n.anchors[e],n.panels[e]));try{r.ajaxOptions.success(s,o)}catch(u){}},error:function(t,s,o){n._cleanup(),n._trigger("load",null,n._ui(n.anchors[e],n.panels[e]));try{r.ajaxOptions.error(t,s,e,i)}catch(u){}}})),n.element.dequeue("tabs"),n},n.prototype.add=function(e,n,r){r===undefined&&(r=this.anchors.length);var i=this,s=i.options,o=t((s.tabTemplate||i._defaults.tabTemplate).replace(/#\{href\}/g,e).replace(/#\{label\}/g,n)),u=e.indexOf("#")?i._tabId(t("a",o)[0]):e.replace("#",""),a=i._getAlignment(!0),f=i._getAlignment(!1),l=t("#"+u),c;return o.addClass(s.wijCSS.stateDefault).addClass(s.wijCSS["corner"+a]).data("destroy.tabs",!0).attr("role","tab").attr("aria-selected",!1),l.length||(l=t(s.panelTemplate||i._defaults.panelTemplate).attr("id",u).data("destroy.tabs",!0).attr("role","tabpanel")),l.addClass(s.wijCSS.tabsPanel).addClass(s.wijCSS.content).addClass(s.wijCSS["corner"+f]+" "+s.wijCSS.wijtabsHide).attr("aria-hidden",!0),r>=i.lis.length?(o.appendTo(i.list),i.panels.length>0?l.insertAfter(i.panels[i.panels.length-1]):(c=i.element.find("."+s.wijCSS.wijtabsContent),c.length===0&&(c=i.element),l.appendTo(c))):(o.insertBefore(i.lis[r]),l.insertBefore(i.panels[r])),s.disabledIndexes=t.map(s.disabledIndexes,function(e,t){return e>=r?++e:e}),i._removeScroller(),i._tabify(!1),i.anchors.length===1&&(s.selected=0,o.addClass(s.wijCSS.tabsActive).addClass(s.wijCSS.stateActive).attr("aria-selected",!0),l.removeClass(s.wijCSS.wijtabsHide).attr("aria-hidden",!1),i.element.queue("tabs",function(){i.element.wijTriggerVisibility&&t(i.panels[0]).wijTriggerVisibility(),i._trigger("show",null,i._ui(i.anchors[0],i.panels[0]))}),i.load(0)),i._trigger("add",null,i._ui(i.anchors[r],i.panels[r])),i},n.prototype.remove=function(e){var n=this.options,r=this.lis.eq(e).remove(),i=this.panels.eq(e).remove();return r.hasClass(n.wijCSS.tabsActive)&&this.anchors.length>1&&this.select(e+(e+1<this.anchors.length?1:-1)),n.disabledIndexes=t.map(t.grep(n.disabledIndexes,function(t,n){return t!==e},!1),function(t,n){return t>=e?--t:t}),this._removeScroller(),this._tabify(!1),this._trigger("remove",null,this._ui(r.find("a")[0],i[0])),this},n.prototype.enableTab=function(e){var n=this.options;if(t.inArray(e,n.disabledIndexes)===-1)return;return this.lis.eq(e).removeClass(n.wijCSS.stateDisabled).removeAttr("aria-disabled"),n.disabledIndexes=t.grep(n.disabledIndexes,function(t,n){return t!==e},!1),this._trigger("enable",null,this._ui(this.anchors[e],this.panels[e])),this},n.prototype.disableTab=function(e){var t=this.options;return e!==t.selected&&(this.lis.eq(e).addClass(t.wijCSS.stateDisabled).attr("aria-disabled",!0),t.disabledIndexes.push(e),t.disabledIndexes.sort(),this._trigger("disable",null,this._ui(this.anchors[e],this.panels[e]))),this},n.prototype.url=function(e,t){return this.anchors.eq(e).removeData("cache.tabs").data("load.tabs",t),this},n.prototype.length=function(){return this.anchors.length},n}(e.wijmoWidget);e.wijtabs=c,c.prototype._defaults={panelTemplate:"<div></div>",spinner:"<em>Loading&#8230;</em>",tabTemplate:'<li><a href="#{href}"><span>#{label}</span></a></li>'};var h=function(){function e(){this.wijCSS={wijtabs:"wijmo-wijtabs",wijtabsContent:"wijmo-wijtabs-content",wijtabsHide:"wijmo-wijtabs-hide"},this.wijMobileCSS={header:"ui-header ui-bar-c",content:"ui-content ui-body ui-body-c",stateDefault:"ui-btn-up-a",stateActive:"ui-btn-down-b"},this.alignment="top",this.sortable=!1,this.scrollable=!1,this.ajaxOptions=null,this.cache=!1,this.cookie=null,this.collapsible=!1,this.hideOption=null,this.showOption=null,this.disabledIndexes=[],this.event="click",this.idPrefix="ui-tabs-",this.panelTemplate="",this.spinner="",this.tabTemplate="",this.add=null,this.remove=null,this.select=null,this.beforeShow=null,this.show=null,this.load=null,this.disable=null,this.enable=null}return e}();c.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new h),t.wijmo.registerWidget("wijtabs",c.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijvideo",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._create=function(){var e=this,n,r,i,s=e.options.wijCSS,o=e.options,u;window.wijmoApplyWijTouchUtilEvents&&(t=window.wijmoApplyWijTouchUtilEvents(t)),t(this.element).is("video")?this.$video=t(this.element):this.$video=t(this.element).find("video");if(!this.$video||this.$video.length===0||t.browser.msie&&parseInt(t.browser.version,10)<9)return;i=this.$video[0].canPlayType;if(!i)return;this.$video.wrap('<div class="wijmo-wijvideo '+s.content+" "+s.widget+'" />').after('<div class="wijmo-wijvideo-wrapper"><ul class="wijmo-wijvideo-controls '+s.header+" "+s.helperClearFix+" "+s.helperReset+'">'+'<li class="wijmo-wijvideo-play '+s.stateDefault+" "+s.cornerAll+'">'+'<span class="'+s.icon+" "+s.iconPlay+'"></span>'+"</li>"+'<li class="wijmo-wijvideo-index"><div class="wijmo-wijvideo-index-slider"></div></li>'+'<li class="wijmo-wijvideo-timer">00:00</li>'+'<li class="wijmo-wijvideo-volume '+s.stateDefault+" "+s.cornerAll+'">'+'<div class="wijmo-wijvideo-volume-container">'+'<div class="wijmo-wijvideo-volumeslider '+s.stateDefault+" "+s.cornerTop+'"></div>'+"</div>"+'<span class="'+s.icon+" "+s.iconVolumeOn+'"></span>'+"</li>"+'<li class="wijmo-wijvideo-fullscreen '+s.stateDefault+" "+s.cornerAll+'">'+'<span class="'+s.icon+" "+s.iconArrow4Diag+'"></span>'+"</li>"+"</ul>"+"</div>"),this.$vidParent=this.$video.parent(".wijmo-wijvideo"),this.$vidParent.width(this.$video.outerWidth()).height(this.$video.outerHeight()),this.$seekSlider=this.$vidParent.find(".wijmo-wijvideo-index-slider"),e._volumnOn=!0,e.$volumeBtn=this.$vidParent.find(".wijmo-wijvideo-volume"),u=window.setInterval(function(){e._getVideoAttribute("readyState")&&(window.clearInterval(u),e.$vidParent.width(e.$video.outerWidth()).height(e.$video.outerHeight()),e.$video.parent().find(".wijmo-wijvideo-controls").show(),n=e.$vidParent.find(".wijmo-wijvideo-timer").position().left,e.$seekSlider.width(n-e.$seekSlider.position().left-15),e.$seekSlider.slider({value:0,step:.01,max:e._getVideoAttribute("duration"),range:"min",stop:function(t,n){e.seek=!1,e._setVideoAttribute("currentTime",n.value)},slide:function(){e.seek=!0}}),e._updateTime(),e.$volumeSlider=e.$vidParent.find(".wijmo-wijvideo-volumeslider"),e.$volumeSlider.slider({min:0,max:1,value:e._getVideoAttribute("volume"),step:.1,orientation:"vertical",range:"min",slide:function(t,n){e._setVideoAttribute("volume",n.value),n.value===0?(e._volumnOn=!1,e.$volumeBtn.find("span").removeClass(s.iconVolumeOn).addClass(s.iconVolumeOff)):(e._volumnOn=!0,e.$volumeBtn.find("span").removeClass(s.iconVolumeOff).addClass(s.iconVolumeOn))}}),e.$video.parent().find(".wijmo-wijvideo-controls").css("display","none"),e._initialToolTip(),o.showControlsOnHover||(t(".wijmo-wijvideo-controls").show(),e.$vidParent.height(e.$video.outerHeight()+t(".wijmo-wijvideo-controls").height())))},200),this.$video.bind("click."+e.widgetName,function(){e._togglePlay()}),o.showControlsOnHover&&t(".wijmo-wijvideo").hover(function(){t(".wijmo-wijvideo-controls").stop(!0,!0).fadeIn()},function(){t(".wijmo-wijvideo-controls").delay(300).fadeOut()}),r=this.$vidParent.find(".wijmo-wijvideo-play > span"),r.click(function(){e._togglePlay()}).parent().hover(function(){t(this).addClass(s.stateHover)},function(){t(this).removeClass(s.stateHover)}),this.$vidParent.find(".wijmo-wijvideo-volume").hover(function(){t(".wijmo-wijvideo-volume-container").stop(!0,!0).slideToggle()}),this.$fullScreenBtn=this.$vidParent.find(".wijmo-wijvideo-fullscreen > span"),this.$fullScreenBtn.click(function(){e._toggleFullScreen()}).parent().hover(function(){t(this).addClass(s.stateHover)},function(){t(this).removeClass(s.stateHover)}),e.options.fullScreenButtonVisible||this.$vidParent.find(".wijmo-wijvideo-fullscreen").hide(),this.$volumeBtn.hover(function(){t(this).addClass(s.stateHover)},function(){t(this).removeClass(s.stateHover)}).click(function(){e._getVideoAttribute("readyState")&&(e._volumnOn=!e._volumnOn,e._volumnOn?(e.$volumeSlider.slider("value",e.currentVolumn?e.currentVolumn:1),e._setVideoAttribute("volume",e.currentVolumn?e.currentVolumn:1),e.$volumeBtn.find("span").removeClass(s.iconVolumeOff).addClass(s.iconVolumeOn)):(e.currentVolumn=e.$volumeSlider.slider("value"),e.$volumeSlider.slider("value",0),e._setVideoAttribute("volume",0),e.$volumeBtn.find("span").removeClass(s.iconVolumeOn).addClass(s.iconVolumeOff)))}),this.$video.bind("play."+e.widgetName,function(){r.removeClass(s.icon+" "+s.iconPlay).addClass(s.icon+" "+s.iconPause)}),this.$video.bind("pause."+e.widgetName,function(){r.removeClass(s.icon+" "+s.iconPause).addClass(s.icon+" "+s.iconPlay)}),this.$video.bind("ended."+e.widgetName,function(){e.pause()}),this.$video.bind("timeupdate."+e.widgetName,function(){e._updateTime()}),e._videoIsControls=!1,e._getVideoAttribute("controls")&&(e._videoIsControls=!0),this.$video.removeAttr("controls"),e.element.is(":hidden")&&e.element.wijAddVisibilityObserver&&e.element.wijAddVisibilityObserver(function(){e._refresh(),e.element.wijRemoveVisibilityObserver&&e.element.wijRemoveVisibilityObserver()},"wijvideo"),e.options.disabled&&e._handleDisabledOption(!0,e.element)},n.prototype._setOption=function(n,r){var i=this,s=i.options;e.prototype._setOption.call(this,n,r),n==="fullScreenButtonVisible"?(s.fullScreenButtonVisible=r,r?this.$vidParent.find(".wijmo-wijvideo-fullscreen").show():this.$vidParent.find(".wijmo-wijvideo-fullscreen").hide()):n==="disabled"?i._handleDisabledOption(r,i.element):n==="showControlsOnHover"&&(r?(this.$vidParent.height(this.$video.outerHeight()),t(".wijmo-wijvideo-controls").hide(),t(".wijmo-wijvideo").hover(function(){t(".wijmo-wijvideo-controls").stop(!0,!0).fadeIn()},function(){t(".wijmo-wijvideo-controls").delay(300).fadeOut()})):(t(".wijmo-wijvideo").unbind("mouseenter mouseleave"),window.setTimeout(function(){t(".wijmo-wijvideo-controls").show(),i.$vidParent.height(i.$video.outerHeight()+t(".wijmo-wijvideo-controls").height())},200)))},n.prototype._handleDisabledOption=function(e,n){var r=this;e?(r.disabledDiv||(r.disabledDiv=r._createDisabledDiv(n)),r.disabledDiv.appendTo("body"),t.browser.msie&&(t(".wijmo-wijvideo").unbind("mouseenter mouseleave"),this.$video.unbind("click."+r.widgetName))):r.disabledDiv&&(r.disabledDiv.remove(),r.disabledDiv=null,t.browser.msie&&(t(".wijmo-wijvideo").hover(function(){t(".wijmo-wijvideo-controls").stop(!0,!0).fadeIn()},function(){t(".wijmo-wijvideo-controls").delay(300).fadeOut()}),this.$video.bind("click."+r.widgetName,function(){r._togglePlay()})))},n.prototype._createDisabledDiv=function(e){var n=this.$vidParent,r=n.offset(),i=n.outerWidth(),s=n.outerHeight();return t("<div></div>").addClass("ui-disabled").css({"z-index":"99999",position:"absolute",width:i,height:s,left:r.left,top:r.top})},n.prototype._getVideoAttribute=function(e){if(e==="")return;return this.$video.prop(e)},n.prototype._setVideoAttribute=function(e,t){if(e==="")return;return this.$video.prop(e,t)},n.prototype._initialToolTip=function(){var e=this;this.$seekSlider.wijtooltip({mouseTrailing:!0,showCallout:!1,position:{offset:"-60 -60"}}),this.$seekSlider.bind("mousemove",function(t,n){e._changeToolTipContent(t)}),this.$volumeBtn.wijtooltip({content:e._localizeString("volumeToolTip","Volume"),showCallout:!1}),this.$fullScreenBtn.wijtooltip({content:e._localizeString("fullScreenToolTip","Full Screen"),showCallout:!1}),this.$seekSlider.wijtooltip("widget").addClass("wijmo-wijvideo"),this.$volumeBtn.wijtooltip("widget").addClass("wijmo-wijvideo"),this.$volumeBtn.wijtooltip("widget").addClass("wijmo-wijvideo")},n.prototype._updateTime=function(){var e=this,t=e._getVideoAttribute("duration"),n=e._getVideoAttribute("currentTime"),r,i,s="",o="";r=this._truncate((t-n)/60),i=this._truncate(t-n-r*60),r<10&&(s="0"),i<10&&(o="0"),this.$vidParent.find(".wijmo-wijvideo-timer").html(s+r+":"+o+i),this.seek||this.$seekSlider.slider("value",n)},n.prototype._truncate=function(e){return Math[e>0?"floor":"ceil"](e)},n.prototype._togglePlay=function(){var e=this;if(!e._getVideoAttribute("readyState"))return;e._getVideoAttribute("paused")?this.play():this.pause()},n.prototype._toggleFullScreen=function(){var e=this,n=e._getVideoAttribute("paused"),r=0,i=t(window).width(),s=t(window).height();this.fullScreen=!this.fullScreen,this.fullScreen?(e._oriVidParentStyle=this.$vidParent.attr("style"),e._oriWidth=this.$video.outerWidth(),e._oriHeight=this.$video.outerHeight(),e._oriDocOverFlow=t(document.documentElement).css("overflow"),t(document.documentElement).css({overflow:"hidden"}),e._replacedDiv||(e._replacedDiv=t("<div />")),this.$vidParent.after(e._replacedDiv),this.$vidParent.addClass("wijmo-wijvideo-container-fullscreen").css({width:i,height:s}).appendTo(t("body")),this.$video.attr("width",i).attr("height",s),t(window).bind("resize.wijvideo",function(){e._fullscreenOnWindowResize()}),r=i-e._oriWidth):(t(document.documentElement).css({overflow:e._oriDocOverFlow}),r=e._oriWidth-this.$video.width(),e._replacedDiv.after(this.$vidParent).remove(),this.$vidParent.removeClass("wijmo-wijvideo-container-fullscreen").attr("style","").attr("style",e._oriVidParentStyle),this.$video.attr("width",e._oriWidth).attr("height",e._oriHeight),t(window).unbind("resize.wijvideo")),e._positionControls(r),e._hideToolTips(),n?e.pause():e.play()},n.prototype._fullscreenOnWindowResize=function(){var e=this,n=t(window).width(),r=t(window).height(),i=n-this.$vidParent.width();this.$vidParent.css({width:n,height:r}),this.$video.attr("width",n).attr("height",r),e._positionControls(i)},n.prototype._positionControls=function(e){var t=this.$vidParent.find(".wijmo-wijvideo-index-slider");t.width(t.width()+e)},n.prototype._showToolTip=function(e){var t=this,n=e.pageX,r=e.pageY,i=this.$seekSlider.offset().left,s=this.$seekSlider.width(),o=n-i,u=t._getVideoAttribute("duration"),a;a=u*(o/s),this.$seekSlider.wijtooltip("option","content",t._getToolTipContent(a)),this.$seekSlider.wijtooltip("showAt",{x:n,y:r-10})},n.prototype._changeToolTipContent=function(e){var t=this,n=e.pageX,r=this.$seekSlider.offset().left,i=this.$seekSlider.width(),s=n-r,o=t._getVideoAttribute("duration"),u;u=o*(s/i),this.$seekSlider.wijtooltip("option","content",t._getToolTipContent(u))},n.prototype._hideToolTips=function(){this.$seekSlider.data("wijmoWijtooltip")&&this.$seekSlider.wijtooltip("hide"),this.$volumeBtn.data("wijmoWijtooltip")&&this.$volumeBtn.wijtooltip("hide"),this.$fullScreenBtn.data("wijmoWijtooltip")&&this.$fullScreenBtn.wijtooltip("hide")},n.prototype._localizeString=function(e,t){var n=this.options;return n.localization&&n.localization[e]?n.localization[e]:t},n.prototype._getToolTipContent=function(e){var t,n,r="",i="";return t=parseInt((e/60).toString(),10),n=parseInt((e-t*60).toString(),10),t<10&&(r="0"),n<10&&(i="0"),r+t+":"+i+n},n.prototype._refresh=function(){var e;this.$video.parent().find(".wijmo-wijvideo-controls").show(),e=this.$vidParent.find(".wijmo-wijvideo-timer").position().left,this.$seekSlider.width(e-this.$seekSlider.position().left-15),this.$video.parent().find(".wijmo-wijvideo-controls").css("display","none"),this.options.showControlsOnHover||(t(".wijmo-wijvideo-controls",this.$vidParent).show(),this.$vidParent.height(this.$video.outerHeight()+t(".wijmo-wijvideo-controls").height()))},n.prototype.destroy=function(){var t=this;e.prototype.destroy.call(this),this.$vidParent.after(this.$video).remove(),this.$video.unbind("."+t.widgetName),t._videoIsControls&&t._setVideoAttribute("controls",!0)},n.prototype.play=function(){this.$video[0].play()},n.prototype.pause=function(){this.$video[0].pause()},n.prototype.getWidth=function(){return this.$video.outerWidth()},n.prototype.setWidth=function(e){e=e||600;var t=this.getWidth();this.$video.attr("width",e),this.$vidParent.width(this.$video.outerWidth()),this._positionControls(this.getWidth()-t)},n.prototype.getHeight=function(){return this.$video.outerHeight()},n.prototype.setHeight=function(e){e=e||400,this.$video.attr("height",e),this.options.showControlsOnHover?this.$vidParent.height(this.$video.outerHeight()):this.$vidParent.height(this.$video.outerHeight()+t(".wijmo-wijvideo-controls").height())},n}(e.wijmoWidget);e.wijvideo=r;var i=function(){function e(){this.initSelector=":jqmData(role='wijvideo')",this.wijCSS={iconVolumeOn:"ui-icon-volume-on",iconVolumeOff:"ui-icon-volume-off"},this.fullScreenButtonVisible=!0,this.showControlsOnHover=!0,this.localization=null}return e}();r.prototype.options=t.extend(!0,{},e.wijmoWidget.prototype.options,new i),t.wijmo.registerWidget("wijvideo",r.prototype)})(wijmo||(wijmo={}));;
var __extends=this.__extends||function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n},wijmo;(function(e){"use strict";var t=jQuery,n="wijlistview",r=function(e){function n(){e.apply(this,arguments)}return __extends(n,e),n.prototype._baseWidget=function(){return t.mobile.listview},n}(e.wijmoWidget);e.wijlistview=r,t.mobile&&(r.prototype.options=t.extend({},t.mobile.listview.prototype.options,e.wijmoWidget.prototype.options,{initSelector:":jqmData(role='wijlistview')"}),t.wijmo.registerWidget(n,t.mobile.listview,r.prototype))})(wijmo||(wijmo={}));